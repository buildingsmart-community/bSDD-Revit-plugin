(function(xt,y){typeof exports=="object"&&typeof module<"u"?y(exports,require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-dom"],y):(xt=typeof globalThis<"u"?globalThis:xt||self,y(xt.BsddSearch={},xt.React,xt.ReactDOM))})(this,function(xt,y,Xn){"use strict";var N0=Object.defineProperty;var x0=(xt,y,Xn)=>y in xt?N0(xt,y,{enumerable:!0,configurable:!0,writable:!0,value:Xn}):xt[y]=Xn;var wn=(xt,y,Xn)=>(x0(xt,typeof y!="symbol"?y+"":y,Xn),Xn);function Ed(o){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(o){for(const t in o)if(t!=="default"){const r=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:()=>o[t]})}}return e.default=o,Object.freeze(e)}const Ie=Ed(y),cC=Ed(Xn);var si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ja={exports:{}},ai={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td;function lC(){if(Td)return ai;Td=1;var o=y,e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,f){var g,p={},v=null,E=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(E=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(p[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)p[g]===void 0&&(p[g]=d[g]);return{$$typeof:e,type:u,key:v,ref:E,props:p,_owner:s.current}}return ai.Fragment=t,ai.jsx=c,ai.jsxs=c,ai}var ci={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad;function uC(){return Ad||(Ad=1,process.env.NODE_ENV!=="production"&&function(){var o=y,e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),A=Symbol.iterator,b="@@iterator";function _(S){if(S===null||typeof S!="object")return null;var z=A&&S[A]||S[b];return typeof z=="function"?z:null}var N=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function R(S){{for(var z=arguments.length,Y=new Array(z>1?z-1:0),ye=1;ye<z;ye++)Y[ye-1]=arguments[ye];P("error",S,Y)}}function P(S,z,Y){{var ye=N.ReactDebugCurrentFrame,Ue=ye.getStackAddendum();Ue!==""&&(z+="%s",Y=Y.concat([Ue]));var Ke=Y.map(function(Pe){return String(Pe)});Ke.unshift("Warning: "+z),Function.prototype.apply.call(console[S],console,Ke)}}var x=!1,L=!1,H=!1,W=!1,B=!1,Q;Q=Symbol.for("react.module.reference");function re(S){return!!(typeof S=="string"||typeof S=="function"||S===r||S===a||B||S===s||S===f||S===g||W||S===E||x||L||H||typeof S=="object"&&S!==null&&(S.$$typeof===v||S.$$typeof===p||S.$$typeof===c||S.$$typeof===u||S.$$typeof===d||S.$$typeof===Q||S.getModuleId!==void 0))}function pe(S,z,Y){var ye=S.displayName;if(ye)return ye;var Ue=z.displayName||z.name||"";return Ue!==""?Y+"("+Ue+")":Y}function se(S){return S.displayName||"Context"}function de(S){if(S==null)return null;if(typeof S.tag=="number"&&R("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof S=="function")return S.displayName||S.name||null;if(typeof S=="string")return S;switch(S){case r:return"Fragment";case t:return"Portal";case a:return"Profiler";case s:return"StrictMode";case f:return"Suspense";case g:return"SuspenseList"}if(typeof S=="object")switch(S.$$typeof){case u:var z=S;return se(z)+".Consumer";case c:var Y=S;return se(Y._context)+".Provider";case d:return pe(S,S.render,"ForwardRef");case p:var ye=S.displayName||null;return ye!==null?ye:de(S.type)||"Memo";case v:{var Ue=S,Ke=Ue._payload,Pe=Ue._init;try{return de(Pe(Ke))}catch{return null}}}return null}var ne=Object.assign,me=0,Z,J,ae,ce,Ne,xe,ht;function Ze(){}Ze.__reactDisabledLog=!0;function qn(){{if(me===0){Z=console.log,J=console.info,ae=console.warn,ce=console.error,Ne=console.group,xe=console.groupCollapsed,ht=console.groupEnd;var S={configurable:!0,enumerable:!0,value:Ze,writable:!0};Object.defineProperties(console,{info:S,log:S,warn:S,error:S,group:S,groupCollapsed:S,groupEnd:S})}me++}}function Ht(){{if(me--,me===0){var S={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:ne({},S,{value:Z}),info:ne({},S,{value:J}),warn:ne({},S,{value:ae}),error:ne({},S,{value:ce}),group:ne({},S,{value:Ne}),groupCollapsed:ne({},S,{value:xe}),groupEnd:ne({},S,{value:ht})})}me<0&&R("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Ft=N.ReactCurrentDispatcher,Zt;function bt(S,z,Y){{if(Zt===void 0)try{throw Error()}catch(Ue){var ye=Ue.stack.trim().match(/\n( *(at )?)/);Zt=ye&&ye[1]||""}return`
`+Zt+S}}var kt=!1,en;{var In=typeof WeakMap=="function"?WeakMap:Map;en=new In}function zt(S,z){if(!S||kt)return"";{var Y=en.get(S);if(Y!==void 0)return Y}var ye;kt=!0;var Ue=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Ke;Ke=Ft.current,Ft.current=null,qn();try{if(z){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(nn){ye=nn}Reflect.construct(S,[],Pe)}else{try{Pe.call()}catch(nn){ye=nn}S.call(Pe.prototype)}}else{try{throw Error()}catch(nn){ye=nn}S()}}catch(nn){if(nn&&ye&&typeof nn.stack=="string"){for(var _e=nn.stack.split(`
`),Pt=ye.stack.split(`
`),ot=_e.length-1,at=Pt.length-1;ot>=1&&at>=0&&_e[ot]!==Pt[at];)at--;for(;ot>=1&&at>=0;ot--,at--)if(_e[ot]!==Pt[at]){if(ot!==1||at!==1)do if(ot--,at--,at<0||_e[ot]!==Pt[at]){var tn=`
`+_e[ot].replace(" at new "," at ");return S.displayName&&tn.includes("<anonymous>")&&(tn=tn.replace("<anonymous>",S.displayName)),typeof S=="function"&&en.set(S,tn),tn}while(ot>=1&&at>=0);break}}}finally{kt=!1,Ft.current=Ke,Ht(),Error.prepareStackTrace=Ue}var Vn=S?S.displayName||S.name:"",ua=Vn?bt(Vn):"";return typeof S=="function"&&en.set(S,ua),ua}function qt(S,z,Y){return zt(S,!1)}function De(S){var z=S.prototype;return!!(z&&z.isReactComponent)}function tt(S,z,Y){if(S==null)return"";if(typeof S=="function")return zt(S,De(S));if(typeof S=="string")return bt(S);switch(S){case f:return bt("Suspense");case g:return bt("SuspenseList")}if(typeof S=="object")switch(S.$$typeof){case d:return qt(S.render);case p:return tt(S.type,z,Y);case v:{var ye=S,Ue=ye._payload,Ke=ye._init;try{return tt(Ke(Ue),z,Y)}catch{}}}return""}var hn=Object.prototype.hasOwnProperty,je={},fn=N.ReactDebugCurrentFrame;function Bt(S){if(S){var z=S._owner,Y=tt(S.type,S._source,z?z.type:null);fn.setExtraStackFrame(Y)}else fn.setExtraStackFrame(null)}function st(S,z,Y,ye,Ue){{var Ke=Function.call.bind(hn);for(var Pe in S)if(Ke(S,Pe)){var _e=void 0;try{if(typeof S[Pe]!="function"){var Pt=Error((ye||"React class")+": "+Y+" type `"+Pe+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof S[Pe]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Pt.name="Invariant Violation",Pt}_e=S[Pe](z,Pe,ye,Y,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ot){_e=ot}_e&&!(_e instanceof Error)&&(Bt(Ue),R("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ye||"React class",Y,Pe,typeof _e),Bt(null)),_e instanceof Error&&!(_e.message in je)&&(je[_e.message]=!0,Bt(Ue),R("Failed %s type: %s",Y,_e.message),Bt(null))}}}var mt=Array.isArray;function Wt(S){return mt(S)}function Vt(S){{var z=typeof Symbol=="function"&&Symbol.toStringTag,Y=z&&S[Symbol.toStringTag]||S.constructor.name||"Object";return Y}}function Kt(S){try{return St(S),!1}catch{return!0}}function St(S){return""+S}function co(S){if(Kt(S))return R("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Vt(S)),St(S)}var Wn=N.ReactCurrentOwner,Ur={key:!0,ref:!0,__self:!0,__source:!0},Go,zo,lo;lo={};function Mi(S){if(hn.call(S,"ref")){var z=Object.getOwnPropertyDescriptor(S,"ref").get;if(z&&z.isReactWarning)return!1}return S.ref!==void 0}function Li(S){if(hn.call(S,"key")){var z=Object.getOwnPropertyDescriptor(S,"key").get;if(z&&z.isReactWarning)return!1}return S.key!==void 0}function Di(S,z){if(typeof S.ref=="string"&&Wn.current&&z&&Wn.current.stateNode!==z){var Y=de(Wn.current.type);lo[Y]||(R('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',de(Wn.current.type),S.ref),lo[Y]=!0)}}function Ui(S,z){{var Y=function(){Go||(Go=!0,R("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",z))};Y.isReactWarning=!0,Object.defineProperty(S,"key",{get:Y,configurable:!0})}}function Hi(S,z){{var Y=function(){zo||(zo=!0,R("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",z))};Y.isReactWarning=!0,Object.defineProperty(S,"ref",{get:Y,configurable:!0})}}var Fi=function(S,z,Y,ye,Ue,Ke,Pe){var _e={$$typeof:e,type:S,key:z,ref:Y,props:Pe,_owner:Ke};return _e._store={},Object.defineProperty(_e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(_e,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ye}),Object.defineProperty(_e,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Ue}),Object.freeze&&(Object.freeze(_e.props),Object.freeze(_e)),_e};function iu(S,z,Y,ye,Ue){{var Ke,Pe={},_e=null,Pt=null;Y!==void 0&&(co(Y),_e=""+Y),Li(z)&&(co(z.key),_e=""+z.key),Mi(z)&&(Pt=z.ref,Di(z,Ue));for(Ke in z)hn.call(z,Ke)&&!Ur.hasOwnProperty(Ke)&&(Pe[Ke]=z[Ke]);if(S&&S.defaultProps){var ot=S.defaultProps;for(Ke in ot)Pe[Ke]===void 0&&(Pe[Ke]=ot[Ke])}if(_e||Pt){var at=typeof S=="function"?S.displayName||S.name||"Unknown":S;_e&&Ui(Pe,at),Pt&&Hi(Pe,at)}return Fi(S,_e,Pt,Ue,ye,Wn.current,Pe)}}var Bi=N.ReactCurrentOwner,ra=N.ReactDebugCurrentFrame;function yr(S){if(S){var z=S._owner,Y=tt(S.type,S._source,z?z.type:null);ra.setExtraStackFrame(Y)}else ra.setExtraStackFrame(null)}var qo;qo=!1;function Ki(S){return typeof S=="object"&&S!==null&&S.$$typeof===e}function oa(){{if(Bi.current){var S=de(Bi.current.type);if(S)return`

Check the render method of \``+S+"`."}return""}}function su(S){{if(S!==void 0){var z=S.fileName.replace(/^.*[\\\/]/,""),Y=S.lineNumber;return`

Check your code at `+z+":"+Y+"."}return""}}var ia={};function sa(S){{var z=oa();if(!z){var Y=typeof S=="string"?S:S.displayName||S.name;Y&&(z=`

Check the top-level render call using <`+Y+">.")}return z}}function aa(S,z){{if(!S._store||S._store.validated||S.key!=null)return;S._store.validated=!0;var Y=sa(z);if(ia[Y])return;ia[Y]=!0;var ye="";S&&S._owner&&S._owner!==Bi.current&&(ye=" It was passed a child from "+de(S._owner.type)+"."),yr(S),R('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Y,ye),yr(null)}}function ca(S,z){{if(typeof S!="object")return;if(Wt(S))for(var Y=0;Y<S.length;Y++){var ye=S[Y];Ki(ye)&&aa(ye,z)}else if(Ki(S))S._store&&(S._store.validated=!0);else if(S){var Ue=_(S);if(typeof Ue=="function"&&Ue!==S.entries)for(var Ke=Ue.call(S),Pe;!(Pe=Ke.next()).done;)Ki(Pe.value)&&aa(Pe.value,z)}}}function au(S){{var z=S.type;if(z==null||typeof z=="string")return;var Y;if(typeof z=="function")Y=z.propTypes;else if(typeof z=="object"&&(z.$$typeof===d||z.$$typeof===p))Y=z.propTypes;else return;if(Y){var ye=de(z);st(Y,S.props,"prop",ye,S)}else if(z.PropTypes!==void 0&&!qo){qo=!0;var Ue=de(z);R("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Ue||"Unknown")}typeof z.getDefaultProps=="function"&&!z.getDefaultProps.isReactClassApproved&&R("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function $i(S){{for(var z=Object.keys(S.props),Y=0;Y<z.length;Y++){var ye=z[Y];if(ye!=="children"&&ye!=="key"){yr(S),R("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ye),yr(null);break}}S.ref!==null&&(yr(S),R("Invalid attribute `ref` supplied to `React.Fragment`."),yr(null))}}function la(S,z,Y,ye,Ue,Ke){{var Pe=re(S);if(!Pe){var _e="";(S===void 0||typeof S=="object"&&S!==null&&Object.keys(S).length===0)&&(_e+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Pt=su(Ue);Pt?_e+=Pt:_e+=oa();var ot;S===null?ot="null":Wt(S)?ot="array":S!==void 0&&S.$$typeof===e?(ot="<"+(de(S.type)||"Unknown")+" />",_e=" Did you accidentally export a JSX literal instead of a component?"):ot=typeof S,R("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ot,_e)}var at=iu(S,z,Y,Ue,Ke);if(at==null)return at;if(Pe){var tn=z.children;if(tn!==void 0)if(ye)if(Wt(tn)){for(var Vn=0;Vn<tn.length;Vn++)ca(tn[Vn],S);Object.freeze&&Object.freeze(tn)}else R("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ca(tn,S)}return S===r?$i(at):au(at),at}}function Gi(S,z,Y){return la(S,z,Y,!0)}function cu(S,z,Y){return la(S,z,Y,!1)}var lu=cu,uu=Gi;ci.Fragment=r,ci.jsx=lu,ci.jsxs=uu}()),ci}process.env.NODE_ENV==="production"?Ja.exports=lC():Ja.exports=uC();var Ee=Ja.exports,li={},ui=Xn;if(process.env.NODE_ENV==="production")li.createRoot=ui.createRoot,li.hydrateRoot=ui.hydrateRoot;else{var is=ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;li.createRoot=function(o,e){is.usingClientEntryPoint=!0;try{return ui.createRoot(o,e)}finally{is.usingClientEntryPoint=!1}},li.hydrateRoot=function(o,e,t){is.usingClientEntryPoint=!0;try{return ui.hydrateRoot(o,e,t)}finally{is.usingClientEntryPoint=!1}}}/*! @azure/msal-common v14.7.1 2024-02-17 */const U={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},ss={SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR_RANGE_START:400,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR_RANGE_START:500,SERVER_ERROR_RANGE_END:599},di=[U.OPENID_SCOPE,U.PROFILE_SCOPE,U.OFFLINE_ACCESS_SCOPE],bd=[...di,U.EMAIL_SCOPE],Zn={CONTENT_TYPE:"Content-Type",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},vt={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Ir={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},as={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},wt={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},Sd={PLAIN:"plain",S256:"S256"},hi={QUERY:"query",FRAGMENT:"fragment"},dC={...hi,FORM_POST:"form_post"},_d={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},cs={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},Mt={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},ge={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Xa="appmetadata",hC="client_info",fi="1",ls={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},cn={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},It={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},qe={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},gi={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},Id={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Rd={username:"username",password:"password"},us={httpSuccess:200,httpBadRequest:400},wo={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},Za={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},Rr={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},fC={Jwt:"JWT",Jwk:"JWK",Pop:"pop"};/*! @azure/msal-common v14.7.1 2024-02-17 */const ec="unexpected_error",gC="post_request_failed";/*! @azure/msal-common v14.7.1 2024-02-17 */const kd={[ec]:"Unexpected error in authentication.",[gC]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Je extends Error{constructor(e,t,r){const s=t?`${e}: ${t}`:e;super(s),Object.setPrototypeOf(this,Je.prototype),this.errorCode=e||U.EMPTY_STRING,this.errorMessage=t||U.EMPTY_STRING,this.subError=r||U.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function Pd(o,e){return new Je(o,e?`${kd[o]} ${e}`:kd[o])}/*! @azure/msal-common v14.7.1 2024-02-17 */const tc="client_info_decoding_error",Od="client_info_empty_error",nc="token_parsing_error",Nd="null_or_empty_token",cr="endpoints_resolution_error",xd="network_error",Md="openid_config_error",Ld="hash_not_deserialized",Eo="invalid_state",Dd="state_mismatch",ds="state_not_found",Ud="nonce_mismatch",rc="auth_time_not_found",Hd="max_age_transpired",pC="multiple_matching_tokens",mC="multiple_matching_accounts",Fd="multiple_matching_appMetadata",Bd="request_cannot_be_made",Kd="cannot_remove_empty_scope",$d="cannot_append_scopeset",oc="empty_input_scopeset",yC="device_code_polling_cancelled",CC="device_code_expired",vC="device_code_unknown_error",ic="no_account_in_silent_request",Gd="invalid_cache_record",sc="invalid_cache_environment",ac="no_account_found",cc="no_crypto_object",lc="unexpected_credential_type",wC="invalid_assertion",EC="invalid_client_credential",kr="token_refresh_required",TC="user_timeout_reached",zd="token_claims_cnf_required_for_signedjwt",qd="authorization_code_missing_from_server_response",Wd="binding_key_not_removed",Vd="end_session_endpoint_not_supported",uc="key_id_missing",AC="no_network_connectivity",bC="user_canceled",SC="missing_tenant_id_error",be="method_not_implemented",_C="nested_app_auth_bridge_disabled";/*! @azure/msal-common v14.7.1 2024-02-17 */const Yd={[tc]:"The client info could not be parsed/decoded correctly",[Od]:"The client info was empty",[nc]:"Token cannot be parsed",[Nd]:"The token is null or empty",[cr]:"Endpoints cannot be resolved",[xd]:"Network request failed",[Md]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Ld]:"The hash parameters could not be deserialized",[Eo]:"State was not the expected format",[Dd]:"State mismatch error",[ds]:"State not found",[Ud]:"Nonce mismatch error",[rc]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Hd]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[pC]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[mC]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Fd]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Bd]:"Token request cannot be made without authorization code or refresh token.",[Kd]:"Cannot remove null or empty scope from ScopeSet",[$d]:"Cannot append ScopeSet",[oc]:"Empty input ScopeSet cannot be processed",[yC]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[CC]:"Device code is expired.",[vC]:"Device code stopped polling for unknown reasons.",[ic]:"Please pass an account object, silent flow is not supported without account information",[Gd]:"Cache record object was null or undefined.",[sc]:"Invalid environment when attempting to create cache entry",[ac]:"No account found in cache for given key.",[cc]:"No crypto object detected.",[lc]:"Unexpected credential type.",[wC]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[EC]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[kr]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[TC]:"User defined timeout for device code polling reached",[zd]:"Cannot generate a POP jwt if the token_claims are not populated",[qd]:"Server response does not contain an authorization code to proceed",[Wd]:"Could not remove the credential's binding key from storage.",[Vd]:"The provided authority does not support logout",[uc]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[AC]:"No network connectivity. Check your internet connection.",[bC]:"User cancelled the flow.",[SC]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[be]:"This method has not been implemented",[_C]:"The nested app auth bridge is disabled"};class hs extends Je{constructor(e,t){super(e,t?`${Yd[e]}: ${t}`:Yd[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,hs.prototype)}}function q(o,e){return new hs(o,e)}/*! @azure/msal-common v14.7.1 2024-02-17 */const fs={createNewGuid:()=>{throw q(be)},base64Decode:()=>{throw q(be)},base64Encode:()=>{throw q(be)},async getPublicKeyThumbprint(){throw q(be)},async removeTokenBindingKey(){throw q(be)},async clearKeystore(){throw q(be)},async signJwt(){throw q(be)},async hashString(){throw q(be)}};/*! @azure/msal-common v14.7.1 2024-02-17 */var We;(function(o){o[o.Error=0]="Error",o[o.Warning=1]="Warning",o[o.Info=2]="Info",o[o.Verbose=3]="Verbose",o[o.Trace=4]="Trace"})(We||(We={}));class Pr{constructor(e,t,r){this.level=We.Info;const s=()=>{},a=e||Pr.createDefaultLoggerOptions();this.localCallback=a.loggerCallback||s,this.piiLoggingEnabled=a.piiLoggingEnabled||!1,this.level=typeof a.logLevel=="number"?a.logLevel:We.Info,this.correlationId=a.correlationId||U.EMPTY_STRING,this.packageName=t||U.EMPTY_STRING,this.packageVersion=r||U.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:We.Info}}clone(e,t,r){return new Pr({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const a=`${`[${new Date().toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${We[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,a,t.containsPii||!1)}executeCallback(e,t,r){this.localCallback&&this.localCallback(e,t,r)}error(e,t){this.logMessage(e,{logLevel:We.Error,containsPii:!1,correlationId:t||U.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:We.Error,containsPii:!0,correlationId:t||U.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:We.Warning,containsPii:!1,correlationId:t||U.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:We.Warning,containsPii:!0,correlationId:t||U.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:We.Info,containsPii:!1,correlationId:t||U.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:We.Info,containsPii:!0,correlationId:t||U.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:We.Verbose,containsPii:!1,correlationId:t||U.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:We.Verbose,containsPii:!0,correlationId:t||U.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:We.Trace,containsPii:!1,correlationId:t||U.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:We.Trace,containsPii:!0,correlationId:t||U.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v14.7.1 2024-02-17 */const jd="@azure/msal-common",dc="14.7.1";/*! @azure/msal-common v14.7.1 2024-02-17 */const hc={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};/*! @azure/msal-common v14.7.1 2024-02-17 */function Vr(o,e){const t=IC(o);try{const r=e(t);return JSON.parse(r)}catch{throw q(nc)}}function IC(o){if(!o)throw q(Nd);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(o);if(!t||t.length<4)throw q(nc);return t[2]}function Qd(o,e){if(e===0||Date.now()-3e5>o+e)throw q(Hd)}/*! @azure/msal-common v14.7.1 2024-02-17 */function er(){return Math.round(new Date().getTime()/1e3)}function fc(o,e){const t=Number(o)||0;return er()+e>t}function RC(o){return Number(o)>er()}/*! @azure/msal-common v14.7.1 2024-02-17 */function To(o){return[kC(o),PC(o),OC(o),NC(o),xC(o)].join(Mt.CACHE_KEY_SEPARATOR).toLowerCase()}function gs(o,e,t,r,s){return{credentialType:ge.ID_TOKEN,homeAccountId:o,environment:e,clientId:r,secret:t,realm:s}}function ps(o,e,t,r,s,a,c,u,d,f,g,p,v,E,A){var _,N;const b={homeAccountId:o,credentialType:ge.ACCESS_TOKEN,secret:t,cachedAt:er().toString(),expiresOn:c.toString(),extendedExpiresOn:u.toString(),environment:e,clientId:r,realm:s,target:a,tokenType:g||qe.BEARER};if(p&&(b.userAssertionHash=p),f&&(b.refreshOn=f.toString()),E&&(b.requestedClaims=E,b.requestedClaimsHash=A),((_=b.tokenType)==null?void 0:_.toLowerCase())!==qe.BEARER.toLowerCase())switch(b.credentialType=ge.ACCESS_TOKEN_WITH_AUTH_SCHEME,b.tokenType){case qe.POP:const R=Vr(t,d);if(!((N=R==null?void 0:R.cnf)!=null&&N.kid))throw q(zd);b.keyId=R.cnf.kid;break;case qe.SSH:b.keyId=v}return b}function Jd(o,e,t,r,s,a,c){const u={credentialType:ge.REFRESH_TOKEN,homeAccountId:o,environment:e,clientId:r,secret:t};return a&&(u.userAssertionHash=a),s&&(u.familyId=s),c&&(u.expiresOn=c.toString()),u}function gc(o){return o.hasOwnProperty("homeAccountId")&&o.hasOwnProperty("environment")&&o.hasOwnProperty("credentialType")&&o.hasOwnProperty("clientId")&&o.hasOwnProperty("secret")}function Xd(o){return o?gc(o)&&o.hasOwnProperty("realm")&&o.hasOwnProperty("target")&&(o.credentialType===ge.ACCESS_TOKEN||o.credentialType===ge.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function Zd(o){return o?gc(o)&&o.hasOwnProperty("realm")&&o.credentialType===ge.ID_TOKEN:!1}function eh(o){return o?gc(o)&&o.credentialType===ge.REFRESH_TOKEN:!1}function kC(o){return[o.homeAccountId,o.environment].join(Mt.CACHE_KEY_SEPARATOR).toLowerCase()}function PC(o){const e=o.credentialType===ge.REFRESH_TOKEN&&o.familyId||o.clientId;return[o.credentialType,e,o.realm||""].join(Mt.CACHE_KEY_SEPARATOR).toLowerCase()}function OC(o){return(o.target||"").toLowerCase()}function NC(o){return(o.requestedClaimsHash||"").toLowerCase()}function xC(o){return o.tokenType&&o.tokenType.toLowerCase()!==qe.BEARER.toLowerCase()?o.tokenType.toLowerCase():""}function MC(o,e){const t=o.indexOf(It.CACHE_KEY)===0;let r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),t&&r}function LC(o,e){let t=!1;o&&(t=o.indexOf(gi.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),t&&r}function DC({environment:o,clientId:e}){return[Xa,o,e].join(Mt.CACHE_KEY_SEPARATOR).toLowerCase()}function UC(o,e){return e?o.indexOf(Xa)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function HC(o,e){return e?o.indexOf(ls.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function th(){return er()+ls.REFRESH_TIME_SECONDS}function ms(o,e,t){o.authorization_endpoint=e.authorization_endpoint,o.token_endpoint=e.token_endpoint,o.end_session_endpoint=e.end_session_endpoint,o.issuer=e.issuer,o.endpointsFromNetwork=t,o.jwks_uri=e.jwks_uri}function pc(o,e,t){o.aliases=e.aliases,o.preferred_cache=e.preferred_cache,o.preferred_network=e.preferred_network,o.aliasesFromNetwork=t}function nh(o){return o.expiresAt<=er()}/*! @azure/msal-common v14.7.1 2024-02-17 */const rh="redirect_uri_empty",FC="claims_request_parsing_error",oh="authority_uri_insecure",pi="url_parse_error",ih="empty_url_error",sh="empty_input_scopes_error",ah="invalid_prompt_value",mc="invalid_claims",ch="token_request_empty",lh="logout_request_empty",uh="invalid_code_challenge_method",yc="pkce_params_missing",Cc="invalid_cloud_discovery_metadata",dh="invalid_authority_metadata",hh="untrusted_authority",ys="missing_ssh_jwk",fh="missing_ssh_kid",BC="missing_nonce_authentication_header",KC="invalid_authentication_header",gh="cannot_set_OIDCOptions",ph="cannot_allow_native_broker",mh="authority_mismatch";/*! @azure/msal-common v14.7.1 2024-02-17 */const $C={[rh]:"A redirect URI is required for all calls, and none has been set.",[FC]:"Could not parse the given claims request object.",[oh]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[pi]:"URL could not be parsed into appropriate segments.",[ih]:"URL was empty or null.",[sh]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[ah]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[mc]:"Given claims parameter must be a stringified JSON object.",[ch]:"Token request was empty and not found in cache.",[lh]:"The logout request was null or undefined.",[uh]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[yc]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Cc]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[dh]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[hh]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[ys]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[fh]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[BC]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[KC]:"Invalid authentication header provided",[gh]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[ph]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[mh]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class vc extends Je{constructor(e){super(e,$C[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,vc.prototype)}}function Ve(o){return new vc(o)}/*! @azure/msal-common v14.7.1 2024-02-17 */class Dn{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return Object.keys(t).length===0}catch{}return!0}static startsWith(e,t){return e.indexOf(t)===0}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},r=e.split("&"),s=a=>decodeURIComponent(a.replace(/\+/g," "));return r.forEach(a=>{if(a.trim()){const[c,u]=a.split(/=(.+)/g,2);c&&u&&(t[s(c)]=s(u))}}),t}static trimArrayEntries(e){return e.map(t=>t.trim())}static removeEmptyStringsFromArray(e){return e.filter(t=>!!t)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}/*! @azure/msal-common v14.7.1 2024-02-17 */class dt{constructor(e){const t=e?Dn.trimArrayEntries([...e]):[],r=t?Dn.removeEmptyStringsFromArray(t):[];this.validateInputScopes(r),this.scopes=new Set,r.forEach(s=>this.scopes.add(s))}static fromString(e){const r=(e||U.EMPTY_STRING).split(" ");return new dt(r)}static createSearchScopes(e){const t=new dt(e);return t.containsOnlyOIDCScopes()?t.removeScope(U.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw Ve(sh)}containsScope(e){const t=this.printScopesLowerCase().split(" "),r=new dt(t);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(t=>this.containsScope(t))}containsOnlyOIDCScopes(){let e=0;return bd.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(t=>this.appendScope(t))}catch{throw q($d)}}removeScope(e){if(!e)throw q(Kd);this.scopes.delete(e.trim())}removeOIDCScopes(){bd.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw q(oc);const t=new Set;return e.scopes.forEach(r=>t.add(r.toLowerCase())),this.scopes.forEach(r=>t.add(r.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw q(oc);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),r=e.getScopeCount(),s=this.getScopeCount();return t.size<s+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):U.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v14.7.1 2024-02-17 */function Cs(o,e){if(!o)throw q(Od);try{const t=e(o);return JSON.parse(t)}catch{throw q(tc)}}function Ao(o){if(!o)throw q(tc);const e=o.split(Mt.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?U.EMPTY_STRING:e[1]}}/*! @azure/msal-common v14.7.1 2024-02-17 */function wc(o,e){return!!o&&!!e&&o===e.split(".")[1]}function Ec(o,e){const{oid:t,sub:r,tid:s,name:a,tfp:c,acr:u}=e,d=s||c||u||"";return{tenantId:d,localAccountId:t||r||"",name:a,isHomeTenant:wc(d,o)}}function Tc(o,e,t,r){let s=o;if(e){const{isHomeTenant:a,...c}=e;s={...o,...c}}if(t){const{isHomeTenant:a,...c}=Ec(o.homeAccountId,t);return s={...s,...c,idTokenClaims:t,idToken:r},s}return s}/*! @azure/msal-common v14.7.1 2024-02-17 */const Un={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v14.7.1 2024-02-17 */function yh(o){return o&&(o.tid||o.tfp||o.acr)||null}/*! @azure/msal-common v14.7.1 2024-02-17 */const lr={AAD:"AAD",OIDC:"OIDC"};/*! @azure/msal-common v14.7.1 2024-02-17 */class ft{generateAccountId(){return[this.homeAccountId,this.environment].join(Mt.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return ft.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(Mt.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,r){const s=new ft;t.authorityType===Un.Adfs?s.authorityType=cs.ADFS_ACCOUNT_TYPE:t.protocolMode===lr.AAD?s.authorityType=cs.MSSTS_ACCOUNT_TYPE:s.authorityType=cs.GENERIC_ACCOUNT_TYPE;let a;e.clientInfo&&r&&(a=Cs(e.clientInfo,r)),s.clientInfo=e.clientInfo,s.homeAccountId=e.homeAccountId,s.nativeAccountId=e.nativeAccountId;const c=e.environment||t&&t.getPreferredCache();if(!c)throw q(sc);s.environment=c,s.realm=(a==null?void 0:a.utid)||yh(e.idTokenClaims)||"",s.localAccountId=(a==null?void 0:a.uid)||e.idTokenClaims.oid||e.idTokenClaims.sub||"";const u=e.idTokenClaims.preferred_username||e.idTokenClaims.upn,d=e.idTokenClaims.emails?e.idTokenClaims.emails[0]:null;if(s.username=u||d||"",s.name=e.idTokenClaims.name,s.cloudGraphHostName=e.cloudGraphHostName,s.msGraphHost=e.msGraphHost,e.tenantProfiles)s.tenantProfiles=e.tenantProfiles;else{const f=[];if(e.idTokenClaims){const g=Ec(e.homeAccountId,e.idTokenClaims);f.push(g)}s.tenantProfiles=f}return s}static createFromAccountInfo(e,t,r){var a;const s=new ft;return s.authorityType=e.authorityType||cs.GENERIC_ACCOUNT_TYPE,s.homeAccountId=e.homeAccountId,s.localAccountId=e.localAccountId,s.nativeAccountId=e.nativeAccountId,s.realm=e.tenantId,s.environment=e.environment,s.username=e.username,s.name=e.name,s.cloudGraphHostName=t,s.msGraphHost=r,s.tenantProfiles=Array.from(((a=e.tenantProfiles)==null?void 0:a.values())||[]),s}static generateHomeAccountId(e,t,r,s,a){if(!(t===Un.Adfs||t===Un.Dsts)){if(e)try{const c=Cs(e,s.base64Decode);if(c.uid&&c.utid)return`${c.uid}.${c.utid}`}catch{}r.warning("No client info in response")}return(a==null?void 0:a.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,t,r){if(!e||!t)return!1;let s=!0;if(r){const a=e.idTokenClaims||{},c=t.idTokenClaims||{};s=a.iat===c.iat&&a.nonce===c.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&s}}/*! @azure/msal-common v14.7.1 2024-02-17 */function Ch(o){return o.startsWith("#/")?o.substring(2):o.startsWith("#")||o.startsWith("?")?o.substring(1):o}function vs(o){if(!o||o.indexOf("=")<0)return null;try{const e=Ch(o),t=Object.fromEntries(new URLSearchParams(e));if(t.code||t.error||t.error_description||t.state)return t}catch{throw q(Ld)}return null}/*! @azure/msal-common v14.7.1 2024-02-17 */class Le{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Ve(ih);e.includes("#")||(this._urlString=Le.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return Dn.endsWith(t,"?")?t=t.slice(0,-1):Dn.endsWith(t,"?/")&&(t=t.slice(0,-2)),Dn.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw Ve(pi)}if(!e.HostNameAndPort||!e.PathSegments)throw Ve(pi);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw Ve(oh)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return Le.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),r=t.PathSegments;return e&&r.length!==0&&(r[0]===Ir.COMMON||r[0]===Ir.ORGANIZATIONS)&&(r[0]=e),Le.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw Ve(pi);const r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let s=r.AbsolutePath.split("/");return s=s.filter(a=>a&&a.length>0),r.PathSegments=s,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw Ve(pi);return r[2]}static getAbsoluteUrl(e,t){if(e[0]===U.FORWARD_SLASH){const s=new Le(t).getUrlComponents();return s.Protocol+"//"+s.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Le(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!vs(e)}}/*! @azure/msal-common v14.7.1 2024-02-17 */const vh={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},wh=vh.endpointMetadata,Ac=vh.instanceDiscoveryMetadata,Eh=new Set;Ac.metadata.forEach(o=>{o.aliases.forEach(e=>{Eh.add(e)})});function GC(o,e){var s;let t;const r=o.canonicalAuthority;if(r){const a=new Le(r).getUrlComponents().HostNameAndPort;t=Th(a,(s=o.cloudDiscoveryMetadata)==null?void 0:s.metadata,cn.CONFIG,e)||Th(a,Ac.metadata,cn.HARDCODED_VALUES,e)||o.knownAuthorities}return t||[]}function Th(o,e,t,r){if(r==null||r.trace(`getAliasesFromMetadata called with source: ${t}`),o&&e){const s=ws(e,o);if(s)return r==null||r.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${t}, returning aliases`),s.aliases;r==null||r.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${t}`)}return null}function zC(o){return ws(Ac.metadata,o)}function ws(o,e){for(let t=0;t<o.length;t++){const r=o[t];if(r.aliases.includes(e))return r}return null}/*! @azure/msal-common v14.7.1 2024-02-17 */class bo{constructor(e,t,r,s){this.clientId=e,this.cryptoImpl=t,this.commonLogger=r.clone(jd,dc),this.staticAuthorityOptions=s}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);return t.length>1?t.sort(s=>s.idTokenClaims?-1:1)[0]:t.length===1?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap(r=>this.getAccountInfoForTenantProfiles(r,t))}getAccountInfoForTenantProfiles(e,t){return this.getTenantProfilesFromAccountEntity(e,t==null?void 0:t.tenantId,t)}getTenantedAccountInfoByFilter(e,t,r,s){let a=null,c;if(s&&!this.tenantProfileMatchesFilter(r,s))return null;const u=this.getIdToken(e,t,r.tenantId);return u&&(c=Vr(u.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(c,s))?null:(a=Tc(e,r,c,u==null?void 0:u.secret),a)}getTenantProfilesFromAccountEntity(e,t,r){const s=e.getAccountInfo();let a=s.tenantProfiles||new Map;const c=this.getTokenKeys();if(t){const d=a.get(t);if(d)a=new Map([[t,d]]);else return[]}const u=[];return a.forEach(d=>{const f=this.getTenantedAccountInfoByFilter(s,c,d,r);f&&u.push(f)}),u}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId)||t.name&&e.name!==t.name||t.isHomeTenant!==void 0&&e.isHomeTenant!==t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return!(t&&(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId)||t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint)||t.username&&!this.matchUsername(e.preferred_username,t.username)||t.name&&!this.matchName(e,t.name)||t.sid&&!this.matchSid(e,t.sid)))}async saveCacheRecord(e,t){if(!e)throw q(Gd);e.account&&this.setAccount(e.account),e.idToken&&(t==null?void 0:t.idToken)!==!1&&this.setIdTokenCredential(e.idToken),e.accessToken&&(t==null?void 0:t.accessToken)!==!1&&await this.saveAccessToken(e.accessToken),e.refreshToken&&(t==null?void 0:t.refreshToken)!==!1&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}async saveAccessToken(e){const t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),s=dt.fromString(e.target),a=[];r.accessToken.forEach(c=>{if(!this.accessTokenKeyMatchesFilter(c,t,!1))return;const u=this.getAccessTokenCredential(c);u&&this.credentialMatchesFilter(u,t)&&dt.fromString(u.target).intersectingScopeSets(s)&&a.push(this.removeAccessToken(c))}),await Promise.all(a),this.setAccessTokenCredential(e)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),r=[];return t.forEach(s=>{var d;if(!this.isAccountKey(s,e.homeAccountId))return;const a=this.getAccount(s,this.commonLogger);if(!a||e.homeAccountId&&!this.matchHomeAccountId(a,e.homeAccountId)||e.username&&!this.matchUsername(a.username,e.username)||e.environment&&!this.matchEnvironment(a,e.environment)||e.realm&&!this.matchRealm(a,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(a,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(a,e.authorityType))return;const c={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},u=(d=a.tenantProfiles)==null?void 0:d.filter(f=>this.tenantProfileMatchesFilter(f,c));u&&u.length===0||r.push(a)}),r}isAccountKey(e,t,r){return!(e.split(Mt.CACHE_KEY_SEPARATOR).length<3||t&&!e.toLowerCase().includes(t.toLowerCase())||r&&!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(Mt.CACHE_KEY_SEPARATOR).length<6)return!1;const t=e.toLowerCase();if(t.indexOf(ge.ID_TOKEN.toLowerCase())===-1&&t.indexOf(ge.ACCESS_TOKEN.toLowerCase())===-1&&t.indexOf(ge.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&t.indexOf(ge.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(t.indexOf(ge.REFRESH_TOKEN.toLowerCase())>-1){const r=`${ge.REFRESH_TOKEN}${Mt.CACHE_KEY_SEPARATOR}${this.clientId}${Mt.CACHE_KEY_SEPARATOR}`,s=`${ge.REFRESH_TOKEN}${Mt.CACHE_KEY_SEPARATOR}${fi}${Mt.CACHE_KEY_SEPARATOR}`;if(t.indexOf(r.toLowerCase())===-1&&t.indexOf(s.toLowerCase())===-1)return!1}else if(t.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,t){return!(t.clientId&&!this.matchClientId(e,t.clientId)||t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash)||typeof t.homeAccountId=="string"&&!this.matchHomeAccountId(e,t.homeAccountId)||t.environment&&!this.matchEnvironment(e,t.environment)||t.realm&&!this.matchRealm(e,t.realm)||t.credentialType&&!this.matchCredentialType(e,t.credentialType)||t.familyId&&!this.matchFamilyId(e,t.familyId)||t.target&&!this.matchTarget(e,t.target)||(t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash||e.credentialType===ge.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(t.tokenType&&!this.matchTokenType(e,t.tokenType)||t.tokenType===qe.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId)))}getAppMetadataFilteredBy(e){return this.getAppMetadataFilteredByInternal(e.environment,e.clientId)}getAppMetadataFilteredByInternal(e,t){const r=this.getKeys(),s={};return r.forEach(a=>{if(!this.isAppMetadata(a))return;const c=this.getAppMetadata(a);c&&(e&&!this.matchEnvironment(c,e)||t&&!this.matchClientId(c,t)||(s[a]=c))}),s}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let r=null;return t.forEach(s=>{if(!this.isAuthorityMetadata(s)||s.indexOf(this.clientId)===-1)return;const a=this.getAuthorityMetadata(s);a&&a.aliases.indexOf(e)!==-1&&(r=a)}),r}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach(r=>{t.push(this.removeAccount(r))}),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),r=e.generateAccountId(),s=[];t.idToken.forEach(a=>{a.indexOf(r)===0&&this.removeIdToken(a)}),t.accessToken.forEach(a=>{a.indexOf(r)===0&&s.push(this.removeAccessToken(a))}),t.refreshToken.forEach(a=>{a.indexOf(r)===0&&this.removeRefreshToken(a)}),await Promise.all(s)}updateOutdatedCachedAccount(e,t,r){var s;if(t&&t.isSingleTenant()){(s=this.commonLogger)==null||s.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const a=this.getAccountKeys().filter(g=>g.startsWith(t.homeAccountId)),c=[];a.forEach(g=>{const p=this.getCachedAccountEntity(g);p&&c.push(p)});const u=c.find(g=>wc(g.realm,g.homeAccountId))||c[0];u.tenantProfiles=c.map(g=>({tenantId:g.realm,localAccountId:g.localAccountId,name:g.name,isHomeTenant:wc(g.realm,g.homeAccountId)}));const d=bo.toObject(new ft,{...u}),f=d.generateAccountKey();return a.forEach(g=>{g!==f&&this.removeOutdatedAccount(e)}),this.setAccount(d),r==null||r.verbose("Updated an outdated account entity in the cache"),d}return t}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===ge.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===qe.POP){const s=t.keyId;if(s)try{await this.cryptoImpl.removeTokenBindingKey(s)}catch{throw q(Wd)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach(t=>{this.isAppMetadata(t)&&this.removeItem(t)}),!0}readAccountFromCache(e){const t=ft.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,r,s,a){this.commonLogger.trace("CacheManager - getIdToken called");const c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:ge.ID_TOKEN,clientId:this.clientId,realm:r},u=this.getIdTokensByFilter(c,t),d=u.size;if(d<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(d>1){let f=u;if(!r){const g=new Map;u.forEach((v,E)=>{v.realm===e.tenantId&&g.set(E,v)});const p=g.size;if(p<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),u.values().next().value;if(p===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),g.values().next().value;f=g}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),f.forEach((g,p)=>{this.removeIdToken(p)}),s&&a&&s.addFields({multiMatchedID:u.size},a),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),u.values().next().value}getIdTokensByFilter(e,t){const r=t&&t.idToken||this.getTokenKeys().idToken,s=new Map;return r.forEach(a=>{if(!this.idTokenKeyMatchesFilter(a,{clientId:this.clientId,...e}))return;const c=this.getIdTokenCredential(a);c&&this.credentialMatchesFilter(c,e)&&s.set(a,c)}),s}idTokenKeyMatchesFilter(e,t){const r=e.toLowerCase();return!(t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,r,s,a,c){this.commonLogger.trace("CacheManager - getAccessToken called");const u=dt.createSearchScopes(t.scopes),d=t.authenticationScheme||qe.BEARER,f=d&&d.toLowerCase()!==qe.BEARER.toLowerCase()?ge.ACCESS_TOKEN_WITH_AUTH_SCHEME:ge.ACCESS_TOKEN,g={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:f,clientId:this.clientId,realm:s||e.tenantId,target:u,tokenType:d,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},p=r&&r.accessToken||this.getTokenKeys().accessToken,v=[];p.forEach(A=>{if(this.accessTokenKeyMatchesFilter(A,g,!0)){const b=this.getAccessTokenCredential(A);b&&this.credentialMatchesFilter(b,g)&&v.push(b)}});const E=v.length;return E<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):E>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),v.forEach(A=>{this.removeAccessToken(To(A))}),a&&c&&a.addFields({multiMatchedAT:v.length},c),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),v[0])}accessTokenKeyMatchesFilter(e,t,r){const s=e.toLowerCase();if(t.clientId&&s.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&s.indexOf(t.homeAccountId.toLowerCase())===-1||t.realm&&s.indexOf(t.realm.toLowerCase())===-1||t.requestedClaimsHash&&s.indexOf(t.requestedClaimsHash.toLowerCase())===-1)return!1;if(t.target){const a=t.target.asArray();for(let c=0;c<a.length;c++){if(r&&!s.includes(a[c].toLowerCase()))return!1;if(!r&&s.includes(a[c].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),r=[];return t.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,e,!0))return;const a=this.getAccessTokenCredential(s);a&&this.credentialMatchesFilter(a,e)&&r.push(a)}),r}getRefreshToken(e,t,r,s,a){this.commonLogger.trace("CacheManager - getRefreshToken called");const c=t?fi:void 0,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:ge.REFRESH_TOKEN,clientId:this.clientId,familyId:c},d=r&&r.refreshToken||this.getTokenKeys().refreshToken,f=[];d.forEach(p=>{if(this.refreshTokenKeyMatchesFilter(p,u)){const v=this.getRefreshTokenCredential(p);v&&this.credentialMatchesFilter(v,u)&&f.push(v)}});const g=f.length;return g<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(g>1&&s&&a&&s.addFields({multiMatchedRT:g},a),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),f[0])}refreshTokenKeyMatchesFilter(e,t){const r=e.toLowerCase();return!(t.familyId&&r.indexOf(t.familyId.toLowerCase())===-1||!t.familyId&&t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(t),s=Object.keys(r).map(c=>r[c]),a=s.length;if(a<1)return null;if(a>1)throw q(Fd);return s[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!!(t&&t.familyId===fi)}matchHomeAccountId(e,t){return typeof e.homeAccountId=="string"&&t===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,t){const r=e.oid||e.sub;return t===r}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){var r;return t.toLowerCase()===((r=e.name)==null?void 0:r.toLowerCase())}matchUsername(e,t){return!!(e&&typeof e=="string"&&(t==null?void 0:t.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,t){return!!(e.userAssertionHash&&t===e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const s=GC(this.staticAuthorityOptions,this.commonLogger);if(s.includes(t)&&s.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!!(e.clientId&&t===e.clientId)}matchFamilyId(e,t){return!!(e.familyId&&t===e.familyId)}matchRealm(e,t){var r;return((r=e.realm)==null?void 0:r.toLowerCase())===t.toLowerCase()}matchNativeAccountId(e,t){return!!(e.nativeAccountId&&t===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!!(e.authorityType&&t.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,t){return e.credentialType!==ge.ACCESS_TOKEN&&e.credentialType!==ge.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:dt.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!!(e.tokenType&&e.tokenType===t)}matchKeyId(e,t){return!!(e.keyId&&e.keyId===t)}isAppMetadata(e){return e.indexOf(Xa)!==-1}isAuthorityMetadata(e){return e.indexOf(ls.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${ls.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(const r in t)e[r]=t[r];return e}}class qC extends bo{setAccount(){throw q(be)}getAccount(){throw q(be)}getCachedAccountEntity(){throw q(be)}setIdTokenCredential(){throw q(be)}getIdTokenCredential(){throw q(be)}setAccessTokenCredential(){throw q(be)}getAccessTokenCredential(){throw q(be)}setRefreshTokenCredential(){throw q(be)}getRefreshTokenCredential(){throw q(be)}setAppMetadata(){throw q(be)}getAppMetadata(){throw q(be)}setServerTelemetry(){throw q(be)}getServerTelemetry(){throw q(be)}setAuthorityMetadata(){throw q(be)}getAuthorityMetadata(){throw q(be)}getAuthorityMetadataKeys(){throw q(be)}setThrottlingCache(){throw q(be)}getThrottlingCache(){throw q(be)}removeItem(){throw q(be)}containsKey(){throw q(be)}getKeys(){throw q(be)}getAccountKeys(){throw q(be)}getTokenKeys(){throw q(be)}async clear(){throw q(be)}updateCredentialCacheKey(){throw q(be)}removeOutdatedAccount(){throw q(be)}}/*! @azure/msal-common v14.7.1 2024-02-17 */const Ah={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},WC={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:We.Info,correlationId:U.EMPTY_STRING},VC={claimsBasedCachingEnabled:!1},YC={async sendGetRequestAsync(){throw q(be)},async sendPostRequestAsync(){throw q(be)}},jC={sku:U.SKU,version:dc,cpu:U.EMPTY_STRING,os:U.EMPTY_STRING},QC={clientSecret:U.EMPTY_STRING,clientAssertion:void 0},JC={azureCloudInstance:hc.None,tenant:`${U.DEFAULT_COMMON_TENANT}`},XC={application:{appName:"",appVersion:""}};function ZC({authOptions:o,systemOptions:e,loggerOptions:t,cacheOptions:r,storageInterface:s,networkInterface:a,cryptoInterface:c,clientCredentials:u,libraryInfo:d,telemetry:f,serverTelemetryManager:g,persistencePlugin:p,serializableCache:v}){const E={...WC,...t};return{authOptions:ev(o),systemOptions:{...Ah,...e},loggerOptions:E,cacheOptions:{...VC,...r},storageInterface:s||new qC(o.clientId,fs,new Pr(E)),networkInterface:a||YC,cryptoInterface:c||fs,clientCredentials:u||QC,libraryInfo:{...jC,...d},telemetry:{...XC,...f},serverTelemetryManager:g||null,persistencePlugin:p||null,serializableCache:v||null}}function ev(o){return{clientCapabilities:[],azureCloudOptions:JC,skipAuthorityMetadataCache:!1,...o}}function bc(o){return o.authOptions.authority.options.protocolMode===lr.OIDC}/*! @azure/msal-common v14.7.1 2024-02-17 */class Or extends Je{constructor(e,t,r){super(e,t,r),this.name="ServerError",Object.setPrototypeOf(this,Or.prototype)}}/*! @azure/msal-common v14.7.1 2024-02-17 */class tr{static generateThrottlingStorageKey(e){return`${gi.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t){var a;const r=tr.generateThrottlingStorageKey(t),s=e.getThrottlingCache(r);if(s){if(s.throttleTime<Date.now()){e.removeItem(r);return}throw new Or(((a=s.errorCodes)==null?void 0:a.join(" "))||U.EMPTY_STRING,s.errorMessage,s.subError)}}static postProcess(e,t,r){if(tr.checkResponseStatus(r)||tr.checkResponseForRetryAfter(r)){const s={throttleTime:tr.calculateThrottleTime(parseInt(r.headers[Zn.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(tr.generateThrottlingStorageKey(t),s)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Zn.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(t||gi.DEFAULT_THROTTLE_TIME_SECONDS),r+gi.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,t,r,s){const a={clientId:t,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:s,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},c=this.generateThrottlingStorageKey(a);e.removeItem(c)}}/*! @azure/msal-common v14.7.1 2024-02-17 */class tv{constructor(e,t){this.networkClient=e,this.cacheManager=t}async sendPostRequest(e,t,r){tr.preProcess(this.cacheManager,e);let s;try{s=await this.networkClient.sendPostRequestAsync(t,r)}catch(a){throw a instanceof Je?a:q(xd)}return tr.postProcess(this.cacheManager,e,s),s}}/*! @azure/msal-common v14.7.1 2024-02-17 */const ln={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v14.7.1 2024-02-17 */const So="client_id",nv="redirect_uri",bh="response_type",rv="response_mode",ov="grant_type",iv="claims",sv="scope",av="refresh_token",cv="state",lv="nonce",uv="prompt",dv="code",hv="code_challenge",fv="code_challenge_method",gv="code_verifier",pv="client-request-id",mv="x-client-SKU",yv="x-client-VER",Cv="x-client-OS",vv="x-client-CPU",wv="x-client-current-telemetry",Ev="x-client-last-telemetry",Tv="x-ms-lib-capability",Av="x-app-name",bv="x-app-ver",Sv="post_logout_redirect_uri",_v="id_token_hint",Iv="device_code",Rv="client_secret",kv="client_assertion",Pv="client_assertion_type",Sh="token_type",_h="req_cnf",Ov="assertion",Nv="requested_token_use",Ih="return_spa_code",xv="nativebroker",Mv="logout_hint",Lv="sid",Dv="login_hint",Uv="domain_hint";/*! @azure/msal-common v14.7.1 2024-02-17 */class Yr{static validateRedirectUri(e){if(!e)throw Ve(rh)}static validatePrompt(e){const t=[];for(const r in wt)t.push(wt[r]);if(t.indexOf(e)<0)throw Ve(ah)}static validateClaims(e){try{JSON.parse(e)}catch{throw Ve(mc)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw Ve(yc);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([Sd.PLAIN,Sd.S256].indexOf(e)<0)throw Ve(uh)}static sanitizeEQParams(e,t){return e?(t.forEach((r,s)=>{e[s]&&delete e[s]}),Object.fromEntries(Object.entries(e).filter(r=>r[1]!==""))):{}}}/*! @azure/msal-common v14.7.1 2024-02-17 */class mi{constructor(){this.parameters=new Map}addResponseTypeCode(){this.parameters.set(bh,encodeURIComponent(U.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(bh,encodeURIComponent(`${U.TOKEN_RESPONSE_TYPE} ${U.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set(rv,encodeURIComponent(e||dC.QUERY))}addNativeBroker(){this.parameters.set(xv,encodeURIComponent("1"))}addScopes(e,t=!0,r=di){t&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");const s=t?[...e||[],...r]:e||[],a=new dt(s);this.parameters.set(sv,encodeURIComponent(a.printScopes()))}addClientId(e){this.parameters.set(So,encodeURIComponent(e))}addRedirectUri(e){Yr.validateRedirectUri(e),this.parameters.set(nv,encodeURIComponent(e))}addPostLogoutRedirectUri(e){Yr.validateRedirectUri(e),this.parameters.set(Sv,encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set(_v,encodeURIComponent(e))}addDomainHint(e){this.parameters.set(Uv,encodeURIComponent(e))}addLoginHint(e){this.parameters.set(Dv,encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(Zn.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(Zn.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set(Lv,encodeURIComponent(e))}addClaims(e,t){const r=this.addClientCapabilitiesToClaims(e,t);Yr.validateClaims(r),this.parameters.set(iv,encodeURIComponent(r))}addCorrelationId(e){this.parameters.set(pv,encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set(mv,e.sku),this.parameters.set(yv,e.version),e.os&&this.parameters.set(Cv,e.os),e.cpu&&this.parameters.set(vv,e.cpu)}addApplicationTelemetry(e){e!=null&&e.appName&&this.parameters.set(Av,e.appName),e!=null&&e.appVersion&&this.parameters.set(bv,e.appVersion)}addPrompt(e){Yr.validatePrompt(e),this.parameters.set(`${uv}`,encodeURIComponent(e))}addState(e){e&&this.parameters.set(cv,encodeURIComponent(e))}addNonce(e){this.parameters.set(lv,encodeURIComponent(e))}addCodeChallengeParams(e,t){if(Yr.validateCodeChallengeParams(e,t),e&&t)this.parameters.set(hv,encodeURIComponent(e)),this.parameters.set(fv,encodeURIComponent(t));else throw Ve(yc)}addAuthorizationCode(e){this.parameters.set(dv,encodeURIComponent(e))}addDeviceCode(e){this.parameters.set(Iv,encodeURIComponent(e))}addRefreshToken(e){this.parameters.set(av,encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set(gv,encodeURIComponent(e))}addClientSecret(e){this.parameters.set(Rv,encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set(kv,encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set(Pv,encodeURIComponent(e))}addOboAssertion(e){this.parameters.set(Ov,encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set(Nv,encodeURIComponent(e))}addGrantType(e){this.parameters.set(ov,encodeURIComponent(e))}addClientInfo(){this.parameters.set(hC,"1")}addExtraQueryParameters(e){const t=Yr.sanitizeEQParams(e,this.parameters);Object.keys(t).forEach(r=>{this.parameters.set(r,e[r])})}addClientCapabilitiesToClaims(e,t){let r;if(!e)r={};else try{r=JSON.parse(e)}catch{throw Ve(mc)}return t&&t.length>0&&(r.hasOwnProperty(as.ACCESS_TOKEN)||(r[as.ACCESS_TOKEN]={}),r[as.ACCESS_TOKEN][as.XMS_CC]={values:t}),JSON.stringify(r)}addUsername(e){this.parameters.set(Rd.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(Rd.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(Sh,qe.POP),this.parameters.set(_h,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(Sh,qe.SSH),this.parameters.set(_h,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set(wv,e.generateCurrentRequestHeaderValue()),this.parameters.set(Ev,e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(Tv,gi.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set(Mv,encodeURIComponent(e))}createQueryString(){const e=new Array;return this.parameters.forEach((t,r)=>{e.push(`${r}=${t}`)}),e.join("&")}}/*! @azure/msal-common v14.7.1 2024-02-17 */function Hv(o){return o.hasOwnProperty("authorization_endpoint")&&o.hasOwnProperty("token_endpoint")&&o.hasOwnProperty("issuer")&&o.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v14.7.1 2024-02-17 */function Fv(o){return o.hasOwnProperty("tenant_discovery_endpoint")&&o.hasOwnProperty("metadata")}/*! @azure/msal-common v14.7.1 2024-02-17 */function Bv(o){return o.hasOwnProperty("error")&&o.hasOwnProperty("error_description")}/*! @azure/msal-common v14.7.1 2024-02-17 */const M={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},Kv={NotStarted:0,InProgress:1,Completed:2};/*! @azure/msal-common v14.7.1 2024-02-17 */const jr=(o,e,t,r,s)=>(...a)=>{t.trace(`Executing function ${e}`);const c=r==null?void 0:r.startMeasurement(e,s);if(s){const u=e+"CallCount";r==null||r.incrementFields({[u]:1},s)}try{const u=o(...a);return c==null||c.end({success:!0}),t.trace(`Returning result from ${e}`),u}catch(u){t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(u))}catch{t.trace("Unable to print error message.")}throw c==null||c.end({success:!1}),u}},V=(o,e,t,r,s)=>(...a)=>{t.trace(`Executing function ${e}`);const c=r==null?void 0:r.startMeasurement(e,s);if(s){const u=e+"CallCount";r==null||r.incrementFields({[u]:1},s)}return r==null||r.setPreQueueTime(e,s),o(...a).then(u=>(t.trace(`Returning result from ${e}`),c==null||c.end({success:!0}),u)).catch(u=>{t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(u))}catch{t.trace("Unable to print error message.")}throw c==null||c.end({success:!1}),u})};/*! @azure/msal-common v14.7.1 2024-02-17 */class Es{constructor(e,t,r,s){this.networkInterface=e,this.logger=t,this.performanceClient=r,this.correlationId=s}async detectRegion(e,t){var s;(s=this.performanceClient)==null||s.addQueueMeasurement(M.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)t.region_source=wo.ENVIRONMENT_VARIABLE;else{const a=Es.IMDS_OPTIONS;try{const c=await V(this.getRegionFromIMDS.bind(this),M.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(U.IMDS_VERSION,a);if(c.status===us.httpSuccess&&(r=c.body,t.region_source=wo.IMDS),c.status===us.httpBadRequest){const u=await V(this.getCurrentVersion.bind(this),M.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(a);if(!u)return t.region_source=wo.FAILED_AUTO_DETECTION,null;const d=await V(this.getRegionFromIMDS.bind(this),M.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(u,a);d.status===us.httpSuccess&&(r=d.body,t.region_source=wo.IMDS)}}catch{return t.region_source=wo.FAILED_AUTO_DETECTION,null}}return r||(t.region_source=wo.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,t){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(M.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${U.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,U.IMDS_TIMEOUT)}async getCurrentVersion(e){var t;(t=this.performanceClient)==null||t.addQueueMeasurement(M.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const r=await this.networkInterface.sendGetRequestAsync(`${U.IMDS_ENDPOINT}?format=json`,e);return r.status===us.httpBadRequest&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}}Es.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v14.7.1 2024-02-17 */class Lt{constructor(e,t,r,s,a,c,u){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=s,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=a,this.performanceClient=u,this.correlationId=c,this.regionDiscovery=new Es(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(U.CIAM_AUTH_URL))return Un.Ciam;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case U.ADFS:return Un.Adfs;case U.DSTS:return Un.Dsts}return Un.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Le(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw q(cr)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw q(cr)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw q(cr)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw q(Vd);return this.replacePath(this.metadata.end_session_endpoint)}else throw q(cr)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw q(cr)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw q(cr)}canReplaceTenant(e){return e.PathSegments.length===1&&!Lt.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Un.Default&&this.protocolMode===lr.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const s=new Le(this.metadata.canonical_authority).getUrlComponents(),a=s.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((u,d)=>{let f=a[d];if(d===0&&this.canReplaceTenant(s)){const g=new Le(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];f!==g&&(this.logger.verbose(`Replacing tenant domain name ${f} with id ${g}`),f=g)}u!==f&&(t=t.replace(`/${f}/`,`/${u}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Un.Adfs||this.protocolMode!==lr.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var s,a;(s=this.performanceClient)==null||s.addQueueMeasurement(M.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await V(this.updateCloudDiscoveryMetadata.bind(this),M.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const r=await V(this.updateEndpointMetadata.bind(this),M.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:r}),(a=this.performanceClient)==null||a.addFields({cloudDiscoverySource:t,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:th(),jwks_uri:""}),e}updateCachedMetadata(e,t,r){t!==cn.CACHE&&(r==null?void 0:r.source)!==cn.CACHE&&(e.expiresAt=th(),e.canonical_authority=this.canonicalAuthority);const s=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(s,e),this.metadata=e}async updateEndpointMetadata(e){var s,a,c;(s=this.performanceClient)==null||s.addQueueMeasurement(M.AuthorityUpdateEndpointMetadata,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===cn.HARDCODED_VALUES&&(a=this.authorityOptions.azureRegionConfiguration)!=null&&a.azureRegion&&t.metadata){const u=await V(this.updateMetadataWithRegionalInformation.bind(this),M.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata);ms(e,u,!1),e.canonical_authority=this.canonicalAuthority}return t.source}let r=await V(this.getEndpointMetadataFromNetwork.bind(this),M.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return(c=this.authorityOptions.azureRegionConfiguration)!=null&&c.azureRegion&&(r=await V(this.updateMetadataWithRegionalInformation.bind(this),M.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),ms(e,r,!0),cn.NETWORK;throw q(Md,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),ms(e,t,!1),{source:cn.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const s=this.getEndpointMetadataFromHardcodedValues();if(s)return ms(e,s,!1),{source:cn.HARDCODED_VALUES,metadata:s};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=nh(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:cn.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Le(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Ve(dh)}return null}async getEndpointMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(M.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const s=await this.networkInterface.sendGetRequestAsync(t,e);return Hv(s.body)?s.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(s){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${s}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in wh?wh[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var r,s,a;(r=this.performanceClient)==null||r.addQueueMeasurement(M.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const t=(s=this.authorityOptions.azureRegionConfiguration)==null?void 0:s.azureRegion;if(t){if(t!==U.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Za.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,Lt.replaceWithRegionalInformation(e,t);const c=await V(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),M.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((a=this.authorityOptions.azureRegionConfiguration)==null?void 0:a.environmentRegion,this.regionDiscoveryMetadata);if(c)return this.regionDiscoveryMetadata.region_outcome=Za.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=c,Lt.replaceWithRegionalInformation(e,c);this.regionDiscoveryMetadata.region_outcome=Za.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var s;(s=this.performanceClient)==null||s.addQueueMeasurement(M.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const r=await V(this.getCloudDiscoveryMetadataFromNetwork.bind(this),M.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return pc(e,r,!0),cn.NETWORK;throw Ve(hh)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||U.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||U.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||U.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),pc(e,t,!1),cn.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const s=zC(this.hostnameAndPort);if(s)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),pc(e,s,!1),cn.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=nh(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),cn.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Un.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Lt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=ws(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Ve(Cc)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Lt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var s;(s=this.performanceClient)==null||s.addQueueMeasurement(M.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${U.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let r=null;try{const a=await this.networkInterface.sendGetRequestAsync(e,t);let c,u;if(Fv(a.body))c=a.body,u=c.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${c.tenant_discovery_endpoint}`);else if(Bv(a.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${a.status}`),c=a.body,c.error===U.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${c.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${c.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),u=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=ws(u,this.hostnameAndPort)}catch(a){if(a instanceof Je)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${a.errorCode}
Error Description: ${a.errorMessage}`);else{const c=a;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${c.name}
Error Description: ${c.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Lt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(t=>t&&Le.getDomainFromUrl(t).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let r;if(t&&t.azureCloudInstance!==hc.None){const s=t.tenant?t.tenant:U.DEFAULT_COMMON_TENANT;r=`${t.azureCloudInstance}/${s}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw q(cr)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return Eh.has(e)}static isPublicCloudAuthority(e){return U.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,r){const s=new Le(e);s.validateAsUri();const a=s.getUrlComponents();let c=`${t}.${a.HostNameAndPort}`;this.isPublicCloudAuthority(a.HostNameAndPort)&&(c=`${t}.${U.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const u=Le.constructAuthorityUriFromObject({...s.getUrlComponents(),HostNameAndPort:c}).urlString;return r?`${u}?${r}`:u}static replaceWithRegionalInformation(e,t){const r={...e};return r.authorization_endpoint=Lt.buildRegionalAuthorityString(r.authorization_endpoint,t),r.token_endpoint=Lt.buildRegionalAuthorityString(r.token_endpoint,t),r.end_session_endpoint&&(r.end_session_endpoint=Lt.buildRegionalAuthorityString(r.end_session_endpoint,t)),r}static transformCIAMAuthority(e){let t=e;const s=new Le(e).getUrlComponents();if(s.PathSegments.length===0&&s.HostNameAndPort.endsWith(U.CIAM_AUTH_URL)){const a=s.HostNameAndPort.split(".")[0];t=`${t}${a}${U.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}Lt.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Ir.COMMON,Ir.CONSUMERS,Ir.ORGANIZATIONS]);function $v(o){var s;const r=(s=new Le(o).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:s.toLowerCase();switch(r){case Ir.COMMON:case Ir.ORGANIZATIONS:case Ir.CONSUMERS:return;default:return r}}function Rh(o){return o.endsWith(U.FORWARD_SLASH)?o:`${o}${U.FORWARD_SLASH}`}function Gv(o){const e=o.cloudDiscoveryMetadata;let t;if(e)try{t=JSON.parse(e)}catch{throw Ve(Cc)}return{canonicalAuthority:o.authority?Rh(o.authority):void 0,knownAuthorities:o.knownAuthorities,cloudDiscoveryMetadata:t}}/*! @azure/msal-common v14.7.1 2024-02-17 */async function kh(o,e,t,r,s,a,c){c==null||c.addQueueMeasurement(M.AuthorityFactoryCreateDiscoveredInstance,a);const u=Lt.transformCIAMAuthority(Rh(o)),d=new Lt(u,e,t,r,s,a,c);try{return await V(d.resolveEndpointsAsync.bind(d),M.AuthorityResolveEndpointsAsync,s,c,a)(),d}catch{throw q(cr)}}/*! @azure/msal-common v14.7.1 2024-02-17 */class Sc{constructor(e,t){this.config=ZC(e),this.logger=new Pr(this.config.loggerOptions,jd,dc),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new tv(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[Zn.CONTENT_TYPE]=U.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case ln.HOME_ACCOUNT_ID:try{const r=Ao(e.credential);t[Zn.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case ln.UPN:t[Zn.CCS_HEADER]=`UPN: ${e.credential}`;break}return t}async executePostToTokenEndpoint(e,t,r,s,a,c){var d,f,g,p;c&&((d=this.performanceClient)==null||d.addQueueMeasurement(c,a));const u=await this.networkManager.sendPostRequest(s,e,{body:t,headers:r});return(p=this.performanceClient)==null||p.addFields({refreshTokenSize:((f=u.body.refresh_token)==null?void 0:f.length)||0,httpVerToken:((g=u.headers)==null?void 0:g[Zn.X_MS_HTTP_VERSION])||""},a),this.config.serverTelemetryManager&&u.status<500&&u.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),u}async updateAuthority(e,t){var a;(a=this.performanceClient)==null||a.addQueueMeasurement(M.UpdateTokenEndpointAuthority,t);const r=`https://${e}/${this.authority.tenant}/`,s=await kh(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=s}createTokenQueryParameters(e){const t=new mi;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()}}/*! @azure/msal-common v14.7.1 2024-02-17 */const Ts="no_tokens_found",Ph="native_account_unavailable",_c="refresh_token_expired",zv="interaction_required",qv="consent_required",Wv="login_required",As="bad_token";/*! @azure/msal-common v14.7.1 2024-02-17 */const Oh=[zv,qv,Wv,As],Vv=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Yv={[Ts]:"No refresh token found in the cache. Please sign-in.",[Ph]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[_c]:"Refresh token has expired.",[As]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class Hn extends Je{constructor(e,t,r,s,a,c,u){super(e,t,r),Object.setPrototypeOf(this,Hn.prototype),this.timestamp=s||U.EMPTY_STRING,this.traceId=a||U.EMPTY_STRING,this.correlationId=c||U.EMPTY_STRING,this.claims=u||U.EMPTY_STRING,this.name="InteractionRequiredAuthError"}}function Nh(o,e,t){const r=!!o&&Oh.indexOf(o)>-1,s=!!t&&Vv.indexOf(t)>-1,a=!!e&&Oh.some(c=>e.indexOf(c)>-1);return r||a||s}function Ic(o){return new Hn(o,Yv[o])}/*! @azure/msal-common v14.7.1 2024-02-17 */class _o{constructor(e,t,r,s,a){this.account=e||null,this.idToken=t||null,this.accessToken=r||null,this.refreshToken=s||null,this.appMetadata=a||null}}/*! @azure/msal-common v14.7.1 2024-02-17 */class Fn{static setRequestState(e,t,r){const s=Fn.generateLibraryState(e,r);return t?`${s}${U.RESOURCE_DELIM}${t}`:s}static generateLibraryState(e,t){if(!e)throw q(cc);const r={id:e.createNewGuid()};t&&(r.meta=t);const s=JSON.stringify(r);return e.base64Encode(s)}static parseRequestState(e,t){if(!e)throw q(cc);if(!t)throw q(Eo);try{const r=t.split(U.RESOURCE_DELIM),s=r[0],a=r.length>1?r.slice(1).join(U.RESOURCE_DELIM):U.EMPTY_STRING,c=e.base64Decode(s),u=JSON.parse(c);return{userRequestState:a||U.EMPTY_STRING,libraryState:u}}catch{throw q(Eo)}}}/*! @azure/msal-common v14.7.1 2024-02-17 */const jv={SW:"sw",UHW:"uhw"};class Io{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){var a;(a=this.performanceClient)==null||a.addQueueMeasurement(M.PopTokenGenerateCnf,e.correlationId);const r=await V(this.generateKid.bind(this),M.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),s=this.cryptoUtils.base64Encode(JSON.stringify(r));return{kid:r.kid,reqCnfString:s,reqCnfHash:await this.cryptoUtils.hashString(s)}}async generateKid(e){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(M.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:jv.SW}}async signPopToken(e,t,r){return this.signPayload(e,t,r)}async signPayload(e,t,r,s){const{resourceRequestMethod:a,resourceRequestUri:c,shrClaims:u,shrNonce:d,shrOptions:f}=r,g=c?new Le(c):void 0,p=g==null?void 0:g.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:er(),m:a==null?void 0:a.toUpperCase(),u:p==null?void 0:p.HostNameAndPort,nonce:d||this.cryptoUtils.createNewGuid(),p:p==null?void 0:p.AbsolutePath,q:p!=null&&p.QueryString?[[],p.QueryString]:void 0,client_claims:u||void 0,...s},t,f,r.correlationId)}}/*! @azure/msal-common v14.7.1 2024-02-17 */class Qv{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v14.7.1 2024-02-17 */class Qr{constructor(e,t,r,s,a,c,u){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=s,this.serializableCache=a,this.persistencePlugin=c,this.performanceClient=u}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?q(ds,"Cached State"):q(ds,"Server State");let r,s;try{r=decodeURIComponent(e.state)}catch{throw q(Eo,e.state)}try{s=decodeURIComponent(t)}catch{throw q(Eo,e.state)}if(r!==s)throw q(Dd);if(e.error||e.error_description||e.suberror)throw Nh(e.error,e.error_description,e.suberror)?new Hn(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||""):new Or(e.error||"",e.error_description,e.suberror)}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const r=`${e.error_codes} - [${e.timestamp}]: ${e.error_description} - Correlation ID: ${e.correlation_id} - Trace ID: ${e.trace_id}`,s=new Or(e.error,r,e.suberror);if(t&&e.status&&e.status>=ss.SERVER_ERROR_RANGE_START&&e.status<=ss.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${s}`);return}else if(t&&e.status&&e.status>=ss.CLIENT_ERROR_RANGE_START&&e.status<=ss.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${s}`);return}throw Nh(e.error,e.error_description,e.suberror)?new Hn(e.error,e.error_description,e.suberror,e.timestamp||U.EMPTY_STRING,e.trace_id||U.EMPTY_STRING,e.correlation_id||U.EMPTY_STRING,e.claims||U.EMPTY_STRING):s}}async handleServerTokenResponse(e,t,r,s,a,c,u,d,f){var A;(A=this.performanceClient)==null||A.addQueueMeasurement(M.HandleServerTokenResponse,e.correlation_id);let g;if(e.id_token){if(g=Vr(e.id_token||U.EMPTY_STRING,this.cryptoObj.base64Decode),a&&a.nonce&&g.nonce!==a.nonce)throw q(Ud);if(s.maxAge||s.maxAge===0){const b=g.auth_time;if(!b)throw q(rc);Qd(b,s.maxAge)}}this.homeAccountIdentifier=ft.generateHomeAccountId(e.client_info||U.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,g);let p;a&&a.state&&(p=Fn.parseRequestState(this.cryptoObj,a.state)),e.key_id=e.key_id||s.sshKid||void 0;const v=this.generateCacheRecord(e,t,r,s,g,c,a);let E;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),E=new Qv(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(E)),u&&!d&&v.account){const b=v.account.generateAccountKey();if(!this.cacheStorage.getAccount(b,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Qr.generateAuthenticationResult(this.cryptoObj,t,v,!1,s,g,p,void 0,f)}await this.cacheStorage.saveCacheRecord(v,s.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&E&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(E))}return Qr.generateAuthenticationResult(this.cryptoObj,t,v,!1,s,g,p,e,f)}generateCacheRecord(e,t,r,s,a,c,u){const d=t.getPreferredCache();if(!d)throw q(sc);const f=yh(a);let g,p;e.id_token&&a&&(g=gs(this.homeAccountIdentifier,d,e.id_token,this.clientId,f||""),p=Rc(this.cacheStorage,t,this.homeAccountIdentifier,a,this.cryptoObj.base64Decode,e.client_info,d,f,u,void 0,this.logger));let v=null;if(e.access_token){const b=e.scope?dt.fromString(e.scope):new dt(s.scopes||[]),_=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,N=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,R=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,P=r+_,x=P+N,L=R&&R>0?r+R:void 0;v=ps(this.homeAccountIdentifier,d,e.access_token,this.clientId,f||t.tenant||"",b.printScopes(),P,x,this.cryptoObj.base64Decode,L,e.token_type,c,e.key_id,s.claims,s.requestedClaimsHash)}let E=null;if(e.refresh_token){let b;if(e.refresh_token_expires_in){const _=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;b=r+_}E=Jd(this.homeAccountIdentifier,d,e.refresh_token,this.clientId,e.foci,c,b)}let A=null;return e.foci&&(A={clientId:this.clientId,environment:d,familyId:e.foci}),new _o(p,g,v,E,A)}static async generateAuthenticationResult(e,t,r,s,a,c,u,d,f){var P,x,L,H,W;let g=U.EMPTY_STRING,p=[],v=null,E,A,b=U.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===qe.POP){const B=new Io(e),{secret:Q,keyId:re}=r.accessToken;if(!re)throw q(uc);g=await B.signPopToken(Q,re,a)}else g=r.accessToken.secret;p=dt.fromString(r.accessToken.target).asArray(),v=new Date(Number(r.accessToken.expiresOn)*1e3),E=new Date(Number(r.accessToken.extendedExpiresOn)*1e3),r.accessToken.refreshOn&&(A=new Date(Number(r.accessToken.refreshOn)*1e3))}r.appMetadata&&(b=r.appMetadata.familyId===fi?fi:"");const _=(c==null?void 0:c.oid)||(c==null?void 0:c.sub)||"",N=(c==null?void 0:c.tid)||"";d!=null&&d.spa_accountid&&r.account&&(r.account.nativeAccountId=d==null?void 0:d.spa_accountid);const R=r.account?Tc(r.account.getAccountInfo(),void 0,c,(P=r.idToken)==null?void 0:P.secret):null;return{authority:t.canonicalAuthority,uniqueId:_,tenantId:N,scopes:p,account:R,idToken:((x=r==null?void 0:r.idToken)==null?void 0:x.secret)||"",idTokenClaims:c||{},accessToken:g,fromCache:s,expiresOn:v,extExpiresOn:E,refreshOn:A,correlationId:a.correlationId,requestId:f||U.EMPTY_STRING,familyId:b,tokenType:((L=r.accessToken)==null?void 0:L.tokenType)||U.EMPTY_STRING,state:u?u.userRequestState:U.EMPTY_STRING,cloudGraphHostName:((H=r.account)==null?void 0:H.cloudGraphHostName)||U.EMPTY_STRING,msGraphHost:((W=r.account)==null?void 0:W.msGraphHost)||U.EMPTY_STRING,code:d==null?void 0:d.spa_code,fromNativeBroker:!1}}}function Rc(o,e,t,r,s,a,c,u,d,f,g){g==null||g.verbose("setCachedAccount called");const v=o.getAccountKeys().find(_=>_.startsWith(t));let E=null;v&&(E=o.getAccount(v,g));const A=E||ft.createAccount({homeAccountId:t,idTokenClaims:r,clientInfo:a,environment:c,cloudGraphHostName:d==null?void 0:d.cloud_graph_host_name,msGraphHost:d==null?void 0:d.msgraph_host,nativeAccountId:f},e,s),b=A.tenantProfiles||[];if(u&&!b.find(_=>_.tenantId===u)){const _=Ec(t,r);b.push(_)}return A.tenantProfiles=b,A}/*! @azure/msal-common v14.7.1 2024-02-17 */class xh extends Sc{constructor(e,t){var r;super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=(r=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:r.defaultScopes}async getAuthCodeUrl(e){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(M.GetAuthCodeUrl,e.correlationId);const t=await V(this.createAuthCodeUrlQueryString.bind(this),M.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return Le.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){var u,d;if((u=this.performanceClient)==null||u.addQueueMeasurement(M.AuthClientAcquireToken,e.correlationId),!e.code)throw q(Bd);const r=er(),s=await V(this.executeTokenRequest.bind(this),M.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),a=(d=s.headers)==null?void 0:d[Zn.X_MS_REQUEST_ID],c=new Qr(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return c.validateTokenResponse(s.body),V(c.handleServerTokenResponse.bind(c),M.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(s.body,this.authority,r,e,t,void 0,void 0,void 0,a)}handleFragmentResponse(e,t){if(new Qr(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw q(qd);return e}getLogoutUri(e){if(!e)throw Ve(lh);const t=this.createLogoutUrlQueryString(e);return Le.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){var f,g;(f=this.performanceClient)==null||f.addQueueMeasurement(M.AuthClientExecuteTokenRequest,t.correlationId);const r=this.createTokenQueryParameters(t),s=Le.appendQueryString(e.tokenEndpoint,r),a=await V(this.createTokenRequestBody.bind(this),M.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t);let c;if(t.clientInfo)try{const p=Cs(t.clientInfo,this.cryptoUtils.base64Decode);c={credential:`${p.uid}${Mt.CLIENT_INFO_SEPARATOR}${p.utid}`,type:ln.HOME_ACCOUNT_ID}}catch(p){this.logger.verbose("Could not parse client info for CCS Header: "+p)}const u=this.createTokenRequestHeaders(c||t.ccsCredential),d={clientId:((g=t.tokenBodyParameters)==null?void 0:g.clientId)||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return V(this.executePostToTokenEndpoint.bind(this),M.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(s,a,u,d,t.correlationId,M.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var a,c;(a=this.performanceClient)==null||a.addQueueMeasurement(M.AuthClientCreateTokenRequestBody,e.correlationId);const t=new mi;if(t.addClientId(((c=e.tokenBodyParameters)==null?void 0:c[So])||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):Yr.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!bc(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const u=this.config.clientCredentials.clientAssertion;t.addClientAssertion(u.assertion),t.addClientAssertionType(u.assertionType)}if(t.addGrantType(_d.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme===qe.POP){const u=new Io(this.cryptoUtils,this.performanceClient),d=await V(u.generateCnf.bind(u),M.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger);t.addPopToken(d.reqCnfString)}else if(e.authenticationScheme===qe.SSH)if(e.sshJwk)t.addSshJwk(e.sshJwk);else throw Ve(ys);const r=e.correlationId||this.config.cryptoInterface.createNewGuid();t.addCorrelationId(r),(!Dn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities);let s;if(e.clientInfo)try{const u=Cs(e.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${u.uid}${Mt.CLIENT_INFO_SEPARATOR}${u.utid}`,type:ln.HOME_ACCOUNT_ID}}catch(u){this.logger.verbose("Could not parse client info for CCS Header: "+u)}else s=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&s)switch(s.type){case ln.HOME_ACCOUNT_ID:try{const u=Ao(s.credential);t.addCcsOid(u)}catch(u){this.logger.verbose("Could not parse home account ID for CCS Header: "+u)}break;case ln.UPN:t.addCcsUpn(s.credential);break}return e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Ih])&&t.addExtraQueryParameters({[Ih]:"1"}),t.createQueryString()}async createAuthCodeUrlQueryString(e){var a,c;(a=this.performanceClient)==null||a.addQueueMeasurement(M.AuthClientCreateQueryString,e.correlationId);const t=new mi;t.addClientId(((c=e.extraQueryParameters)==null?void 0:c[So])||this.config.authOptions.clientId);const r=[...e.scopes||[],...e.extraScopesToConsent||[]];t.addScopes(r,!0,this.oidcDefaultScopes),t.addRedirectUri(e.redirectUri);const s=e.correlationId||this.config.cryptoInterface.createNewGuid();if(t.addCorrelationId(s),t.addResponseMode(e.responseMode),t.addResponseTypeCode(),t.addLibraryInfo(this.config.libraryInfo),bc(this.config)||t.addApplicationTelemetry(this.config.telemetry.application),t.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&t.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&t.addPrompt(e.prompt),e.domainHint&&t.addDomainHint(e.domainHint),e.prompt!==wt.SELECT_ACCOUNT)if(e.sid&&e.prompt===wt.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),t.addSid(e.sid);else if(e.account){const u=this.extractAccountSid(e.account),d=this.extractLoginHint(e.account);if(d){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),t.addLoginHint(d);try{const f=Ao(e.account.homeAccountId);t.addCcsOid(f)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(u&&e.prompt===wt.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),t.addSid(u);try{const f=Ao(e.account.homeAccountId);t.addCcsOid(f)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),t.addLoginHint(e.account.username);try{const f=Ao(e.account.homeAccountId);t.addCcsOid(f)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&t.addNonce(e.nonce),e.state&&t.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker&&(t.addNativeBroker(),e.authenticationScheme===qe.POP)){const u=new Io(this.cryptoUtils),d=await V(u.generateCnf.bind(u),M.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger);t.addPopToken(d.reqCnfHash)}return t.createQueryString()}createLogoutUrlQueryString(e){const t=new mi;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()}extractAccountSid(e){var t;return((t=e.idTokenClaims)==null?void 0:t.sid)||null}extractLoginHint(e){var t;return((t=e.idTokenClaims)==null?void 0:t.login_hint)||null}}/*! @azure/msal-common v14.7.1 2024-02-17 */const Jv=300;class kc extends Sc{constructor(e,t){super(e,t)}async acquireToken(e){var c,u;(c=this.performanceClient)==null||c.addQueueMeasurement(M.RefreshTokenClientAcquireToken,e.correlationId);const t=er(),r=await V(this.executeTokenRequest.bind(this),M.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),s=(u=r.headers)==null?void 0:u[Zn.X_MS_REQUEST_ID],a=new Qr(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return a.validateTokenResponse(r.body),V(a.handleServerTokenResponse.bind(a),M.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,s)}async acquireTokenByRefreshToken(e){var r;if(!e)throw Ve(ch);if((r=this.performanceClient)==null||r.addQueueMeasurement(M.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw q(ic);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await V(this.acquireTokenWithCachedRefreshToken.bind(this),M.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(s){const a=s instanceof Hn&&s.errorCode===Ts,c=s instanceof Or&&s.errorCode===Id.INVALID_GRANT_ERROR&&s.subError===Id.CLIENT_MISMATCH_ERROR;if(a||c)return V(this.acquireTokenWithCachedRefreshToken.bind(this),M.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw s}return V(this.acquireTokenWithCachedRefreshToken.bind(this),M.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){var a;(a=this.performanceClient)==null||a.addQueueMeasurement(M.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const r=jr(this.cacheManager.getRefreshToken.bind(this.cacheManager),M.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!r)throw Ic(Ts);if(r.expiresOn&&fc(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||Jv))throw Ic(_c);const s={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||qe.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:ln.HOME_ACCOUNT_ID}};try{return await V(this.acquireToken.bind(this),M.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(s)}catch(c){if(c instanceof Hn&&c.subError===As){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const u=To(r);this.cacheManager.removeRefreshToken(u)}throw c}}async executeTokenRequest(e,t){var d,f;(d=this.performanceClient)==null||d.addQueueMeasurement(M.RefreshTokenClientExecuteTokenRequest,e.correlationId);const r=this.createTokenQueryParameters(e),s=Le.appendQueryString(t.tokenEndpoint,r),a=await V(this.createTokenRequestBody.bind(this),M.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),c=this.createTokenRequestHeaders(e.ccsCredential),u={clientId:((f=e.tokenBodyParameters)==null?void 0:f.clientId)||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return V(this.executePostToTokenEndpoint.bind(this),M.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(s,a,c,u,e.correlationId,M.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var s,a,c;(s=this.performanceClient)==null||s.addQueueMeasurement(M.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const t=e.correlationId,r=new mi;if(r.addClientId(((a=e.tokenBodyParameters)==null?void 0:a[So])||this.config.authOptions.clientId),e.redirectUri&&r.addRedirectUri(e.redirectUri),r.addScopes(e.scopes,!0,(c=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:c.defaultScopes),r.addGrantType(_d.REFRESH_TOKEN_GRANT),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&!bc(this.config)&&r.addServerTelemetry(this.serverTelemetryManager),r.addCorrelationId(t),r.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const u=this.config.clientCredentials.clientAssertion;r.addClientAssertion(u.assertion),r.addClientAssertionType(u.assertionType)}if(e.authenticationScheme===qe.POP){const u=new Io(this.cryptoUtils,this.performanceClient),d=await V(u.generateCnf.bind(u),M.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger);r.addPopToken(d.reqCnfString)}else if(e.authenticationScheme===qe.SSH)if(e.sshJwk)r.addSshJwk(e.sshJwk);else throw Ve(ys);if((!Dn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case ln.HOME_ACCOUNT_ID:try{const u=Ao(e.ccsCredential.credential);r.addCcsOid(u)}catch(u){this.logger.verbose("Could not parse home account ID for CCS Header: "+u)}break;case ln.UPN:r.addCcsUpn(e.ccsCredential.credential);break}return e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),r.createQueryString()}}/*! @azure/msal-common v14.7.1 2024-02-17 */class Xv extends Sc{constructor(e,t){super(e,t)}async acquireToken(e){try{const[t,r]=await this.acquireCachedToken(e);return r===Rr.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new kc(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),t}catch(t){if(t instanceof hs&&t.errorCode===kr)return new kc(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw t}}async acquireCachedToken(e){var d;(d=this.performanceClient)==null||d.addQueueMeasurement(M.SilentFlowClientAcquireCachedToken,e.correlationId);let t=Rr.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Dn.isEmptyObj(e.claims))throw this.setCacheOutcome(Rr.FORCE_REFRESH_OR_CLAIMS,e.correlationId),q(kr);if(!e.account)throw q(ic);const r=e.account.tenantId||$v(e.authority),s=this.cacheManager.getTokenKeys(),a=this.cacheManager.getAccessToken(e.account,e,s,r,this.performanceClient,e.correlationId);if(a){if(RC(a.cachedAt)||fc(a.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(Rr.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),q(kr);a.refreshOn&&fc(a.refreshOn,0)&&(t=Rr.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(Rr.NO_CACHED_ACCESS_TOKEN,e.correlationId),q(kr);const c=e.authority||this.authority.getPreferredCache(),u={account:this.cacheManager.readAccountFromCache(e.account),accessToken:a,idToken:this.cacheManager.getIdToken(e.account,s,r,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(c)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await V(this.generateResultFromCacheRecord.bind(this),M.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(u,e),t]}setCacheOutcome(e,t){var r,s;(r=this.serverTelemetryManager)==null||r.setCacheOutcome(e),(s=this.performanceClient)==null||s.addFields({cacheOutcome:e},t),e!==Rr.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){var s;(s=this.performanceClient)==null||s.addQueueMeasurement(M.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId);let r;if(e.idToken&&(r=Vr(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||t.maxAge===0){const a=r==null?void 0:r.auth_time;if(!a)throw q(rc);Qd(a,t.maxAge)}return Qr.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)}}/*! @azure/msal-common v14.7.1 2024-02-17 */const Zv={sendGetRequestAsync:()=>Promise.reject(q(be)),sendPostRequestAsync:()=>Promise.reject(q(be))};/*! @azure/msal-common v14.7.1 2024-02-17 */const Mh="missing_kid_error",Lh="missing_alg_error";/*! @azure/msal-common v14.7.1 2024-02-17 */const ew={[Mh]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Lh]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Pc extends Je{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,Pc.prototype)}}function Dh(o){return new Pc(o,ew[o])}/*! @azure/msal-common v14.7.1 2024-02-17 */class Oc{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Dh(Mh);if(!e.alg)throw Dh(Lh);const t=new Oc({typ:e.typ||fC.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}/*! @azure/msal-common v14.7.1 2024-02-17 */class bs{constructor(e,t){this.cacheOutcome=Rr.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||U.EMPTY_STRING,this.wrapperVer=e.wrapperVer||U.EMPTY_STRING,this.telemetryCacheKey=It.CACHE_KEY+Mt.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${It.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer].join(It.VALUE_SEPARATOR),r=this.getRegionDiscoveryFields(),s=[e,r].join(It.VALUE_SEPARATOR);return[It.SCHEMA_VERSION,s,t].join(It.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=bs.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*t).join(It.VALUE_SEPARATOR),s=e.errors.slice(0,t).join(It.VALUE_SEPARATOR),a=e.errors.length,c=t<a?It.OVERFLOW_TRUE:It.OVERFLOW_FALSE,u=[a,c].join(It.VALUE_SEPARATOR);return[It.SCHEMA_VERSION,e.cacheHits,r,s,u].join(It.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=It.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Je?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(It.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),t=bs.maxErrorsToSend(e),r=e.errors.length;if(t===r)this.cacheManager.removeItem(this.telemetryCacheKey);else{const s={failedRequests:e.failedRequests.slice(t*2),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,s)}}static maxErrorsToSend(e){let t,r=0,s=0;const a=e.errors.length;for(t=0;t<a;t++){const c=e.failedRequests[2*t]||U.EMPTY_STRING,u=e.failedRequests[2*t+1]||U.EMPTY_STRING,d=e.errors[t]||U.EMPTY_STRING;if(s+=c.toString().length+u.toString().length+d.length+3,s<It.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||U.EMPTY_STRING),e.push(this.regionSource||U.EMPTY_STRING),e.push(this.regionOutcome||U.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}}/*! @azure/msal-common v14.7.1 2024-02-17 */class Uh{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class tw{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:Kv.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new Uh}}startPerformanceMeasurement(){return new Uh}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-browser v3.10.0 2024-02-17 */const Nc="pkce_not_created",Hh="crypto_nonexistent",Ss="empty_navigate_uri",Fh="hash_empty_error",xc="no_state_in_hash",Bh="hash_does_not_contain_known_properties",Kh="unable_to_parse_state",$h="state_interaction_type_mismatch",Gh="interaction_in_progress",zh="popup_window_error",qh="empty_window_error",Jr="user_cancelled",nw="monitor_popup_timeout",Wh="monitor_window_timeout",Vh="redirect_in_iframe",Yh="block_iframe_reload",jh="block_nested_popups",rw="iframe_closed_prematurely",_s="silent_logout_unsupported",Qh="no_account_error",ow="silent_prompt_value_error",Jh="no_token_request_cache_error",Xh="unable_to_parse_token_request_cache_error",Mc="no_cached_authority_error",iw="auth_request_not_set_error",sw="invalid_cache_type",Zh="non_browser_environment",Ro="database_not_open",Is="no_network_connectivity",ef="post_request_failed",tf="get_request_failed",Lc="failed_to_parse_response",Bn="unable_to_load_token",Dc="crypto_key_not_found",nf="auth_code_required",rf="auth_code_or_nativeAccountId_required",of="spa_code_and_nativeAccountId_present",Uc="database_unavailable",sf="unable_to_acquire_token_from_native_platform",af="native_handshake_timeout",cf="native_extension_not_installed",yi="native_connection_not_established",lf="uninitialized_public_client_application",uf="native_prompt_not_supported",df="invalid_base64_string";/*! @azure/msal-browser v3.10.0 2024-02-17 */const ur="For more visit: aka.ms/msaljs/browser-errors",aw={[Nc]:"The PKCE code challenge and verifier could not be generated.",[Hh]:"The crypto object or function is not available.",[Ss]:"Navigation URI is empty. Please check stack trace for more info.",[Fh]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${ur}`,[xc]:"Hash does not contain state. Please verify that the request originated from msal.",[Bh]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${ur}`,[Kh]:"Unable to parse state. Please verify that the request originated from msal.",[$h]:"Hash contains state but the interaction type does not match the caller.",[Gh]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${ur}`,[zh]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[qh]:"window.open returned null or undefined window object.",[Jr]:"User cancelled the flow.",[nw]:`Token acquisition in popup failed due to timeout.  ${ur}`,[Wh]:`Token acquisition in iframe failed due to timeout.  ${ur}`,[Vh]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Yh]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${ur}`,[jh]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[rw]:"The iframe being monitored was closed prematurely.",[_s]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[Qh]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[ow]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Jh]:"No token request found in cache.",[Xh]:"The cached token request could not be parsed.",[Mc]:"No cached authority found.",[iw]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[sw]:"Invalid cache type",[Zh]:"Login and token requests are not supported in non-browser environments.",[Ro]:"Database is not open!",[Is]:"No network connectivity. Check your internet connection.",[ef]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[tf]:"Network request failed. Please check the network trace to determine root cause.",[Lc]:"Failed to parse network response. Check network trace.",[Bn]:"Error loading token to cache.",[Dc]:"Cryptographic Key or Keypair not found in browser storage.",[nf]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[rf]:"An authorization code or nativeAccountId must be provided to this flow.",[of]:"Request cannot contain both spa code and native account id.",[Uc]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[sf]:`Unable to acquire token from native platform.  ${ur}`,[af]:"Timed out while attempting to establish connection to browser extension",[cf]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[yi]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${ur}`,[lf]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${ur}`,[uf]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[df]:"Invalid base64 encoded string."};class Ci extends Je{constructor(e){super(e,aw[e]),Object.setPrototypeOf(this,Ci.prototype),this.name="BrowserAuthError"}}function X(o){return new Ci(o)}/*! @azure/msal-browser v3.10.0 2024-02-17 */const Kn={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},vi={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},Xr={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},gt={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},hf={GET:"GET",POST:"POST"},Fe={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},Nr={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},Rs={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Xe={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var ee;(function(o){o.Redirect="redirect",o.Popup="popup",o.Silent="silent",o.None="none"})(ee||(ee={}));const Et={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},ff={scopes:di},gf="jwk",cw={React:"@azure/msal-react",Angular:"@azure/msal-angular"},Hc="msal.db",lw=1,uw=`${Hc}.keys`,En={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},dw=[En.Default,En.Skip,En.RefreshTokenAndNetwork],hw="msal.browser.log.level",fw="msal.browser.log.pii";/*! @azure/msal-browser v3.10.0 2024-02-17 */const gw="RSASSA-PKCS1-v1_5",pf="SHA-256",pw=2048,mw=new Uint8Array([1,0,1]),mf="0123456789abcdef",yf=new Uint32Array(1),Fc={name:gw,hash:pf,modulusLength:pw,publicExponent:mw};function yw(o){if("crypto"in window)o.verbose("BrowserCrypto: modern crypto interface available");else throw o.error("BrowserCrypto: crypto interface is unavailable"),X(Hh)}async function Cf(o,e,t){e==null||e.addQueueMeasurement(M.Sha256Digest,t);const s=new TextEncoder().encode(o);return window.crypto.subtle.digest(pf,s)}function Cw(o){return window.crypto.getRandomValues(o)}function Bc(){return window.crypto.getRandomValues(yf),yf[0]}function dr(){const o=Date.now(),e=Bc()*1024+(Bc()&1023),t=new Uint8Array(16),r=Math.trunc(e/2**30),s=e&2**30-1,a=Bc();t[0]=o/2**40,t[1]=o/2**32,t[2]=o/2**24,t[3]=o/2**16,t[4]=o/2**8,t[5]=o,t[6]=112|r>>>8,t[7]=r,t[8]=128|s>>>24,t[9]=s>>>16,t[10]=s>>>8,t[11]=s,t[12]=a>>>24,t[13]=a>>>16,t[14]=a>>>8,t[15]=a;let c="";for(let u=0;u<t.length;u++)c+=mf.charAt(t[u]>>>4),c+=mf.charAt(t[u]&15),(u===3||u===5||u===7||u===9)&&(c+="-");return c}async function vw(o,e){return window.crypto.subtle.generateKey(Fc,o,e)}async function Kc(o){return window.crypto.subtle.exportKey(gf,o)}async function ww(o,e,t){return window.crypto.subtle.importKey(gf,o,Fc,e,t)}async function Ew(o,e){return window.crypto.subtle.sign(Fc,o,e)}/*! @azure/msal-browser v3.10.0 2024-02-17 */function Tw(o){o.location.hash="",typeof o.history.replaceState=="function"&&o.history.replaceState(null,"",`${o.location.origin}${o.location.pathname}${o.location.search}`)}function Aw(o){const e=o.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function $c(){return window.parent!==window}function bw(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${Kn.POPUP_NAME_PREFIX}.`)===0}function hr(){return window.location.href.split("?")[0].split("#")[0]}function Sw(){const e=new Le(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function Gc(){if(Le.hashContainsKnownProperties(window.location.hash)&&$c())throw X(Yh)}function _w(o,e){const t=$c();if(o===ee.Redirect&&t&&!e)throw X(Vh)}function Iw(){if(bw())throw X(jh)}function Rw(o){if(!o)throw X(Zh)}function vf(o){if(!o)throw X(lf)}function wf(o){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(o).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}/*! @azure/msal-browser v3.10.0 2024-02-17 */class ks{navigateInternal(e,t){return ks.defaultNavigateWindow(e,t)}navigateExternal(e,t){return ks.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise(r=>{setTimeout(()=>{r(!0)},t.timeout)})}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class kw{async sendGetRequestAsync(e,t){let r;try{r=await fetch(e,{method:hf.GET,headers:this.getFetchHeaders(t)})}catch{throw window.navigator.onLine?X(tf):X(Is)}try{return{headers:this.getHeaderDict(r.headers),body:await r.json(),status:r.status}}catch{throw X(Lc)}}async sendPostRequestAsync(e,t){const r=t&&t.body||U.EMPTY_STRING;let s;try{s=await fetch(e,{method:hf.POST,headers:this.getFetchHeaders(t),body:r})}catch{throw window.navigator.onLine?X(ef):X(Is)}try{return{headers:this.getHeaderDict(s.headers),body:await s.json(),status:s.status}}catch{throw X(Lc)}}getFetchHeaders(e){const t=new Headers;if(!(e&&e.headers))return t;const r=e.headers;return Object.keys(r).forEach(s=>{t.append(s,r[s])}),t}getHeaderDict(e){const t={};return e.forEach((r,s)=>{t[s]=r}),t}}/*! @azure/msal-browser v3.10.0 2024-02-17 */const Pw=6e4,zc=1e4,Ow=3e4,Nw=2e3;function xw({auth:o,cache:e,system:t,telemetry:r},s){const a={clientId:U.EMPTY_STRING,authority:`${U.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:U.EMPTY_STRING,authorityMetadata:U.EMPTY_STRING,redirectUri:U.EMPTY_STRING,postLogoutRedirectUri:U.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:lr.AAD,OIDCOptions:{serverResponseType:hi.FRAGMENT,defaultScopes:[U.OPENID_SCOPE,U.PROFILE_SCOPE,U.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:hc.None,tenant:U.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1},c={cacheLocation:gt.SessionStorage,temporaryCacheLocation:gt.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===gt.LocalStorage),claimsBasedCachingEnabled:!1},u={loggerCallback:()=>{},logLevel:We.Info,piiLoggingEnabled:!1},f={...{...Ah,loggerOptions:u,networkClient:s?new kw:Zv,navigationClient:new ks,loadFrameTimeout:0,windowHashTimeout:(t==null?void 0:t.loadFrameTimeout)||Pw,iframeHashTimeout:(t==null?void 0:t.loadFrameTimeout)||zc,navigateFrameWait:0,redirectNavigationTimeout:Ow,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:(t==null?void 0:t.nativeBrokerHandshakeTimeout)||Nw,pollIntervalMilliseconds:Kn.DEFAULT_POLL_INTERVAL_MS},...t,loggerOptions:(t==null?void 0:t.loggerOptions)||u},g={application:{appName:U.EMPTY_STRING,appVersion:U.EMPTY_STRING},client:new tw};if((o==null?void 0:o.protocolMode)!==lr.OIDC&&(o!=null&&o.OIDCOptions)&&new Pr(f.loggerOptions).warning(JSON.stringify(Ve(gh))),o!=null&&o.protocolMode&&o.protocolMode!==lr.AAD&&(f!=null&&f.allowNativeBroker))throw Ve(ph);return{auth:{...a,...o,OIDCOptions:{...a.OIDCOptions,...o==null?void 0:o.OIDCOptions}},cache:{...c,...e},system:f,telemetry:{...g,...r}}}/*! @azure/msal-browser v3.10.0 2024-02-17 */const Mw="@azure/msal-browser",qc="3.10.0";/*! @azure/msal-browser v3.10.0 2024-02-17 */class Wc{static loggerCallback(e,t){switch(e){case We.Error:console.error(t);return;case We.Info:console.info(t);return;case We.Verbose:console.debug(t);return;case We.Warning:console.warn(t);return;default:console.log(t);return}}constructor(e){var d;this.browserEnvironment=typeof window<"u",this.config=xw(e,this.browserEnvironment);let t;try{t=window[gt.SessionStorage]}catch{}const r=t==null?void 0:t.getItem(hw),s=(d=t==null?void 0:t.getItem(fw))==null?void 0:d.toLowerCase(),a=s==="true"?!0:s==="false"?!1:void 0,c={...this.config.system.loggerOptions},u=r&&Object.keys(We).includes(r)?We[r]:void 0;u&&(c.loggerCallback=Wc.loggerCallback,c.logLevel=u),a!==void 0&&(c.piiLoggingEnabled=a),this.logger=new Pr(c,Mw,qc),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class Zr extends Wc{getModuleName(){return Zr.MODULE_NAME}getId(){return Zr.ID}async initialize(){return this.available=typeof window<"u",this.available}}Zr.MODULE_NAME="",Zr.ID="StandardOperatingContext";/*! @azure/msal-browser v3.10.0 2024-02-17 */async function Lw(o){const e=new Zr(o);return await e.initialize(),(await Promise.resolve().then(()=>pE)).StandardController.createController(e)}/*! @azure/msal-browser v3.10.0 2024-02-17 */function Vc(o){return encodeURIComponent(Yc(o).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Ps(o){return Ef(o).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yc(o){return Ef(new TextEncoder().encode(o))}function Ef(o){const e=Array.from(o,t=>String.fromCodePoint(t)).join("");return btoa(e)}/*! @azure/msal-browser v3.10.0 2024-02-17 */function nr(o){return new TextDecoder().decode(Dw(o))}function Dw(o){let e=o.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw X(df)}const t=atob(e);return Uint8Array.from(t,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v3.10.0 2024-02-17 */class Uw{constructor(){this.dbName=Hc,this.version=lw,this.tableName=uw,this.dbOpen=!1}async open(){return new Promise((e,t)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",s=>{s.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",s=>{const a=s;this.db=a.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>t(X(Uc)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(X(Ro));const c=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);c.addEventListener("success",u=>{const d=u;this.closeConnection(),t(d.target.result)}),c.addEventListener("error",u=>{this.closeConnection(),r(u)})})}async setItem(e,t){return await this.validateDbIsOpen(),new Promise((r,s)=>{if(!this.db)return s(X(Ro));const u=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);u.addEventListener("success",()=>{this.closeConnection(),r()}),u.addEventListener("error",d=>{this.closeConnection(),s(d)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(X(Ro));const c=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);c.addEventListener("success",()=>{this.closeConnection(),t()}),c.addEventListener("error",u=>{this.closeConnection(),r(u)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,t)=>{if(!this.db)return t(X(Ro));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();a.addEventListener("success",c=>{const u=c;this.closeConnection(),e(u.target.result)}),a.addEventListener("error",c=>{this.closeConnection(),t(c)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(X(Ro));const c=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);c.addEventListener("success",u=>{const d=u;this.closeConnection(),t(d.target.result===1)}),c.addEventListener("error",u=>{this.closeConnection(),r(u)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,t)=>{const r=window.indexedDB.deleteDatabase(Hc);r.addEventListener("success",()=>e(!0)),r.addEventListener("blocked",()=>e(!0)),r.addEventListener("error",()=>t(!1))})}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class jc{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,t){this.cache.set(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((t,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class Tf{constructor(e,t){this.inMemoryCache=new jc,this.indexedDBCache=new Uw,this.logger=e,this.storeName=t}handleDatabaseAccessError(e){if(e instanceof Ci&&e.errorCode===Uc)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return t}clearInMemory(){this.logger.verbose(`Deleting in-memory keystore ${this.storeName}`),this.inMemoryCache.clear(),this.logger.verbose(`In-memory keystore ${this.storeName} deleted`)}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v3.10.0 2024-02-17 */const Af={asymmetricKeys:"asymmetricKeys",symmetricKeys:"symmetricKeys"};class Hw{constructor(e){this.logger=e,this.asymmetricKeys=new Tf(this.logger,Af.asymmetricKeys),this.symmetricKeys=new Tf(this.logger,Af.symmetricKeys)}async clear(){this.asymmetricKeys.clearInMemory(),this.symmetricKeys.clearInMemory();try{return await this.asymmetricKeys.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class ko{constructor(e,t){this.logger=e,yw(e),this.cache=new Hw(this.logger),this.performanceClient=t}createNewGuid(){return dr()}base64Encode(e){return Yc(e)}base64Decode(e){return nr(e)}async getPublicKeyThumbprint(e){var g;const t=(g=this.performanceClient)==null?void 0:g.startMeasurement(M.CryptoOptsGetPublicKeyThumbprint,e.correlationId),r=await vw(ko.EXTRACTABLE,ko.POP_KEY_USAGES),s=await Kc(r.publicKey),a={e:s.e,kty:s.kty,n:s.n},c=bf(a),u=await this.hashString(c),d=await Kc(r.privateKey),f=await ww(d,!1,["sign"]);return await this.cache.asymmetricKeys.setItem(u,{privateKey:f,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),u}async removeTokenBindingKey(e){return await this.cache.asymmetricKeys.removeItem(e),!await this.cache.asymmetricKeys.containsKey(e)}async clearKeystore(){return this.cache.clear()}async signJwt(e,t,r,s){var P;const a=(P=this.performanceClient)==null?void 0:P.startMeasurement(M.CryptoOptsSignJwt,s),c=await this.cache.asymmetricKeys.getItem(t);if(!c)throw X(Dc);const u=await Kc(c.publicKey),d=bf(u),f=Vc(JSON.stringify({kid:t})),g=Oc.getShrHeaderString({...r==null?void 0:r.header,alg:u.alg,kid:f}),p=Vc(g);e.cnf={jwk:JSON.parse(d)};const v=Vc(JSON.stringify(e)),E=`${p}.${v}`,b=new TextEncoder().encode(E),_=await Ew(c.privateKey,b),N=Ps(new Uint8Array(_)),R=`${E}.${N}`;return a&&a.end({success:!0}),R}async hashString(e){const t=await Cf(e),r=new Uint8Array(t);return Ps(r)}}ko.POP_KEY_USAGES=["sign","verify"],ko.EXTRACTABLE=!0;function bf(o){return JSON.stringify(o,Object.keys(o).sort())}/*! @azure/msal-browser v3.10.0 2024-02-17 */const Sf="storage_not_supported",Tt="stubbed_public_client_application_called",_f="in_mem_redirect_unavailable";/*! @azure/msal-browser v3.10.0 2024-02-17 */const Fw={[Sf]:"Given storage configuration option was not supported.",[Tt]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[_f]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class Qc extends Je{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Qc.prototype)}}function pt(o){return new Qc(o,Fw[o])}/*! @azure/msal-browser v3.10.0 2024-02-17 */class If{constructor(e){this.validateWindowStorage(e),this.windowStorage=window[e]}validateWindowStorage(e){if(e!==gt.LocalStorage&&e!==gt.SessionStorage||!window[e])throw pt(Sf)}getItem(e){return this.windowStorage.getItem(e)}setItem(e,t){this.windowStorage.setItem(e,t)}removeItem(e){this.windowStorage.removeItem(e)}getKeys(){return Object.keys(this.windowStorage)}containsKey(e){return this.windowStorage.hasOwnProperty(e)}}/*! @azure/msal-browser v3.10.0 2024-02-17 */function Rf(o,e){if(!e)return null;try{return Fn.parseRequestState(o,e).libraryState.meta}catch{throw q(Eo)}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class Jc extends bo{constructor(e,t,r,s,a){super(e,r,s,a),this.COOKIE_LIFE_MULTIPLIER=24*60*60*1e3,this.cacheConfig=t,this.logger=s,this.internalStorage=new jc,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupTemporaryCacheStorage(this.cacheConfig.temporaryCacheLocation,this.cacheConfig.cacheLocation),t.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps())}setupBrowserStorage(e){switch(e){case gt.LocalStorage:case gt.SessionStorage:try{return new If(e)}catch(t){this.logger.verbose(t);break}}return this.cacheConfig.cacheLocation=gt.MemoryStorage,new jc}setupTemporaryCacheStorage(e,t){switch(t){case gt.LocalStorage:case gt.SessionStorage:try{return new If(e||gt.SessionStorage)}catch(r){return this.logger.verbose(r),this.internalStorage}case gt.MemoryStorage:default:return this.internalStorage}}migrateCacheEntries(){const e=`${U.CACHE_PREFIX}.${vt.ID_TOKEN}`,t=`${U.CACHE_PREFIX}.${vt.CLIENT_INFO}`,r=`${U.CACHE_PREFIX}.${vt.ERROR}`,s=`${U.CACHE_PREFIX}.${vt.ERROR_DESC}`,a=this.browserStorage.getItem(e),c=this.browserStorage.getItem(t),u=this.browserStorage.getItem(r),d=this.browserStorage.getItem(s),f=[a,c,u,d];[vt.ID_TOKEN,vt.CLIENT_INFO,vt.ERROR,vt.ERROR_DESC].forEach((p,v)=>this.migrateCacheEntry(p,f[v]))}migrateCacheEntry(e,t){t&&this.setTemporaryCache(e,t,!0)}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const e=this.getItem(Nr.ACCOUNT_KEYS),t=this.getItem(`${Nr.TOKEN_KEYS}.${this.clientId}`);if(e&&t){this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");return}this.browserStorage.getKeys().forEach(s=>{if(this.isCredentialKey(s)){const a=this.getItem(s);if(a){const c=this.validateAndParseJson(a);if(c&&c.hasOwnProperty("credentialType"))switch(c.credentialType){case ge.ID_TOKEN:if(Zd(c)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${s} found, saving key to token key map`);const u=c,d=this.updateCredentialCacheKey(s,u);this.addTokenKey(d,ge.ID_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${s}`);break;case ge.ACCESS_TOKEN:case ge.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(Xd(c)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${s} found, saving key to token key map`);const u=c,d=this.updateCredentialCacheKey(s,u);this.addTokenKey(d,ge.ACCESS_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${s}`);break;case ge.REFRESH_TOKEN:if(eh(c)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${s} found, saving key to token key map`);const u=c,d=this.updateCredentialCacheKey(s,u);this.addTokenKey(d,ge.REFRESH_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${s}`);break}}}if(this.isAccountKey(s)){const a=this.getItem(s);if(a){const c=this.validateAndParseJson(a);c&&ft.isAccountEntity(c)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${s} found, saving key to account key map`),this.addAccountKeyToMap(s))}}})}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&typeof t=="object"?t:null}catch{return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,t){this.browserStorage.setItem(e,t)}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");const r=this.getCachedAccountEntity(e);return this.updateOutdatedCachedAccount(e,r,t)}getCachedAccountEntity(e){const t=this.getItem(e);if(!t)return this.removeAccountKeyFromMap(e),null;const r=this.validateAndParseJson(t);return!r||!ft.isAccountEntity(r)?(this.removeAccountKeyFromMap(e),null):bo.toObject(new ft,r)}setAccount(e){this.logger.trace("BrowserCacheManager.setAccount called");const t=e.generateAccountKey();this.setItem(t,JSON.stringify(e)),this.addAccountKeyToMap(t)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const e=this.getItem(Nr.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();t.indexOf(e)===-1?(t.push(e),this.setItem(Nr.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),r=t.indexOf(e);r>-1?(t.splice(r,1),this.setItem(Nr.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}removeOutdatedAccount(e){this.removeItem(e),this.removeAccountKeyFromMap(e)}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,ge.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,ge.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,ge.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const e=this.getItem(`${Nr.TOKEN_KEYS}.${this.clientId}`);if(e){const t=this.validateAndParseJson(e);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const r=this.getTokenKeys();switch(t){case ge.ID_TOKEN:r.idToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),r.idToken.push(e));break;case ge.ACCESS_TOKEN:r.accessToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),r.accessToken.push(e));break;case ge.REFRESH_TOKEN:r.refreshToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),r.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),q(lc)}this.setItem(`${Nr.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const r=this.getTokenKeys();switch(t){case ge.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const s=r.idToken.indexOf(e);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),r.idToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case ge.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const a=r.accessToken.indexOf(e);a>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),r.accessToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case ge.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const c=r.refreshToken.indexOf(e);c>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),r.refreshToken.splice(c,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),q(lc)}this.setItem(`${Nr.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}getIdTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,ge.ID_TOKEN),null;const r=this.validateAndParseJson(t);return!r||!Zd(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,ge.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r)}setIdTokenCredential(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const t=To(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,ge.ID_TOKEN)}getAccessTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,ge.ACCESS_TOKEN),null;const r=this.validateAndParseJson(t);return!r||!Xd(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,ge.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r)}setAccessTokenCredential(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const t=To(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,ge.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,ge.REFRESH_TOKEN),null;const r=this.validateAndParseJson(t);return!r||!eh(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,ge.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r)}setRefreshTokenCredential(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const t=To(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,ge.REFRESH_TOKEN)}getAppMetadata(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(t);return!r||!UC(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=DC(e);this.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(t);return!r||!MC(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(t);return r&&HC(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(t=>this.isAuthorityMetadata(t))}setWrapperMetadata(e,t){this.internalStorage.setItem(Rs.WRAPPER_SKU,e),this.internalStorage.setItem(Rs.WRAPPER_VER,t)}getWrapperMetadata(){const e=this.internalStorage.getItem(Rs.WRAPPER_SKU)||U.EMPTY_STRING,t=this.internalStorage.getItem(Rs.WRAPPER_VER)||U.EMPTY_STRING;return[e,t]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(vt.ACTIVE_ACCOUNT_FILTERS),t=this.getItem(e);if(!t){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const s=this.generateCacheKey(vt.ACTIVE_ACCOUNT),a=this.getItem(s);if(!a)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const c=this.getAccountInfoFilteredBy({localAccountId:a});return c?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(c),c):null}const r=this.validateAndParseJson(t);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(vt.ACTIVE_ACCOUNT_FILTERS),r=this.generateCacheKey(vt.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");const s={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(s)),this.browserStorage.setItem(r,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t),this.browserStorage.removeItem(r)}getThrottlingCache(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(t);return!r||!LC(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const r=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const a=this.getItemCookie(r);if(a)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),a}const s=this.temporaryCacheStorage.getItem(r);if(!s){if(this.cacheConfig.cacheLocation===gt.LocalStorage){const a=this.browserStorage.getItem(r);if(a)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),a}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),s}setTemporaryCache(e,t,r){const s=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(s,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(s,t))}removeItem(e){this.browserStorage.removeItem(e),this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e))}containsKey(e){return this.browserStorage.containsKey(e)||this.temporaryCacheStorage.containsKey(e)}getKeys(){return[...this.browserStorage.getKeys(),...this.temporaryCacheStorage.getKeys()]}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.getKeys().forEach(e=>{(this.browserStorage.containsKey(e)||this.temporaryCacheStorage.containsKey(e))&&(e.indexOf(U.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.removeItem(e)}),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e){e.addQueueMeasurement(M.ClearTokensAndKeysWithClaims);const t=this.getTokenKeys(),r=[];t.accessToken.forEach(s=>{const a=this.getAccessTokenCredential(s);a!=null&&a.requestedClaimsHash&&s.includes(a.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(s))}),await Promise.all(r),r.length>0&&this.logger.warning(`${r.length} access tokens with claims in the cache keys have been removed from the cache.`)}setItemCookie(e,t,r){let s=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=Lax;`;if(r){const a=this.getCookieExpirationTime(r);s+=`expires=${a};`}this.cacheConfig.secureCookies&&(s+="Secure;"),document.cookie=s}getItemCookie(e){const t=`${encodeURIComponent(e)}=`,r=document.cookie.split(";");for(let s=0;s<r.length;s++){let a=r[s];for(;a.charAt(0)===" ";)a=a.substring(1);if(a.indexOf(t)===0)return decodeURIComponent(a.substring(t.length,a.length))}return U.EMPTY_STRING}clearMsalCookies(){const e=`${U.CACHE_PREFIX}.${this.clientId}`;document.cookie.split(";").forEach(r=>{for(;r.charAt(0)===" ";)r=r.substring(1);if(r.indexOf(e)===0){const s=r.split("=")[0];this.clearItemCookie(s)}})}clearItemCookie(e){this.setItemCookie(e,U.EMPTY_STRING,-1)}getCookieExpirationTime(e){const t=new Date;return new Date(t.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()}getCache(){return this.browserStorage}setCache(){}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):Dn.startsWith(e,U.CACHE_PREFIX)||Dn.startsWith(e,vt.ADAL_ID_TOKEN)?e:`${U.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:t}}=Fn.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Fe.AUTHORITY}.${t}`)}generateNonceKey(e){const{libraryState:{id:t}}=Fn.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Fe.NONCE_IDTOKEN}.${t}`)}generateStateKey(e){const{libraryState:{id:t}}=Fn.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Fe.REQUEST_STATE}.${t}`)}getCachedAuthority(e){const t=this.generateStateKey(e),r=this.getTemporaryCache(t);if(!r)return null;const s=this.generateAuthorityKey(r);return this.getTemporaryCache(s)}updateCacheEntries(e,t,r,s,a){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const c=this.generateStateKey(e);this.setTemporaryCache(c,e,!1);const u=this.generateNonceKey(e);this.setTemporaryCache(u,t,!1);const d=this.generateAuthorityKey(e);if(this.setTemporaryCache(d,r,!1),a){const f={credential:a.homeAccountId,type:ln.HOME_ACCOUNT_ID};this.setTemporaryCache(Fe.CCS_CREDENTIAL,JSON.stringify(f),!0)}else if(s){const f={credential:s,type:ln.UPN};this.setTemporaryCache(Fe.CCS_CREDENTIAL,JSON.stringify(f),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.getKeys().forEach(t=>{t.indexOf(e)!==-1&&this.removeItem(t)}),this.removeItem(this.generateStateKey(e)),this.removeItem(this.generateNonceKey(e)),this.removeItem(this.generateAuthorityKey(e))),this.removeItem(this.generateCacheKey(Fe.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(Fe.ORIGIN_URI)),this.removeItem(this.generateCacheKey(Fe.URL_HASH)),this.removeItem(this.generateCacheKey(Fe.CORRELATION_ID)),this.removeItem(this.generateCacheKey(Fe.CCS_CREDENTIAL)),this.removeItem(this.generateCacheKey(Fe.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const t=this.generateStateKey(e),r=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r||U.EMPTY_STRING)}this.clearMsalCookies()}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach(t=>{if(t.indexOf(Fe.REQUEST_STATE)===-1)return;const r=this.temporaryCacheStorage.getItem(t);if(!r)return;const s=Rf(this.cryptoImpl,r);s&&s.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r))}),this.clearMsalCookies(),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const t=Yc(JSON.stringify(e));this.setTemporaryCache(Fe.REQUEST_PARAMS,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(Fe.REQUEST_PARAMS,!0);if(!t)throw X(Jh);let r;try{r=JSON.parse(nr(t))}catch(s){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${s}`),X(Xh)}if(this.removeItem(this.generateCacheKey(Fe.REQUEST_PARAMS)),!r.authority){const s=this.generateAuthorityKey(e),a=this.getTemporaryCache(s);if(!a)throw X(Mc);r.authority=a}return r}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Fe.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${U.CACHE_PREFIX}.${Fe.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const t=`${U.CACHE_PREFIX}.${Fe.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw X(Gh);this.setTemporaryCache(t,this.clientId,!1)}else!e&&this.getInteractionInProgress()===this.clientId&&this.removeItem(t)}getLegacyLoginHint(){const e=this.getTemporaryCache(vt.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(vt.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const t=this.getTemporaryCache(vt.ID_TOKEN,!0);t&&(this.removeItem(this.generateCacheKey(vt.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const r=t||e;if(r){const s=Vr(r,nr);if(s.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),s.preferred_username;if(s.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),s.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,t){const r=To(t);if(e!==r){const s=this.getItem(e);if(s)return this.removeItem(e),this.setItem(r,s),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),r;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}getRedirectRequestContext(){return this.getTemporaryCache(Fe.REDIRECT_CONTEXT,!0)}setRedirectRequestContext(e){this.setTemporaryCache(Fe.REDIRECT_CONTEXT,e,!0)}async hydrateCache(e,t){var u,d,f,g,p;const r=gs((u=e.account)==null?void 0:u.homeAccountId,(d=e.account)==null?void 0:d.environment,e.idToken,this.clientId,e.tenantId);let s;t.claims&&(s=await this.cryptoImpl.hashString(t.claims));const a=ps((f=e.account)==null?void 0:f.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),((g=e.expiresOn)==null?void 0:g.getTime())||0,((p=e.extExpiresOn)==null?void 0:p.getTime())||0,nr,void 0,e.tokenType,void 0,t.sshKid,t.claims,s),c=new _o(void 0,r,a);return this.saveCacheRecord(c)}}const Bw=(o,e)=>{const t={cacheLocation:gt.MemoryStorage,temporaryCacheLocation:gt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Jc(o,t,fs,e)};/*! @azure/msal-browser v3.10.0 2024-02-17 */const oe={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};/*! @azure/msal-browser v3.10.0 2024-02-17 */class Kw{constructor(e,t){this.eventCallbacks=new Map,this.logger=e,this.browserCrypto=t,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}addEventCallback(e){if(typeof window<"u"){const t=dr();return this.eventCallbacks.set(t,e),this.logger.verbose(`Event callback registered with id: ${t}`),t}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}emitEvent(e,t,r,s){if(typeof window<"u"){const a={eventType:e,interactionType:t||null,payload:r||null,error:s||null,timestamp:Date.now()};this.logger.info(`Emitting event: ${e}`),this.eventCallbacks.forEach((c,u)=>{this.logger.verbose(`Emitting event to callback ${u}: ${e}`),c.apply(null,[a])})}}handleAccountCacheChange(e){var t;try{(t=e.key)!=null&&t.includes(vt.ACTIVE_ACCOUNT_FILTERS)&&this.emitEvent(oe.ACTIVE_ACCOUNT_CHANGED);const r=e.newValue||e.oldValue;if(!r)return;const s=JSON.parse(r);if(typeof s!="object"||!ft.isAccountEntity(s))return;const c=bo.toObject(new ft,s).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(oe.ACCOUNT_ADDED,void 0,c)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(oe.ACCOUNT_REMOVED,void 0,c))}catch{return}}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class kf{constructor(e,t,r,s,a,c,u,d,f){this.config=e,this.browserStorage=t,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=a,this.navigationClient=c,this.nativeMessageHandler=d,this.correlationId=f||dr(),this.logger=s.clone(Kn.MSAL_SKU,qc,this.correlationId),this.performanceClient=u}async clearCacheOnLogout(e){if(e){ft.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(ft.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}async initializeBaseRequest(e){this.performanceClient.addQueueMeasurement(M.InitializeBaseRequest,this.correlationId);const t=e.authority||this.config.auth.authority,r=[...e&&e.scopes||[]],s={...e,correlationId:this.correlationId,authority:t,scopes:r};if(!s.authenticationScheme)s.authenticationScheme=qe.BEARER,this.logger.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(s.authenticationScheme===qe.SSH){if(!e.sshJwk)throw Ve(ys);if(!e.sshKid)throw Ve(fh)}this.logger.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}return this.config.cache.claimsBasedCachingEnabled&&e.claims&&!Dn.isEmptyObj(e.claims)&&(s.requestedClaimsHash=await this.browserCrypto.hashString(e.claims)),s}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri||hr();return Le.getAbsoluteUrl(t,hr())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new bs(r,this.browserStorage)}async getDiscoveredAuthority(e,t,r){this.performanceClient.addQueueMeasurement(M.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const s={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e||this.config.auth.authority,c=Lt.generateAuthority(a,t||this.config.auth.azureCloudOptions),u=await V(kh,M.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(c,this.config.system.networkClient,this.browserStorage,s,this.logger,this.correlationId,this.performanceClient);if(r&&!u.isAlias(r.environment))throw Ve(mh);return u}}/*! @azure/msal-browser v3.10.0 2024-02-17 */const $w=32;async function Gw(o,e,t){o.addQueueMeasurement(M.GeneratePkceCodes,t);const r=jr(zw,M.GenerateCodeVerifier,e,o,t)(o,e,t),s=await V(qw,M.GenerateCodeChallengeFromVerifier,e,o,t)(r,o,e,t);return{verifier:r,challenge:s}}function zw(o,e,t){try{const r=new Uint8Array($w);return jr(Cw,M.GetRandomValues,e,o,t)(r),Ps(r)}catch{throw X(Nc)}}async function qw(o,e,t,r){e.addQueueMeasurement(M.GenerateCodeChallengeFromVerifier,r);try{const s=await V(Cf,M.Sha256Digest,t,e,r)(o,e,r);return Ps(new Uint8Array(s))}catch{throw X(Nc)}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class Po extends kf{async initializeAuthorizationCodeRequest(e){this.performanceClient.addQueueMeasurement(M.StandardInteractionClientInitializeAuthorizationCodeRequest,this.correlationId);const t=await V(Gw,M.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),r={...e,redirectUri:e.redirectUri,code:U.EMPTY_STRING,codeVerifier:t.verifier};return e.codeChallenge=t.challenge,e.codeChallengeMethod=U.S256_CODE_CHALLENGE_METHOD,r}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const t={correlationId:this.correlationId||dr(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=Le.getAbsoluteUrl(e.postLogoutRedirectUri,hr())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=Le.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,hr())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=Le.getAbsoluteUrl(hr(),hr())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e,t,r,s){this.performanceClient.addQueueMeasurement(M.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const a=await V(this.getClientConfiguration.bind(this),M.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e,t,r,s);return new xh(a,this.performanceClient)}async getClientConfiguration(e,t,r,s){this.performanceClient.addQueueMeasurement(M.StandardInteractionClientGetClientConfiguration,this.correlationId);const a=await V(this.getDiscoveredAuthority.bind(this),M.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)(t,r,s),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:Kn.MSAL_SKU,version:qc,cpu:U.EMPTY_STRING,os:U.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(M.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(e.redirectUri),s={interactionType:t},a=Fn.setRequestState(this.browserCrypto,e&&e.state||U.EMPTY_STRING,s),u={...await V(this.initializeBaseRequest.bind(this),M.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)(e),redirectUri:r,state:a,nonce:e.nonce||dr(),responseMode:this.config.auth.OIDCOptions.serverResponseType},d=e.account||this.browserStorage.getActiveAccount();if(d&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${d.homeAccountId}`,this.correlationId),u.account=d),!u.loginHint&&!d){const f=this.browserStorage.getLegacyLoginHint();f&&(u.loginHint=f)}return u}}/*! @azure/msal-browser v3.10.0 2024-02-17 */const Ww="ContentError",Pf="user_switch";/*! @azure/msal-browser v3.10.0 2024-02-17 */const Vw="USER_INTERACTION_REQUIRED",Yw="USER_CANCEL",jw="NO_NETWORK",Qw="PERSISTENT_ERROR",Jw="DISABLED",Xw="ACCOUNT_UNAVAILABLE";/*! @azure/msal-browser v3.10.0 2024-02-17 */const Zw=-2147186943,eE={[Pf]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class fr extends Je{constructor(e,t,r){super(e,t),Object.setPrototypeOf(this,fr.prototype),this.name="NativeAuthError",this.ext=r}}function Oo(o){if(o.ext&&o.ext.status&&(o.ext.status===Qw||o.ext.status===Jw)||o.ext&&o.ext.error&&o.ext.error===Zw)return!0;switch(o.errorCode){case Ww:return!0;default:return!1}}function Xc(o,e,t){if(t&&t.status)switch(t.status){case Xw:return Ic(Ph);case Vw:return new Hn(o,e);case Yw:return X(Jr);case jw:return X(Is)}return new fr(o,eE[o]||e,t)}/*! @azure/msal-browser v3.10.0 2024-02-17 */class Of extends Po{async acquireToken(e){this.performanceClient.addQueueMeasurement(M.SilentCacheClientAcquireToken,e.correlationId);const t=this.initializeServerTelemetryManager(Xe.acquireTokenSilent_silentFlow),r=await this.createSilentFlowClient(t,e.authority,e.azureCloudOptions,e.account);this.logger.verbose("Silent auth client created");try{const a=(await V(r.acquireCachedToken.bind(r),M.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),a}catch(s){throw s instanceof Ci&&s.errorCode===Dc&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),s}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t==null?void 0:t.account)}async createSilentFlowClient(e,t,r,s){const a=await V(this.getClientConfiguration.bind(this),M.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e,t,r,s);return new Xv(a,this.performanceClient)}async initializeSilentRequest(e,t){this.performanceClient.addQueueMeasurement(M.InitializeSilentRequest,this.correlationId);const r=await V(this.initializeBaseRequest.bind(this),M.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)(e);return{...e,...r,account:t,forceRefresh:e.forceRefresh||!1}}}/*! @azure/msal-browser v3.10.0 2024-02-17 */const Zc={BROKER_CLIENT_ID:"brk_client_id",BROKER_REDIRECT_URI:"brk_redirect_uri"};class No extends kf{constructor(e,t,r,s,a,c,u,d,f,g,p,v){super(e,t,r,s,a,c,d,f,v),this.apiId=u,this.accountId=g,this.nativeMessageHandler=f,this.nativeStorageManager=p,this.silentCacheClient=new Of(e,this.nativeStorageManager,r,s,a,c,d,f,v)}async acquireToken(e){this.performanceClient.addQueueMeasurement(M.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const t=this.performanceClient.startMeasurement(M.NativeInteractionClientAcquireToken,e.correlationId),r=er(),s=await this.initializeNativeRequest(e);try{const d=await this.acquireTokensFromCache(this.accountId,s);return t.end({success:!0,isNativeBroker:!1,fromCache:!0}),d}catch{this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const a={method:Xr.GetToken,request:s},c=await this.nativeMessageHandler.sendMessage(a),u=this.validateNativeResponse(c);return this.handleNativeResponse(u,s,r).then(d=>(t.end({success:!0,isNativeBroker:!0,requestId:d.requestId}),d)).catch(d=>{throw t.end({success:!1,errorCode:d.errorCode,subErrorCode:d.subError,isNativeBroker:!0}),d})}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:dt.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),q(ac);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!r)throw q(ac);try{const s=this.createSilentCacheRequest(t,r),a=await this.silentCacheClient.acquireToken(s),c={...r,idTokenClaims:a==null?void 0:a.idTokenClaims,idToken:a==null?void 0:a.idToken};return{...a,account:c}}catch(s){throw s}}async acquireTokenRedirect(e){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const t=await this.initializeNativeRequest(e),r={method:Xr.GetToken,request:t};try{const c=await this.nativeMessageHandler.sendMessage(r);this.validateNativeResponse(c)}catch(c){if(c instanceof fr&&Oo(c))throw c}this.browserStorage.setTemporaryCache(Fe.NATIVE_REQUEST,JSON.stringify(t),!0);const s={apiId:Xe.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);await this.navigationClient.navigateExternal(a,s)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&(e==null||e.addFields({errorCode:"no_cached_request"},t)),null;const{prompt:s,...a}=r;s&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Fe.NATIVE_REQUEST));const c={method:Xr.GetToken,request:a},u=er();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const d=await this.nativeMessageHandler.sendMessage(c);this.validateNativeResponse(d);const f=this.handleNativeResponse(d,a,u);return this.browserStorage.setInteractionInProgress(!1),await f}catch(d){throw this.browserStorage.setInteractionInProgress(!1),d}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,r){var g;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const s=Vr(e.id_token,nr),a=this.createHomeAccountIdentifier(e,s),c=(g=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId}))==null?void 0:g.homeAccountId;if(a!==c&&e.account.id!==t.accountId)throw Xc(Pf);const u=await this.getDiscoveredAuthority(t.authority),d=Rc(this.browserStorage,u,a,s,nr,e.client_info,void 0,s.tid,void 0,e.account.id,this.logger),f=await this.generateAuthenticationResult(e,t,s,d,u.canonicalAuthority,r);return this.cacheAccount(d),this.cacheNativeTokens(e,t,a,s,f.accessToken,f.tenantId,r),f}createHomeAccountIdentifier(e,t){return ft.generateHomeAccountId(e.client_info||U.EMPTY_STRING,Un.Default,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?dt.fromString(e.scope):dt.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===qe.POP){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const r=new Io(this.browserCrypto),s={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw q(uc);return r.signPopToken(e.access_token,t.keyId,s)}else return e.access_token}async generateAuthenticationResult(e,t,r,s,a,c){const u=this.addTelemetryFromNativeResponse(e),d=e.scope?dt.fromString(e.scope):dt.fromString(t.scope),f=e.account.properties||{},g=f.UID||r.oid||r.sub||U.EMPTY_STRING,p=f.TenantId||r.tid||U.EMPTY_STRING,v=Tc(s.getAccountInfo(),void 0,r,e.id_token);v.nativeAccountId!==e.account.id&&(v.nativeAccountId=e.account.id);const E=await this.generatePopAccessToken(e,t),A=t.tokenType===qe.POP?qe.POP:qe.BEARER;return{authority:a,uniqueId:g,tenantId:p,scopes:d.asArray(),account:v,idToken:e.id_token,idTokenClaims:r,accessToken:E,fromCache:u?this.isResponseFromCache(u):!1,expiresOn:new Date(Number(c+e.expires_in)*1e3),tokenType:A,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}cacheAccount(e){this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch(t=>{this.logger.error(`Error occurred while removing account context from browser storage. ${t}`)})}cacheNativeTokens(e,t,r,s,a,c,u){const d=gs(r,t.authority,e.id_token||"",t.clientId,s.tid||""),f=t.tokenType===qe.POP?U.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,g=u+f,p=this.generateScopes(e,t),v=ps(r,t.authority,a,t.clientId,s.tid||c,p.printScopes(),g,0,nr),E=new _o(void 0,d,v);this.nativeStorageManager.saveCacheRecord(E,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Pd(ec,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority(t,e.azureCloudOptions,e.account);const r=new Le(t);r.validateAsUri();const{scopes:s,...a}=e,c=new dt(s||[]);c.appendScopes(di);const u=()=>{switch(this.apiId){case Xe.ssoSilent:case Xe.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),wt.NONE}if(!e.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e.prompt){case wt.NONE:case wt.CONSENT:case wt.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),X(uf)}},d={...a,accountId:this.accountId,clientId:this.config.auth.clientId,authority:r.urlString,scope:c.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:u(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1};if(this.handleExtraBrokerParams(d),d.extraParameters=d.extraParameters||{},d.extraParameters.telemetry=vi.MATS_TELEMETRY,e.authenticationScheme===qe.POP){const f={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},g=new Io(this.browserCrypto),p=await V(g.generateCnf.bind(g),M.PopTokenGenerateCnf,this.logger,this.performanceClient,this.correlationId)(f,this.logger);d.reqCnf=p.reqCnfHash,d.keyId=p.kid}return d}handleExtraBrokerParams(e){if(e.extraParameters&&e.extraParameters.hasOwnProperty(Zc.BROKER_CLIENT_ID)&&e.extraParameters.hasOwnProperty(Zc.BROKER_REDIRECT_URI)&&e.extraParameters.hasOwnProperty(So)){const t=e.extraParameters[So],r=e.redirectUri,s=e.extraParameters[Zc.BROKER_REDIRECT_URI];e.extraParameters={child_client_id:t,child_redirect_uri:r},e.redirectUri=s}}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class rr{constructor(e,t,r,s){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=s,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(M.NativeMessageHandlerHandshake)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:vi.CHANNEL_ID,extensionId:this.extensionId,responseId:dr(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise((r,s)=>{this.resolvers.set(t.responseId,{resolve:r,reject:s})})}static async createProvider(e,t,r){e.trace("NativeMessageHandler - createProvider called.");try{const s=new rr(e,t,r,vi.PREFERRED_EXTENSION_ID);return await s.sendHandshakeRequest(),s}catch{const a=new rr(e,t,r);return await a.sendHandshakeRequest(),a}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:vi.CHANNEL_ID,extensionId:this.extensionId,responseId:dr(),body:{method:Xr.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=t=>{this.onChannelMessage(t)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((t,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(X(af)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(!(!t.channel||t.channel!==vi.CHANNEL_ID)&&!(t.extensionId&&t.extensionId!==this.extensionId)&&t.body.method===Xr.HandshakeRequest){const r=this.handshakeResolvers.get(t.responseId);if(!r){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);return}this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(X(cf))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,r=this.resolvers.get(t.responseId),s=this.handshakeResolvers.get(t.responseId);try{const a=t.body.method;if(a===Xr.Response){if(!r)return;const c=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(c)}`),c.status!=="Success")r.reject(Xc(c.code,c.description,c.ext));else if(c.result)c.result.code&&c.result.description?r.reject(Xc(c.result.code,c.result.description,c.result.ext)):r.resolve(c.result);else throw Pd(ec,"Event does not contain result.");this.resolvers.delete(t.responseId)}else if(a===Xr.HandshakeResponse){if(!s){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),s.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(a){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${a}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(a):s&&s.reject(a)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,t,r,s){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!r)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(s)switch(s){case qe.BEARER:case qe.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class el{constructor(e,t,r,s,a){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=s,this.performanceClient=a}async handleCodeResponse(e,t){this.performanceClient.addQueueMeasurement(M.HandleCodeResponse,t.correlationId);let r;try{r=this.authModule.handleFragmentResponse(e,t.state)}catch(s){throw s instanceof Or&&s.subError===Jr?X(Jr):s}return V(this.handleCodeResponseFromServer.bind(this),M.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)(r,t)}async handleCodeResponseFromServer(e,t,r=!0){if(this.performanceClient.addQueueMeasurement(M.HandleCodeResponseFromServer,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await V(this.authModule.updateAuthority.bind(this.authModule),M.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),r&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const a=this.createCcsCredentials(t);a&&(this.authCodeRequest.ccsCredential=a)}return await V(this.authModule.acquireToken.bind(this.authModule),M.AuthClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:ln.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:ln.UPN}:null}}/*! @azure/msal-browser v3.10.0 2024-02-17 */function Nf(o,e,t){const r=vs(o);if(!r)throw Ch(o)?(t.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),t.errorPii(`The ${e} detected is: ${o}`),X(Bh)):(t.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),X(Fh));return r}function tE(o,e,t){if(!o.state)throw X(xc);const r=Rf(e,o.state);if(!r)throw X(Kh);if(r.interactionType!==t)throw X($h)}/*! @azure/msal-browser v3.10.0 2024-02-17 */class nE extends Po{constructor(e,t,r,s,a,c,u,d,f,g){super(e,t,r,s,a,c,u,f,g),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=d}acquireToken(e){try{const t=this.generatePopupName(e.scopes||di,e.authority||this.config.auth.authority),r=e.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,t,r);{this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");const s=this.openSizedPopup("about:blank",t,r);return this.acquireTokenPopupAsync(e,t,r,s)}}catch(t){return Promise.reject(t)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),r=this.generateLogoutPopupName(t),s=e&&e.authority,a=e&&e.mainWindowRedirectUri,c=(e==null?void 0:e.popupWindowAttributes)||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,r,c,s,void 0,a);{this.logger.verbose("asyncPopup set to false, opening popup");const u=this.openSizedPopup("about:blank",r,c);return this.logoutPopupAsync(t,r,c,s,u,a)}}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t,r,s){this.logger.verbose("acquireTokenPopupAsync called");const a=this.initializeServerTelemetryManager(Xe.acquireTokenPopup),c=await V(this.initializeAuthorizationRequest.bind(this),M.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ee.Popup);wf(c.authority);try{const u=await V(this.initializeAuthorizationCodeRequest.bind(this),M.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(c),d=await V(this.createAuthCodeClient.bind(this),M.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(a,c.authority,c.azureCloudOptions,c.account),f=rr.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let g;f&&(g=this.performanceClient.startMeasurement(M.FetchAccountIdWithNativeBroker,e.correlationId));const p=await d.getAuthCodeUrl({...c,nativeBroker:f}),v=new el(d,this.browserStorage,u,this.logger,this.performanceClient),E={popup:s,popupName:t,popupWindowAttributes:r},A=this.initiateAuthRequest(p,E);this.eventHandler.emitEvent(oe.POPUP_OPENED,ee.Popup,{popupWindow:A},null);const b=await this.monitorPopupForHash(A),_=jr(Nf,M.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(b,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(tr.removeThrottle(this.browserStorage,this.config.auth.clientId,u),_.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),g&&g.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw X(yi);const R=new No(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xe.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,_.accountId,this.nativeStorage,c.correlationId),{userRequestState:P}=Fn.parseRequestState(this.browserCrypto,c.state);return await R.acquireToken({...c,state:P,prompt:void 0})}return await v.handleCodeResponse(_,c)}catch(u){throw s&&s.close(),u instanceof Je&&(u.setCorrelationId(this.correlationId),a.cacheFailedRequest(u)),u}}async logoutPopupAsync(e,t,r,s,a,c){var d,f;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(oe.LOGOUT_START,ee.Popup,e);const u=this.initializeServerTelemetryManager(Xe.logoutPopup);try{await this.clearCacheOnLogout(e.account);const g=await V(this.createAuthCodeClient.bind(this),M.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(u,s,void 0,e.account||void 0);try{g.authority.endSessionEndpoint}catch{if((d=e.account)!=null&&d.homeAccountId&&e.postLogoutRedirectUri&&g.authority.protocolMode===lr.OIDC){if(this.browserStorage.removeAccount((f=e.account)==null?void 0:f.homeAccountId),this.eventHandler.emitEvent(oe.LOGOUT_SUCCESS,ee.Popup,e),c){const E={apiId:Xe.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},A=Le.getAbsoluteUrl(c,hr());await this.navigationClient.navigateInternal(A,E)}a&&a.close();return}}const p=g.getLogoutUri(e);this.eventHandler.emitEvent(oe.LOGOUT_SUCCESS,ee.Popup,e);const v=this.openPopup(p,{popupName:t,popupWindowAttributes:r,popup:a});if(this.eventHandler.emitEvent(oe.POPUP_OPENED,ee.Popup,{popupWindow:v},null),await this.monitorPopupForHash(v).catch(()=>{}),c){const E={apiId:Xe.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},A=Le.getAbsoluteUrl(c,hr());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${A}`),await this.navigationClient.navigateInternal(A,E)}else this.logger.verbose("No main window navigation requested")}catch(g){throw a&&a.close(),g instanceof Je&&(g.setCorrelationId(this.correlationId),u.cacheFailedRequest(g)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(oe.LOGOUT_FAILURE,ee.Popup,null,g),this.eventHandler.emitEvent(oe.LOGOUT_END,ee.Popup),g}this.eventHandler.emitEvent(oe.LOGOUT_END,ee.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),X(Ss)}monitorPopupForHash(e){return new Promise((t,r)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const s=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(s),r(X(Jr));return}let a="";try{a=e.location.href}catch{}if(!a||a==="about:blank")return;clearInterval(s);let c="";const u=this.config.auth.OIDCOptions.serverResponseType;e&&(u===hi.QUERY?c=e.location.search:c=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(c)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e)})}openPopup(e,t){try{let r;if(t.popup?(r=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof t.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,t.popupName,t.popupWindowAttributes)),!r)throw X(qh);return r.focus&&r.focus(),this.currentWindow=r,window.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),this.browserStorage.setInteractionInProgress(!1),X(zh)}}openSizedPopup(e,t,r){var v,E,A,b;const s=window.screenLeft?window.screenLeft:window.screenX,a=window.screenTop?window.screenTop:window.screenY,c=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,u=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let d=(v=r.popupSize)==null?void 0:v.width,f=(E=r.popupSize)==null?void 0:E.height,g=(A=r.popupPosition)==null?void 0:A.top,p=(b=r.popupPosition)==null?void 0:b.left;return(!d||d<0||d>c)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),d=Kn.POPUP_WIDTH),(!f||f<0||f>u)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),f=Kn.POPUP_HEIGHT),(!g||g<0||g>u)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),g=Math.max(0,u/2-Kn.POPUP_HEIGHT/2+a)),(!p||p<0||p>c)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),p=Math.max(0,c/2-Kn.POPUP_WIDTH/2+s)),window.open(e,t,`width=${d}, height=${f}, top=${g}, left=${p}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(ee.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${Kn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${Kn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class xf{constructor(e,t,r,s,a){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=s,this.performanceClient=a}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(Fe.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(Fe.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const r={apiId:Xe.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1};if(typeof t.onRedirectNavigate=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),t.onRedirectNavigate(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await t.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await t.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),X(Ss)}async handleCodeResponse(e,t){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const r=this.browserStorage.generateStateKey(t),s=this.browserStorage.getTemporaryCache(r);if(!s)throw q(ds,"Cached State");let a;try{a=this.authModule.handleFragmentResponse(e,s)}catch(f){throw f instanceof Or&&f.subError===Jr?X(Jr):f}const c=this.browserStorage.generateNonceKey(s),u=this.browserStorage.getTemporaryCache(c);if(this.authCodeRequest.code=a.code,a.cloud_instance_host_name&&await V(this.authModule.updateAuthority.bind(this.authModule),M.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(a.cloud_instance_host_name,this.authCodeRequest.correlationId),a.nonce=u||void 0,a.state=s,a.client_info)this.authCodeRequest.clientInfo=a.client_info;else{const f=this.checkCcsCredentials();f&&(this.authCodeRequest.ccsCredential=f)}const d=await this.authModule.acquireToken(this.authCodeRequest,a);return this.browserStorage.cleanRequestByState(t),d}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(Fe.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class rE extends Po{constructor(e,t,r,s,a,c,u,d,f,g){super(e,t,r,s,a,c,u,f,g),this.nativeStorage=d}async acquireToken(e){const t=await V(this.initializeAuthorizationRequest.bind(this),M.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ee.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);const r=this.initializeServerTelemetryManager(Xe.acquireTokenRedirect),s=a=>{a.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(oe.RESTORE_FROM_BFCACHE,ee.Redirect))};try{const a=await V(this.initializeAuthorizationCodeRequest.bind(this),M.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(t),c=await V(this.createAuthCodeClient.bind(this),M.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(r,t.authority,t.azureCloudOptions,t.account),u=new xf(c,this.browserStorage,a,this.logger,this.performanceClient),d=await c.getAuthCodeUrl({...t,nativeBroker:rr.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),f=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${f}`),window.addEventListener("pageshow",s),await u.initiateAuthRequest(d,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:f,onRedirectNavigate:e.onRedirectNavigate})}catch(a){throw a instanceof Je&&(a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a)),window.removeEventListener("pageshow",s),this.browserStorage.cleanRequestByState(t.state),a}}async handleRedirectPromise(e,t,r){const s=this.initializeServerTelemetryManager(Xe.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[a,c]=this.getRedirectResponse(e||"");if(!a)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(ee.Redirect),t&&r&&(t==null||t.addFields({errorCode:"no_server_response"},r)),null;const u=this.browserStorage.getTemporaryCache(Fe.ORIGIN_URI,!0)||U.EMPTY_STRING,d=Le.removeHashFromUrl(u),f=Le.removeHashFromUrl(window.location.href);if(d===f&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),u.indexOf("#")>-1&&Aw(u),await this.handleResponse(a,s);if(this.config.auth.navigateToLoginRequestUrl){if(!$c()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Fe.URL_HASH,c,!0);const g={apiId:Xe.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let p=!0;if(!u||u==="null"){const v=Sw();this.browserStorage.setTemporaryCache(Fe.ORIGIN_URI,v,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),p=await this.navigationClient.navigateInternal(v,g)}else this.logger.verbose(`Navigating to loginRequestUrl: ${u}`),p=await this.navigationClient.navigateInternal(u,g);if(!p)return await this.handleResponse(a,s)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(a,s);return null}catch(a){throw a instanceof Je&&(a.setCorrelationId(this.correlationId),s.cacheFailedRequest(a)),this.browserStorage.cleanRequestByInteractionType(ee.Redirect),a}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(this.config.auth.OIDCOptions.serverResponseType===hi.QUERY?t=window.location.search:t=window.location.hash);let r=vs(t);if(r){try{tE(r,this.browserCrypto,ee.Redirect)}catch(a){return a instanceof Je&&this.logger.error(`Interaction type validation failed due to ${a.errorCode}: ${a.errorMessage}`),[null,""]}return Tw(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,t]}const s=this.browserStorage.getTemporaryCache(Fe.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Fe.URL_HASH)),s&&(r=vs(s),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,s]):[null,""]}async handleResponse(e,t){const r=e.state;if(!r)throw X(xc);const s=this.browserStorage.getCachedRequest(r);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw X(yi);const d=new No(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xe.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,s.correlationId),{userRequestState:f}=Fn.parseRequestState(this.browserCrypto,r);return d.acquireToken({...s,state:f,prompt:void 0}).finally(()=>{this.browserStorage.cleanRequestByState(r)})}const a=this.browserStorage.getCachedAuthority(r);if(!a)throw X(Mc);const c=await V(this.createAuthCodeClient.bind(this),M.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(t,a);return tr.removeThrottle(this.browserStorage,this.config.auth.clientId,s),new xf(c,this.browserStorage,s,this.logger,this.performanceClient).handleCodeResponse(e,r)}async logout(e){var s,a;this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(Xe.logout);try{this.eventHandler.emitEvent(oe.LOGOUT_START,ee.Redirect,e),await this.clearCacheOnLogout(t.account);const c={apiId:Xe.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},u=await V(this.createAuthCodeClient.bind(this),M.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(r,e&&e.authority,void 0,e&&e.account||void 0);if(u.authority.protocolMode===lr.OIDC)try{u.authority.endSessionEndpoint}catch{if((s=t.account)!=null&&s.homeAccountId){this.browserStorage.removeAccount((a=t.account)==null?void 0:a.homeAccountId),this.eventHandler.emitEvent(oe.LOGOUT_SUCCESS,ee.Redirect,t);return}}const d=u.getLogoutUri(t);if(this.eventHandler.emitEvent(oe.LOGOUT_SUCCESS,ee.Redirect,t),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(d)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(d,c);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(d,c);return}}catch(c){throw c instanceof Je&&(c.setCorrelationId(this.correlationId),r.cacheFailedRequest(c)),this.eventHandler.emitEvent(oe.LOGOUT_FAILURE,ee.Redirect,null,c),this.eventHandler.emitEvent(oe.LOGOUT_END,ee.Redirect),c}this.eventHandler.emitEvent(oe.LOGOUT_END,ee.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return Le.getAbsoluteUrl(t,hr())}}/*! @azure/msal-browser v3.10.0 2024-02-17 */async function oE(o,e,t,r,s){if(e.addQueueMeasurement(M.SilentHandlerInitiateAuthRequest,r),!o)throw t.info("Navigate url is empty"),X(Ss);return s?V(sE,M.SilentHandlerLoadFrame,t,e,r)(o,s,e,r):jr(aE,M.SilentHandlerLoadFrameSync,t,e,r)(o)}async function iE(o,e,t,r,s,a,c){return r.addQueueMeasurement(M.SilentHandlerMonitorIframeForHash,a),new Promise((u,d)=>{e<zc&&s.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${zc}ms). This may result in timeouts.`);const f=window.setTimeout(()=>{window.clearInterval(g),d(X(Wh))},e),g=window.setInterval(()=>{let p="";const v=o.contentWindow;try{p=v?v.location.href:""}catch{}if(!p||p==="about:blank")return;let E="";v&&(c===hi.QUERY?E=v.location.search:E=v.location.hash),window.clearTimeout(f),window.clearInterval(g),u(E)},t)}).finally(()=>{jr(cE,M.RemoveHiddenIframe,s,r,a)(o)})}function sE(o,e,t,r){return t.addQueueMeasurement(M.SilentHandlerLoadFrame,r),new Promise((s,a)=>{const c=Mf();window.setTimeout(()=>{if(!c){a("Unable to load iframe");return}c.src=o,s(c)},e)})}function aE(o){const e=Mf();return e.src=o,e}function Mf(){const o=document.createElement("iframe");return o.style.visibility="hidden",o.style.position="absolute",o.style.width=o.style.height="0",o.style.border="0",o.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(o),o}function cE(o){document.body===o.parentNode&&document.body.removeChild(o)}/*! @azure/msal-browser v3.10.0 2024-02-17 */class lE extends Po{constructor(e,t,r,s,a,c,u,d,f,g,p){super(e,t,r,s,a,c,d,g,p),this.apiId=u,this.nativeStorage=f}async acquireToken(e){this.performanceClient.addQueueMeasurement(M.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==wt.NONE&&t.prompt!==wt.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${wt.NONE}`),t.prompt=wt.NONE):t.prompt=wt.NONE;const r=await V(this.initializeAuthorizationRequest.bind(this),M.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,ee.Silent);wf(r.authority);const s=this.initializeServerTelemetryManager(this.apiId);try{const a=await V(this.createAuthCodeClient.bind(this),M.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)(s,r.authority,r.azureCloudOptions,r.account);return await V(this.silentTokenHelper.bind(this),M.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(a,r)}catch(a){throw a instanceof Je&&(a.setCorrelationId(this.correlationId),s.cacheFailedRequest(a)),a}}logout(){return Promise.reject(X(_s))}async silentTokenHelper(e,t){const r=t.correlationId;this.performanceClient.addQueueMeasurement(M.SilentIframeClientTokenHelper,r);const s=await V(this.initializeAuthorizationCodeRequest.bind(this),M.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,r)(t),a=await V(e.getAuthCodeUrl.bind(e),M.GetAuthCodeUrl,this.logger,this.performanceClient,r)({...t,nativeBroker:rr.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}),c=new el(e,this.browserStorage,s,this.logger,this.performanceClient),u=await V(oE,M.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(a,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait),d=this.config.auth.OIDCOptions.serverResponseType,f=await V(iE,M.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(u,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,d),g=jr(Nf,M.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(f,d,this.logger);if(g.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw X(yi);const p=new No(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,g.accountId,this.browserStorage,r),{userRequestState:v}=Fn.parseRequestState(this.browserCrypto,t.state);return V(p.acquireToken.bind(p),M.NativeInteractionClientAcquireToken,this.logger,this.performanceClient,r)({...t,state:v,prompt:t.prompt||wt.NONE})}return V(c.handleCodeResponse.bind(c),M.HandleCodeResponse,this.logger,this.performanceClient,r)(g,t)}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class uE extends Po{async acquireToken(e){this.performanceClient.addQueueMeasurement(M.SilentRefreshClientAcquireToken,e.correlationId);const t=await V(this.initializeBaseRequest.bind(this),M.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e),r={...e,...t};e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));const s=this.initializeServerTelemetryManager(Xe.acquireTokenSilent_silentFlow),a=await this.createRefreshTokenClient(s,r.authority,r.azureCloudOptions,r.account);return V(a.acquireTokenByRefreshToken.bind(a),M.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(c=>{throw c.setCorrelationId(this.correlationId),s.cacheFailedRequest(c),c})}logout(){return Promise.reject(X(_s))}async createRefreshTokenClient(e,t,r,s){const a=await V(this.getClientConfiguration.bind(this),M.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e,t,r,s);return new kc(a,this.performanceClient)}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class dE{constructor(e,t,r,s){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=t,this.logger=r,this.cryptoObj=s}loadExternalTokens(e,t,r){if(this.logger.info("TokenCache - loadExternalTokens called"),!t.id_token)throw X(Bn);const s=Vr(t.id_token,nr);let a,c,u;if(e.account)u=ft.createFromAccountInfo(e.account),a=new _o(u,this.loadIdToken(t.id_token,u.homeAccountId,e.account.environment,e.account.tenantId),this.loadAccessToken(e,t,u.homeAccountId,e.account.environment,e.account.tenantId,r),this.loadRefreshToken(e,t,u.homeAccountId,e.account.environment));else if(e.authority){const d=Lt.generateAuthority(e.authority,e.azureCloudOptions),f={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};if(c=new Lt(d,this.config.system.networkClient,this.storage,f,this.logger,e.correlationId||dr()),r.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),u=this.loadAccount(s,c,r.clientInfo),a=new _o(u,this.loadIdToken(t.id_token,u.homeAccountId,c.hostnameAndPort,c.tenant),this.loadAccessToken(e,t,u.homeAccountId,c.hostnameAndPort,c.tenant,r),this.loadRefreshToken(e,t,u.homeAccountId,c.hostnameAndPort));else if(t.client_info)this.logger.trace("TokenCache - homeAccountId from response"),u=this.loadAccount(s,c,t.client_info),a=new _o(u,this.loadIdToken(t.id_token,u.homeAccountId,c.hostnameAndPort,c.tenant),this.loadAccessToken(e,t,u.homeAccountId,c.hostnameAndPort,c.tenant,r),this.loadRefreshToken(e,t,u.homeAccountId,c.hostnameAndPort));else throw X(Bn)}else throw X(Bn);return this.generateAuthenticationResult(e,s,a,u,c)}loadAccount(e,t,r,s){if(this.isBrowserEnvironment){this.logger.verbose("TokenCache - loading account");let a;if(s?a=s:t.authorityType!==void 0&&r&&(a=ft.generateHomeAccountId(r,t.authorityType,this.logger,this.cryptoObj,e)),!a)throw X(Bn);const c=e.tid,u=Rc(this.storage,t,a,e,nr,r,t.hostnameAndPort,c,void 0,void 0,this.logger);return this.storage.setAccount(u),u}else throw X(Bn)}loadIdToken(e,t,r,s){const a=gs(t,r,e,this.config.auth.clientId,s);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading id token"),this.storage.setIdTokenCredential(a),a;throw X(Bn)}loadAccessToken(e,t,r,s,a,c){if(!t.access_token)return this.logger.verbose("TokenCache - No access token provided for caching"),null;if(!t.expires_in||!c.extendedExpiresOn)throw X(Bn);const u=new dt(e.scopes).printScopes(),d=c.expiresOn||t.expires_in+new Date().getTime()/1e3,f=c.extendedExpiresOn,g=ps(r,s,t.access_token,this.config.auth.clientId,a,u,d,f,nr);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(g),g;throw X(Bn)}loadRefreshToken(e,t,r,s){if(!t.refresh_token)return this.logger.verbose("TokenCache - No refresh token provided for caching"),null;const a=Jd(r,s,t.refresh_token,this.config.auth.clientId);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading refresh token"),this.storage.setRefreshTokenCredential(a),a;throw X(Bn)}generateAuthenticationResult(e,t,r,s,a){var v,E;let c=U.EMPTY_STRING,u=[],d=null,f;r!=null&&r.accessToken&&(c=r.accessToken.secret,u=dt.fromString(r.accessToken.target).asArray(),d=new Date(Number(r.accessToken.expiresOn)*1e3),f=new Date(Number(r.accessToken.extendedExpiresOn)*1e3));const g=t.oid||t.sub||U.EMPTY_STRING,p=t.tid||U.EMPTY_STRING;return{authority:a?a.canonicalAuthority:U.EMPTY_STRING,uniqueId:g,tenantId:p,scopes:u,account:s.getAccountInfo(),idToken:((v=r.idToken)==null?void 0:v.secret)||"",idTokenClaims:t||{},accessToken:c,fromCache:!0,expiresOn:d,correlationId:e.correlationId||U.EMPTY_STRING,requestId:U.EMPTY_STRING,extExpiresOn:f,familyId:U.EMPTY_STRING,tokenType:((E=r==null?void 0:r.accessToken)==null?void 0:E.tokenType)||U.EMPTY_STRING,state:U.EMPTY_STRING,cloudGraphHostName:s.cloudGraphHostName||U.EMPTY_STRING,msGraphHost:s.msGraphHost||U.EMPTY_STRING,code:void 0,fromNativeBroker:!1}}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class hE extends xh{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class fE extends Po{constructor(e,t,r,s,a,c,u,d,f,g){super(e,t,r,s,a,c,d,f,g),this.apiId=u}async acquireToken(e){if(!e.code)throw X(nf);const t=await V(this.initializeAuthorizationRequest.bind(this),M.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,ee.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const s={...t,code:e.code},a=await V(this.getClientConfiguration.bind(this),M.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)(r,t.authority,t.azureCloudOptions,t.account),c=new hE(a);this.logger.verbose("Auth code client created");const u=new el(c,this.browserStorage,s,this.logger,this.performanceClient);return await V(u.handleCodeResponseFromServer.bind(u),M.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(s){throw s instanceof Je&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),s}}logout(){return Promise.reject(X(_s))}}/*! @azure/msal-browser v3.10.0 2024-02-17 */class Os{constructor(e){this.atsAsyncMeasurement=void 0,this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new ko(this.logger,this.performanceClient):fs,this.eventHandler=new Kw(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new Jc(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,Gv(this.config.auth)):Bw(this.config.auth.clientId,this.logger);const t={cacheLocation:gt.MemoryStorage,temporaryCacheLocation:gt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Jc(this.config.auth.clientId,t,this.browserCrypto,this.logger),this.tokenCache=new dE(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e){const t=new Os(e);return await t.initialize(),t}trackPageVisibility(){this.atsAsyncMeasurement&&(this.logger.info("Perf: Visibility change detected"),this.atsAsyncMeasurement.increment({visibilityChangeCount:1}))}async initialize(){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}const e=this.config.system.allowNativeBroker,t=this.performanceClient.startMeasurement(M.InitializeClientApplication);if(this.eventHandler.emitEvent(oe.INITIALIZE_START),e)try{this.nativeExtensionProvider=await rr.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(r){this.logger.verbose(r)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await V(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),M.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient)(this.performanceClient)),this.initialized=!0,this.eventHandler.emitEvent(oe.INITIALIZE_END),t.end({allowNativeBroker:e,success:!0})}async handleRedirectPromise(e){this.logger.verbose("handleRedirectPromise called"),vf(this.initialized);const t=this.getAllAccounts();if(this.isBrowserEnvironment){const r=e||"";let s=this.redirectResponse.get(r);if(typeof s>"u"){const a=this.browserStorage.getCachedNativeRequest(),c=a&&rr.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,u=c?a==null?void 0:a.correlationId:this.browserStorage.getTemporaryCache(Fe.CORRELATION_ID,!0)||"",d=this.performanceClient.startMeasurement("acquireTokenRedirect",u);this.eventHandler.emitEvent(oe.HANDLE_REDIRECT_START,ee.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise");let f;if(c&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const g=new No(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xe.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,a.accountId,this.nativeInternalStorage,a.correlationId);f=V(g.handleRedirectPromise.bind(g),M.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,d.event.correlationId)(this.performanceClient,d.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const g=this.createRedirectClient(u);f=V(g.handleRedirectPromise.bind(g),M.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,d.event.correlationId)(e,this.performanceClient,d.event.correlationId)}s=f.then(g=>(g&&(t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(oe.LOGIN_SUCCESS,ee.Redirect,g),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_SUCCESS,ee.Redirect,g),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),d.end({success:!0})),this.eventHandler.emitEvent(oe.HANDLE_REDIRECT_END,ee.Redirect),d.end({success:!1}),g)).catch(g=>{const p=g;throw t.length>0?this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_FAILURE,ee.Redirect,null,p):this.eventHandler.emitEvent(oe.LOGIN_FAILURE,ee.Redirect,null,p),this.eventHandler.emitEvent(oe.HANDLE_REDIRECT_END,ee.Redirect),p instanceof Je?d.end({success:!1,errorCode:p.errorCode,subErrorCode:p.subError}):d.end({success:!1}),g}),this.redirectResponse.set(r,s)}else this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call");return s}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t),this.preflightBrowserEnvironmentCheck(ee.Redirect);const r=this.getAllAccounts().length>0;r?this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_START,ee.Redirect,e):this.eventHandler.emitEvent(oe.LOGIN_START,ee.Redirect,e);let s;return this.nativeExtensionProvider&&this.canUseNative(e)?s=new No(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xe.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e).catch(c=>{if(c instanceof fr&&Oo(c))return this.nativeExtensionProvider=void 0,this.createRedirectClient(t).acquireToken(e);if(c instanceof Hn)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(t).acquireToken(e);throw this.getBrowserStorage().setInteractionInProgress(!1),c}):s=this.createRedirectClient(t).acquireToken(e),s.catch(a=>{throw r?this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_FAILURE,ee.Redirect,null,a):this.eventHandler.emitEvent(oe.LOGIN_FAILURE,ee.Redirect,null,a),a})}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(M.AcquireTokenPopup,t);try{this.logger.verbose("acquireTokenPopup called",t),this.preflightBrowserEnvironmentCheck(ee.Popup)}catch(c){return Promise.reject(c)}const s=this.getAllAccounts();s.length>0?this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_START,ee.Popup,e):this.eventHandler.emitEvent(oe.LOGIN_START,ee.Popup,e);let a;return this.canUseNative(e)?a=this.acquireTokenNative({...e,correlationId:t},Xe.acquireTokenPopup).then(c=>(this.getBrowserStorage().setInteractionInProgress(!1),r.end({success:!0,isNativeBroker:!0,requestId:c.requestId}),c)).catch(c=>{if(c instanceof fr&&Oo(c))return this.nativeExtensionProvider=void 0,this.createPopupClient(t).acquireToken(e);if(c instanceof Hn)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(t).acquireToken(e);throw this.getBrowserStorage().setInteractionInProgress(!1),c}):a=this.createPopupClient(t).acquireToken(e),a.then(c=>(s.length<this.getAllAccounts().length?this.eventHandler.emitEvent(oe.LOGIN_SUCCESS,ee.Popup,c):this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_SUCCESS,ee.Popup,c),r.add({accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length}),r.end({success:!0,requestId:c.requestId}),c)).catch(c=>(s.length>0?this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_FAILURE,ee.Popup,null,c):this.eventHandler.emitEvent(oe.LOGIN_FAILURE,ee.Popup,null,c),r.end({errorCode:c.errorCode,subErrorCode:c.subError,success:!1}),Promise.reject(c)))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var a;const t=this.getRequestCorrelationId(e),r={...e,prompt:e.prompt,correlationId:t};this.preflightBrowserEnvironmentCheck(ee.Silent),this.ssoSilentMeasurement=this.performanceClient.startMeasurement(M.SsoSilent,t),(a=this.ssoSilentMeasurement)==null||a.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(oe.SSO_SILENT_START,ee.Silent,r);let s;return this.canUseNative(r)?s=this.acquireTokenNative(r,Xe.ssoSilent).catch(c=>{if(c instanceof fr&&Oo(c))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw c}):s=this.createSilentIframeClient(r.correlationId).acquireToken(r),s.then(c=>{var u,d;return this.eventHandler.emitEvent(oe.SSO_SILENT_SUCCESS,ee.Silent,c),(u=this.ssoSilentMeasurement)==null||u.add({accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length}),(d=this.ssoSilentMeasurement)==null||d.end({success:!0,isNativeBroker:c.fromNativeBroker,requestId:c.requestId}),c}).catch(c=>{var u;throw this.eventHandler.emitEvent(oe.SSO_SILENT_FAILURE,ee.Silent,null,c),(u=this.ssoSilentMeasurement)==null||u.end({errorCode:c.errorCode,subErrorCode:c.subError,success:!1}),c}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.preflightBrowserEnvironmentCheck(ee.Silent),this.logger.trace("acquireTokenByCode called",t),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_BY_CODE_START,ee.Silent,e);const r=this.performanceClient.startMeasurement(M.AcquireTokenByCode,t);try{if(e.code&&e.nativeAccountId)throw X(of);if(e.code){const s=e.code;let a=this.hybridAuthCodeResponses.get(s);return a?(this.logger.verbose("Existing acquireTokenByCode request found",t),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),a=this.acquireTokenByCodeAsync({...e,correlationId:t}).then(c=>(this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_BY_CODE_SUCCESS,ee.Silent,c),this.hybridAuthCodeResponses.delete(s),r.add({accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length}),r.end({success:!0,isNativeBroker:c.fromNativeBroker,requestId:c.requestId}),c)).catch(c=>{throw this.hybridAuthCodeResponses.delete(s),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_BY_CODE_FAILURE,ee.Silent,null,c),r.end({errorCode:c.errorCode,subErrorCode:c.subError,success:!1}),c}),this.hybridAuthCodeResponses.set(s,a)),await a}else if(e.nativeAccountId){if(this.canUseNative(e,e.nativeAccountId))return await this.acquireTokenNative({...e,correlationId:t},Xe.acquireTokenByCode,e.nativeAccountId).catch(s=>{throw s instanceof fr&&Oo(s)&&(this.nativeExtensionProvider=void 0),s});throw X(sf)}else throw X(rf)}catch(s){throw this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_BY_CODE_FAILURE,ee.Silent,null,s),r.end({errorCode:s instanceof Je&&s.errorCode||void 0,subErrorCode:s instanceof Je&&s.subError||void 0,success:!1}),s}}async acquireTokenByCodeAsync(e){var s;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(M.AcquireTokenByCodeAsync,e.correlationId),(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(a=>{var c;return(c=this.acquireTokenByCodeAsyncMeasurement)==null||c.end({success:!0,fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker,requestId:a.requestId}),a}).catch(a=>{var c;throw(c=this.acquireTokenByCodeAsyncMeasurement)==null||c.end({errorCode:a.errorCode,subErrorCode:a.subError,success:!1}),a}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,t,r){switch(this.performanceClient.addQueueMeasurement(M.AcquireTokenFromCache,t.correlationId),r){case En.Default:case En.AccessToken:case En.AccessTokenAndRefreshToken:return V(e.acquireToken.bind(e),M.SilentCacheClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t);default:throw q(kr)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(M.AcquireTokenByRefreshToken,e.correlationId),t){case En.Default:case En.AccessTokenAndRefreshToken:case En.RefreshToken:case En.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(e.correlationId);return V(r.acquireToken.bind(r),M.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw q(kr)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(M.AcquireTokenBySilentIframe,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return V(t.acquireToken.bind(t),M.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);return this.preflightBrowserEnvironmentCheck(ee.Redirect),this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);return this.preflightBrowserEnvironmentCheck(ee.Popup),this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}async clearCache(e){const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts(e):[]}getAccount(e){if(this.logger.trace("getAccount called"),Object.keys(e).length===0)return this.logger.warning("getAccount: No accountFilter provided"),null;const t=this.browserStorage.getAccountInfoFilteredBy(e);return t?(this.logger.verbose("getAccount: Account matching provided filter found, returning"),t):(this.logger.verbose("getAccount: No matching account found, returning null"),null)}getAccountByUsername(e){if(this.logger.trace("getAccountByUsername called"),!e)return this.logger.warning("getAccountByUsername: No username provided"),null;const t=this.browserStorage.getAccountInfoFilteredBy({username:e});return t?(this.logger.verbose("getAccountByUsername: Account matching username found, returning"),this.logger.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),t):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)}getAccountByHomeId(e){if(this.logger.trace("getAccountByHomeId called"),!e)return this.logger.warning("getAccountByHomeId: No homeAccountId provided"),null;const t=this.browserStorage.getAccountInfoFilteredBy({homeAccountId:e});return t?(this.logger.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),this.logger.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),t):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)}getAccountByLocalId(e){if(this.logger.trace("getAccountByLocalId called"),!e)return this.logger.warning("getAccountByLocalId: No localAccountId provided"),null;const t=this.browserStorage.getAccountInfoFilteredBy({localAccountId:e});return t?(this.logger.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),this.logger.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),t):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)}setActiveAccount(e){this.browserStorage.setActiveAccount(e)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const r=ft.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(r),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}preflightBrowserEnvironmentCheck(e,t=!1){if(this.logger.verbose("preflightBrowserEnvironmentCheck started"),Rw(this.isBrowserEnvironment),_w(e,this.config.system.allowRedirectInIframe),Gc(),Iw(),vf(this.initialized),e===ee.Redirect&&this.config.cache.cacheLocation===gt.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw pt(_f);(e===ee.Redirect||e===ee.Popup)&&this.preflightInteractiveRequest(!t)}preflightInteractiveRequest(e){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),Gc(),e&&this.getBrowserStorage().setInteractionInProgress(!0)}async acquireTokenNative(e,t,r){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw X(yi);return new No(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)}canUseNative(e,t){if(this.logger.trace("canUseNative called"),!rr.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case wt.NONE:case wt.CONSENT:case wt.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!t&&!this.getNativeAccountId(e)?(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new nE(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new rE(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new lE(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xe.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new Of(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new uE(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new fE(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xe.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e){return this.eventHandler.addEventCallback(e)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.eventHandler.enableAccountStorageEvents()}disableAccountStorageEvents(){this.eventHandler.disableAccountStorageEvents()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}getBrowserStorage(){return this.browserStorage}isBrowserEnv(){return this.isBrowserEnvironment}getEventHandler(){return this.eventHandler}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?dr():U.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||ff})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||ff})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(M.AcquireTokenSilent,t);r.add({cacheLookupPolicy:e.cacheLookupPolicy}),this.preflightBrowserEnvironmentCheck(ee.Silent),this.logger.verbose("acquireTokenSilent called",t);const s=e.account||this.getActiveAccount();if(!s)throw X(Qh);const a={clientId:this.config.auth.clientId,authority:e.authority||U.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:s.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},c=JSON.stringify(a),u=this.activeSilentTokenRequests.get(c);if(typeof u>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);const d=V(this.acquireTokenSilentAsync.bind(this),M.AcquireTokenSilentAsync,this.logger,this.performanceClient,t)({...e,correlationId:t},s).then(f=>(this.activeSilentTokenRequests.delete(c),r.add({accessTokenSize:f.accessToken.length,idTokenSize:f.idToken.length}),r.end({success:!0,fromCache:f.fromCache,isNativeBroker:f.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:f.requestId}),f)).catch(f=>{throw this.activeSilentTokenRequests.delete(c),r.end({errorCode:f.errorCode,subErrorCode:f.subError,success:!1}),f});return this.activeSilentTokenRequests.set(c,d),{...await d,state:e.state}}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),r.discard(),{...await u,state:e.state}}async acquireTokenSilentAsync(e,t){var s;this.performanceClient.addQueueMeasurement(M.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_START,ee.Silent,e),this.atsAsyncMeasurement=this.performanceClient.startMeasurement(M.AcquireTokenSilentAsync,e.correlationId),(s=this.atsAsyncMeasurement)==null||s.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibility);let r;if(rr.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&t.nativeAccountId){this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform");const a={...e,account:t};r=this.acquireTokenNative(a,Xe.acquireTokenSilent_silentFlow).catch(async c=>{if(c instanceof fr&&Oo(c))return this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,this.createSilentIframeClient(e.correlationId).acquireToken(e);throw c})}else{this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow");const a=this.createSilentCacheClient(e.correlationId),c=await V(a.initializeSilentRequest.bind(a),M.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,t),u=e.cacheLookupPolicy||En.Default;r=V(this.acquireTokenFromCache.bind(this),M.AcquireTokenFromCache,this.logger,this.performanceClient,c.correlationId)(a,c,u).catch(d=>{if(e.cacheLookupPolicy===En.AccessToken)throw d;return Gc(),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_NETWORK_START,ee.Silent,c),V(this.acquireTokenByRefreshToken.bind(this),M.AcquireTokenByRefreshToken,this.logger,this.performanceClient,c.correlationId)(c,u).catch(f=>{if(gE(f,c,u))return this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",c.correlationId),V(this.acquireTokenBySilentIframe.bind(this),M.AcquireTokenBySilentIframe,this.logger,this.performanceClient,c.correlationId)(c);throw f})})}return r.then(a=>{var c;return this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_SUCCESS,ee.Silent,a),(c=this.atsAsyncMeasurement)==null||c.end({success:!0,fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker,requestId:a.requestId}),a}).catch(a=>{var c;throw this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_FAILURE,ee.Silent,null,a),(c=this.atsAsyncMeasurement)==null||c.end({errorCode:a.errorCode,subErrorCode:a.subError,success:!1}),a}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibility)})}}function gE(o,e,t){const r=!(o instanceof Hn&&o.subError!==As),s=o.errorCode===Kn.INVALID_GRANT_ERROR||o.errorCode===kr,a=r&&s||o.errorCode===Ts||o.errorCode===_c,c=dw.includes(t);return a&&c}const pE=Object.freeze(Object.defineProperty({__proto__:null,StandardController:Os},Symbol.toStringTag,{value:"Module"}));/*! @azure/msal-browser v3.10.0 2024-02-17 */class tl{static async createPublicClientApplication(e){const t=await Lw(e);return new tl(e,t)}constructor(e,t){if(t)this.controller=t;else{const r=new Zr(e);this.controller=new Os(r)}}async initialize(){return this.controller.initialize()}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e){return this.controller.addEventCallback(e)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}/*! @azure/msal-browser v3.10.0 2024-02-17 */const mE={initialize:()=>Promise.reject(pt(Tt)),acquireTokenPopup:()=>Promise.reject(pt(Tt)),acquireTokenRedirect:()=>Promise.reject(pt(Tt)),acquireTokenSilent:()=>Promise.reject(pt(Tt)),acquireTokenByCode:()=>Promise.reject(pt(Tt)),getAllAccounts:()=>[],getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(pt(Tt)),loginPopup:()=>Promise.reject(pt(Tt)),loginRedirect:()=>Promise.reject(pt(Tt)),logout:()=>Promise.reject(pt(Tt)),logoutRedirect:()=>Promise.reject(pt(Tt)),logoutPopup:()=>Promise.reject(pt(Tt)),ssoSilent:()=>Promise.reject(pt(Tt)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw pt(Tt)},getLogger:()=>{throw pt(Tt)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw pt(Tt)},hydrateCache:()=>Promise.reject(pt(Tt)),clearCache:()=>Promise.reject(pt(Tt))};/*! @azure/msal-browser v3.10.0 2024-02-17 */class yE{static getInteractionStatusFromEvent(e,t){switch(e.eventType){case oe.LOGIN_START:return Et.Login;case oe.SSO_SILENT_START:return Et.SsoSilent;case oe.ACQUIRE_TOKEN_START:if(e.interactionType===ee.Redirect||e.interactionType===ee.Popup)return Et.AcquireToken;break;case oe.HANDLE_REDIRECT_START:return Et.HandleRedirect;case oe.LOGOUT_START:return Et.Logout;case oe.SSO_SILENT_SUCCESS:case oe.SSO_SILENT_FAILURE:if(t&&t!==Et.SsoSilent)break;return Et.None;case oe.LOGOUT_END:if(t&&t!==Et.Logout)break;return Et.None;case oe.HANDLE_REDIRECT_END:if(t&&t!==Et.HandleRedirect)break;return Et.None;case oe.LOGIN_SUCCESS:case oe.LOGIN_FAILURE:case oe.ACQUIRE_TOKEN_SUCCESS:case oe.ACQUIRE_TOKEN_FAILURE:case oe.RESTORE_FROM_BFCACHE:if(e.interactionType===ee.Redirect||e.interactionType===ee.Popup){if(t&&t!==Et.Login&&t!==Et.AcquireToken)break;return Et.None}break}return null}}const Lf={names:{signUpSignIn:"b2c_1a_signupsignin_c",forgotPassword:"b2c_1a_passwordreset_c",editProfile:"b2c_1a_profileedit_c"},authorities:{signUpSignIn:{authority:"https://authentication.buildingsmart.org/tfp/buildingsmartservices.onmicrosoft.com/b2c_1a_signupsignin_c"},forgotPassword:{authority:"https://authentication.buildingsmart.org/tfp/buildingsmartservices.onmicrosoft.com/b2c_1a_passwordreset_c"},editProfile:{authority:"https://authentication.buildingsmart.org/tfp/buildingsmartservices.onmicrosoft.com/b2c_1a_profileedit_c"}},authorityDomain:"authentication.buildingsmart.org"},CE={auth:{clientId:"0fcd615b-f2b7-4514-9046-7b3e545ba341",authority:Lf.authorities.signUpSignIn.authority,knownAuthorities:[Lf.authorityDomain],redirectUri:"/react-bsdd-search/",postLogoutRedirectUri:"/react-bsdd-search/",navigateToLoginRequestUrl:!1},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(o,e,t)=>{if(!t)switch(o){case We.Error:console.error(e);return;case We.Info:console.info(e);return;case We.Verbose:console.debug(e);return;case We.Warning:console.warn(e);return;default:return}}}}};/*! @azure/msal-react v2.0.12 2024-02-17 */const vE={instance:mE,inProgress:Et.None,accounts:[],logger:new Pr({})},Df=Ie.createContext(vE);Df.Consumer;/*! @azure/msal-react v2.0.12 2024-02-17 */function Uf(o,e){if(o.length!==e.length)return!1;const t=[...e];return o.every(r=>{const s=t.shift();return!r||!s?!1:r.homeAccountId===s.homeAccountId&&r.localAccountId===s.localAccountId&&r.username===s.username})}/*! @azure/msal-react v2.0.12 2024-02-17 */const wE="@azure/msal-react",Hf="2.0.12";/*! @azure/msal-react v2.0.12 2024-02-17 */const Ns={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},EE=(o,e)=>{const{type:t,payload:r}=e;let s=o.inProgress;switch(t){case Ns.UNBLOCK_INPROGRESS:o.inProgress===Et.Startup&&(s=Et.None,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case Ns.EVENT:const c=r.message,u=yE.getInteractionStatusFromEvent(c,o.inProgress);u&&(r.logger.info(`MsalProvider - ${c.eventType} results in setting inProgress from ${o.inProgress} to ${u}`),s=u);break;default:throw new Error(`Unknown action type: ${t}`)}const a=r.instance.getAllAccounts();return s!==o.inProgress&&!Uf(a,o.accounts)?{...o,inProgress:s,accounts:a}:s!==o.inProgress?{...o,inProgress:s}:Uf(a,o.accounts)?o:{...o,accounts:a}};function TE({instance:o,children:e}){y.useEffect(()=>{o.initializeWrapperLibrary(cw.React,Hf)},[o]);const t=y.useMemo(()=>o.getLogger().clone(wE,Hf),[o]),[r,s]=y.useReducer(EE,void 0,()=>({inProgress:Et.Startup,accounts:o.getAllAccounts()}));y.useEffect(()=>{const c=o.addEventCallback(u=>{s({payload:{instance:o,logger:t,message:u},type:Ns.EVENT})});return t.verbose(`MsalProvider - Registered event callback with id: ${c}`),o.initialize().then(()=>{o.handleRedirectPromise().catch(()=>{}).finally(()=>{s({payload:{instance:o,logger:t},type:Ns.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{c&&(t.verbose(`MsalProvider - Removing event callback ${c}`),o.removeEventCallback(c))}},[o,t]);const a={instance:o,inProgress:r.inProgress,accounts:r.accounts,logger:t};return y.createElement(Df.Provider,{value:a},e)}function nl(o){return Object.keys(o)}function AE(o){return o.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function rl(o){return`calc(${o} * var(--mantine-scale))`}function bE(o,{shouldScale:e=!1}={}){function t(r){if(r===0||r==="0")return`0${o}`;if(typeof r=="number"){const s=`${r/16}${o}`;return e?rl(s):s}if(typeof r=="string"){if(r.startsWith("calc(")||r.startsWith("var(")||r.startsWith("clamp("))return r;if(r.includes(" "))return r.split(" ").map(a=>t(a)).join(" ");if(r.includes(o))return e?rl(r):r;const s=r.replace("px","");if(!Number.isNaN(Number(s))){const a=`${Number(s)/16}${o}`;return e?rl(a):a}}return r}return t}const He=bE("rem",{shouldScale:!0});function ol(o){return Object.keys(o).reduce((e,t)=>(o[t]!==void 0&&(e[t]=o[t]),e),{})}function Ff(o){return typeof o=="number"?!0:typeof o=="string"?o.startsWith("calc(")||o.startsWith("var(")||o.includes(" ")&&o.trim()!==""?!0:/[0-9]/.test(o.trim().replace("-","")[0]):!1}function wi(o){return Array.isArray(o)||o===null?!1:typeof o=="object"?o.type!==y.Fragment:!1}function xo(o){const e=y.createContext(null);return[({children:s,value:a})=>y.createElement(e.Provider,{value:a},s),()=>{const s=y.useContext(e);if(s===null)throw new Error(o);return s}]}function SE(o=null){const e=y.createContext(o);return[({children:s,value:a})=>y.createElement(e.Provider,{value:a},s),()=>y.useContext(e)]}function Bf(o,e){return t=>{if(typeof t!="string"||t.trim().length===0)throw new Error(e);return`${o}-${t}`}}function il(o,e){let t=o;for(;(t=t.parentElement)&&!t.matches(e););return t}function _E(o,e,t){for(let r=o-1;r>=0;r-=1)if(!e[r].disabled)return r;if(t){for(let r=e.length-1;r>-1;r-=1)if(!e[r].disabled)return r}return o}function IE(o,e,t){for(let r=o+1;r<e.length;r+=1)if(!e[r].disabled)return r;if(t){for(let r=0;r<e.length;r+=1)if(!e[r].disabled)return r}return o}function RE(o,e,t){return il(o,t)===il(e,t)}function kE({parentSelector:o,siblingSelector:e,onKeyDown:t,loop:r=!0,activateOnFocus:s=!1,dir:a="rtl",orientation:c}){return u=>{var A;t==null||t(u);const d=Array.from(((A=il(u.currentTarget,o))==null?void 0:A.querySelectorAll(e))||[]).filter(b=>RE(u.currentTarget,b,o)),f=d.findIndex(b=>u.currentTarget===b),g=IE(f,d,r),p=_E(f,d,r),v=a==="rtl"?p:g,E=a==="rtl"?g:p;switch(u.key){case"ArrowRight":{c==="horizontal"&&(u.stopPropagation(),u.preventDefault(),d[v].focus(),s&&d[v].click());break}case"ArrowLeft":{c==="horizontal"&&(u.stopPropagation(),u.preventDefault(),d[E].focus(),s&&d[E].click());break}case"ArrowUp":{c==="vertical"&&(u.stopPropagation(),u.preventDefault(),d[p].focus(),s&&d[p].click());break}case"ArrowDown":{c==="vertical"&&(u.stopPropagation(),u.preventDefault(),d[g].focus(),s&&d[g].click());break}case"Home":{u.stopPropagation(),u.preventDefault(),!d[0].disabled&&d[0].focus();break}case"End":{u.stopPropagation(),u.preventDefault();const b=d.length-1;!d[b].disabled&&d[b].focus();break}}}}const PE={app:100,modal:200,popover:300,overlay:400,max:9999};function OE(o){return PE[o]}const NE=()=>{};function xE(o,e={active:!0}){return typeof o!="function"||!e.active?e.onKeyDown||NE:t=>{var r;t.key==="Escape"&&(o(t),(r=e.onTrigger)==null||r.call(e))}}function Rt(o,e="size",t=!0){if(o!==void 0)return Ff(o)?t?He(o):o:`var(--${e}-${o})`}function Kf(o){return Rt(o,"mantine-spacing")}function Mo(o){return o===void 0?"var(--mantine-radius-default)":Rt(o,"mantine-radius")}function un(o){return Rt(o,"mantine-font-size")}function ME(o){return Rt(o,"mantine-line-height",!1)}function LE(o){if(o)return Rt(o,"mantine-shadow",!1)}function $f(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function eo(o){const e=y.useRef(o);return y.useEffect(()=>{e.current=o}),y.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function xs(o,e){const t=eo(o),r=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),y.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}const Gf=["mousedown","touchstart"];function DE(o,e,t){const r=y.useRef();return y.useEffect(()=>{const s=a=>{const{target:c}=a??{};if(Array.isArray(t)){const u=(c==null?void 0:c.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(c)&&c.tagName!=="HTML";t.every(f=>!!f&&!a.composedPath().includes(f))&&!u&&o()}else r.current&&!r.current.contains(c)&&o()};return(e||Gf).forEach(a=>document.addEventListener(a,s)),()=>{(e||Gf).forEach(a=>document.removeEventListener(a,s))}},[r,o,t]),r}function UE(o,e){try{return o.addEventListener("change",e),()=>o.removeEventListener("change",e)}catch{return o.addListener(e),()=>o.removeListener(e)}}function HE(o,e){return typeof e=="boolean"?e:typeof window<"u"&&"matchMedia"in window?window.matchMedia(o).matches:!1}function FE(o,e,{getInitialValueInEffect:t}={getInitialValueInEffect:!0}){const[r,s]=y.useState(t?e:HE(o)),a=y.useRef();return y.useEffect(()=>{if("matchMedia"in window)return a.current=window.matchMedia(o),s(a.current.matches),UE(a.current,c=>s(c.matches))},[o]),r}function BE(o,e,t={leading:!1}){const[r,s]=y.useState(o),a=y.useRef(!1),c=y.useRef(null),u=y.useRef(!1),d=()=>window.clearTimeout(c.current);return y.useEffect(()=>{a.current&&(!u.current&&t.leading?(u.current=!0,s(o)):(d(),c.current=window.setTimeout(()=>{u.current=!1,s(o)},e)))},[o,t.leading,e]),y.useEffect(()=>(a.current=!0,d),[]),[r,d]}const sl=typeof document<"u"?y.useLayoutEffect:y.useEffect;function to(o,e){const t=y.useRef(!1);y.useEffect(()=>()=>{t.current=!1},[]),y.useEffect(()=>{if(t.current)return o();t.current=!0},e)}function KE({opened:o,shouldReturnFocus:e=!0}){const t=y.useRef(),r=()=>{var s;t.current&&"focus"in t.current&&typeof t.current.focus=="function"&&((s=t.current)==null||s.focus({preventScroll:!0}))};return to(()=>{let s=-1;const a=c=>{c.key==="Tab"&&window.clearTimeout(s)};return document.addEventListener("keydown",a),o?t.current=document.activeElement:e&&(s=window.setTimeout(r,10)),()=>{window.clearTimeout(s),document.removeEventListener("keydown",a)}},[o,e]),r}function $E(o,e="body > :not(script)"){const t=$f(),r=Array.from(document.querySelectorAll(e)).map(s=>{var d;if((d=s==null?void 0:s.shadowRoot)!=null&&d.contains(o)||s.contains(o))return;const a=s.getAttribute("aria-hidden"),c=s.getAttribute("data-hidden"),u=s.getAttribute("data-focus-id");return s.setAttribute("data-focus-id",t),a===null||a==="false"?s.setAttribute("aria-hidden","true"):!c&&!u&&s.setAttribute("data-hidden",a),{node:s,ariaHidden:c||null}});return()=>{r.forEach(s=>{!s||t!==s.node.getAttribute("data-focus-id")||(s.ariaHidden===null?s.node.removeAttribute("aria-hidden"):s.node.setAttribute("aria-hidden",s.ariaHidden),s.node.removeAttribute("data-focus-id"),s.node.removeAttribute("data-hidden"))})}}const GE=/input|select|textarea|button|object/,zf="a, input, select, textarea, button, object, [tabindex]";function zE(o){return process.env.NODE_ENV==="test"?!1:o.style.display==="none"}function qE(o){if(o.getAttribute("aria-hidden")||o.getAttribute("hidden")||o.getAttribute("type")==="hidden")return!1;let t=o;for(;t&&!(t===document.body||t.nodeType===11);){if(zE(t))return!1;t=t.parentNode}return!0}function qf(o){let e=o.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function al(o){const e=o.nodeName.toLowerCase(),t=!Number.isNaN(qf(o));return(GE.test(e)&&!o.disabled||o instanceof HTMLAnchorElement&&o.href||t)&&qE(o)}function Wf(o){const e=qf(o);return(Number.isNaN(e)||e>=0)&&al(o)}function WE(o){return Array.from(o.querySelectorAll(zf)).filter(Wf)}function VE(o,e){const t=WE(o);if(!t.length){e.preventDefault();return}const r=t[e.shiftKey?0:t.length-1],s=o.getRootNode();let a=r===s.activeElement||o===s.activeElement;const c=s.activeElement;if(c.tagName==="INPUT"&&c.getAttribute("type")==="radio"&&(a=t.filter(g=>g.getAttribute("type")==="radio"&&g.getAttribute("name")===c.getAttribute("name")).includes(r)),!a)return;e.preventDefault();const d=t[e.shiftKey?t.length-1:0];d&&d.focus()}function YE(o=!0){const e=y.useRef(),t=y.useRef(null),r=a=>{let c=a.querySelector("[data-autofocus]");if(!c){const u=Array.from(a.querySelectorAll(zf));c=u.find(Wf)||u.find(al)||null,!c&&al(a)&&(c=a)}c?c.focus({preventScroll:!0}):process.env.NODE_ENV==="development"&&console.warn("[@mantine/hooks/use-focus-trap] Failed to find focusable element within provided node",a)},s=y.useCallback(a=>{if(o){if(a===null){t.current&&(t.current(),t.current=null);return}t.current=$E(a),e.current!==a&&(a?(setTimeout(()=>{a.getRootNode()?r(a):process.env.NODE_ENV==="development"&&console.warn("[@mantine/hooks/use-focus-trap] Ref node is not part of the dom",a)}),e.current=a):e.current=null)}},[o]);return y.useEffect(()=>{if(!o)return;e.current&&setTimeout(()=>r(e.current));const a=c=>{c.key==="Tab"&&e.current&&VE(e.current,c)};return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a),t.current&&t.current()}},[o]),s}const jE=y.useId||(()=>{});function QE(){const o=jE();return o?`mantine-${o.replace(/:/g,"")}`:""}function no(o){const e=QE(),[t,r]=y.useState(e);return sl(()=>{r($f())},[]),typeof o=="string"?o:typeof window>"u"?e:t}function Vf(o,e){typeof o=="function"?o(e):typeof o=="object"&&o!==null&&"current"in o&&(o.current=e)}function Yf(...o){return e=>{o.forEach(t=>Vf(t,e))}}function Tn(...o){return y.useCallback(Yf(...o),o)}function ro({value:o,defaultValue:e,finalValue:t,onChange:r=()=>{}}){const[s,a]=y.useState(e!==void 0?e:t),c=(u,...d)=>{a(u),r==null||r(u,...d)};return o!==void 0?[o,r,!0]:[s,c,!1]}function jf(o,e){return FE("(prefers-reduced-motion: reduce)",o,e)}function L0(o){return o}function Qf(o){var e,t,r="";if(typeof o=="string"||typeof o=="number")r+=o;else if(typeof o=="object")if(Array.isArray(o)){var s=o.length;for(e=0;e<s;e++)o[e]&&(t=Qf(o[e]))&&(r&&(r+=" "),r+=t)}else for(t in o)o[t]&&(r&&(r+=" "),r+=t);return r}function gr(){for(var o,e,t=0,r="",s=arguments.length;t<s;t++)(o=arguments[t])&&(e=Qf(o))&&(r&&(r+=" "),r+=e);return r}const JE={};function XE(o){const e={};return o.forEach(t=>{Object.entries(t).forEach(([r,s])=>{e[r]?e[r]=gr(e[r],s):e[r]=s})}),e}function Ms({theme:o,classNames:e,props:t,stylesCtx:r}){const a=(Array.isArray(e)?e:[e]).map(c=>typeof c=="function"?c(o,t,r):c||JE);return XE(a)}function Ls({theme:o,styles:e,props:t,stylesCtx:r}){return(Array.isArray(e)?e:[e]).reduce((a,c)=>typeof c=="function"?{...a,...c(o,t,r)}:{...a,...c},{})}const ZE=y.createContext(null);function Ds(){const o=y.useContext(ZE);if(!o)throw new Error("[@mantine/core] MantineProvider was not found in tree");return o}function eT(){return Ds().classNamesPrefix}function tT(){return Ds().getStyleNonce}function nT(){return Ds().withStaticClasses}function rT(){return Ds().headless}function oT(o){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(o)}function iT(o){let e=o.replace("#","");if(e.length===3){const c=e.split("");e=[c[0],c[0],c[1],c[1],c[2],c[2]].join("")}if(e.length===8){const c=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:c}}const t=parseInt(e,16),r=t>>16&255,s=t>>8&255,a=t&255;return{r,g:s,b:a,a:1}}function sT(o){const[e,t,r,s]=o.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:t,b:r,a:s||1}}function aT(o){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,t=o.match(e);if(!t)return{r:0,g:0,b:0,a:1};const r=parseInt(t[1],10),s=parseInt(t[2],10)/100,a=parseInt(t[3],10)/100,c=t[5]?parseFloat(t[5]):void 0,u=(1-Math.abs(2*a-1))*s,d=r/60,f=u*(1-Math.abs(d%2-1)),g=a-u/2;let p,v,E;return d>=0&&d<1?(p=u,v=f,E=0):d>=1&&d<2?(p=f,v=u,E=0):d>=2&&d<3?(p=0,v=u,E=f):d>=3&&d<4?(p=0,v=f,E=u):d>=4&&d<5?(p=f,v=0,E=u):(p=u,v=0,E=f),{r:Math.round((p+g)*255),g:Math.round((v+g)*255),b:Math.round((E+g)*255),a:c||1}}function cT(o){return oT(o)?iT(o):o.startsWith("rgb")?sT(o):o.startsWith("hsl")?aT(o):{r:0,g:0,b:0,a:1}}function lT(o,e){return typeof o.primaryShade=="number"?o.primaryShade:e==="dark"?o.primaryShade.dark:o.primaryShade.light}function cl(o){return o<=.03928?o/12.92:((o+.055)/1.055)**2.4}function uT(o){const e=o.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function dT(o){if(o.startsWith("oklch("))return(uT(o)||0)/100;const{r:e,g:t,b:r}=cT(o),s=e/255,a=t/255,c=r/255,u=cl(s),d=cl(a),f=cl(c);return .2126*u+.7152*d+.0722*f}function Ei(o,e=.179){return o.startsWith("var(")?!1:dT(o)>e}function Ti({color:o,theme:e,colorScheme:t}){if(typeof o!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof o}`);if(o==="bright")return{color:o,value:t==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Ei(t==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(o==="dimmed")return{color:o,value:t==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Ei(t==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(o==="white"||o==="black")return{color:o,value:o==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Ei(o==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${o}`};const[r,s]=o.split("."),a=s?Number(s):void 0,c=r in e.colors;if(c){const u=a!==void 0?e.colors[r][a]:e.colors[r][lT(e,t||"light")];return{color:r,value:u,shade:a,isThemeColor:c,isLight:Ei(u,e.luminanceThreshold),variable:s?`--mantine-color-${r}-${a}`:`--mantine-color-${r}-filled`}}return{color:o,value:o,isThemeColor:c,isLight:Ei(o,e.luminanceThreshold),shade:a,variable:void 0}}function Lo(o,e){const t=Ti({color:o||e.primaryColor,theme:e});return t.variable?`var(${t.variable})`:o}function hT(o,e){const t={from:(o==null?void 0:o.from)||e.defaultGradient.from,to:(o==null?void 0:o.to)||e.defaultGradient.to,deg:(o==null?void 0:o.deg)||e.defaultGradient.deg||0},r=Lo(t.from,e),s=Lo(t.to,e);return`linear-gradient(${t.deg}deg, ${r} 0%, ${s} 100%)`}const fT=y.createContext(null);function Do(){const o=y.useContext(fT);if(!o)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return o}function gT({color:o,theme:e,autoContrast:t}){return(typeof t=="boolean"?t:e.autoContrast)&&Ti({color:o||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Jf({classNames:o,styles:e,props:t,stylesCtx:r}){const s=Do();return{resolvedClassNames:Ms({theme:s,classNames:o,props:t,stylesCtx:r||void 0}),resolvedStyles:Ls({theme:s,styles:e,props:t,stylesCtx:r||void 0})}}const pT={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function mT({theme:o,options:e,unstyled:t}){return gr((e==null?void 0:e.focusable)&&!t&&(o.focusClassName||pT[o.focusRing]),(e==null?void 0:e.active)&&!t&&o.activeClassName)}function yT({selector:o,stylesCtx:e,options:t,props:r,theme:s}){return Ms({theme:s,classNames:t==null?void 0:t.classNames,props:(t==null?void 0:t.props)||r,stylesCtx:e})[o]}function CT({selector:o,stylesCtx:e,theme:t,classNames:r,props:s}){return Ms({theme:t,classNames:r,props:s,stylesCtx:e})[o]}function vT({rootSelector:o,selector:e,className:t}){return o===e?t:void 0}function wT({selector:o,classes:e,unstyled:t}){return t?void 0:e[o]}function ET({themeName:o,classNamesPrefix:e,selector:t,withStaticClass:r}){return r===!1?[]:o.map(s=>`${e}-${s}-${t}`)}function TT({themeName:o,theme:e,selector:t,props:r,stylesCtx:s}){return o.map(a=>{var c,u;return(u=Ms({theme:e,classNames:(c=e.components[a])==null?void 0:c.classNames,props:r,stylesCtx:s}))==null?void 0:u[t]})}function AT({options:o,classes:e,selector:t,unstyled:r}){return o!=null&&o.variant&&!r?e[`${t}--${o.variant}`]:void 0}function bT({theme:o,options:e,themeName:t,selector:r,classNamesPrefix:s,classNames:a,classes:c,unstyled:u,className:d,rootSelector:f,props:g,stylesCtx:p,withStaticClasses:v,headless:E}){return gr(mT({theme:o,options:e,unstyled:u||E}),TT({theme:o,themeName:t,selector:r,props:g,stylesCtx:p}),AT({options:e,classes:c,selector:r,unstyled:u}),CT({selector:r,stylesCtx:p,theme:o,classNames:a,props:g}),yT({selector:r,stylesCtx:p,options:e,props:g,theme:o}),vT({rootSelector:f,selector:r,className:d}),wT({selector:r,classes:c,unstyled:u||E}),v&&!E&&ET({themeName:t,classNamesPrefix:s,selector:r,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function ST({theme:o,themeName:e,props:t,stylesCtx:r,selector:s}){return e.map(a=>{var c;return Ls({theme:o,styles:(c=o.components[a])==null?void 0:c.styles,props:t,stylesCtx:r})[s]}).reduce((a,c)=>({...a,...c}),{})}function ll({style:o,theme:e}){return Array.isArray(o)?[...o].reduce((t,r)=>({...t,...ll({style:r,theme:e})}),{}):typeof o=="function"?o(e):o??{}}function _T(o){return o.reduce((e,t)=>(t&&Object.keys(t).forEach(r=>{e[r]={...e[r],...ol(t[r])}}),e),{})}function IT({vars:o,varsResolver:e,theme:t,props:r,stylesCtx:s,selector:a,themeName:c,headless:u}){var d;return(d=_T([u?{}:e==null?void 0:e(t,r,s),...c.map(f=>{var g,p,v;return(v=(p=(g=t.components)==null?void 0:g[f])==null?void 0:p.vars)==null?void 0:v.call(p,t,r,s)}),o==null?void 0:o(t,r,s)]))==null?void 0:d[a]}function RT({theme:o,themeName:e,selector:t,options:r,props:s,stylesCtx:a,rootSelector:c,styles:u,style:d,vars:f,varsResolver:g,headless:p}){return{...ST({theme:o,themeName:e,props:s,stylesCtx:a,selector:t}),...Ls({theme:o,styles:u,props:s,stylesCtx:a})[t],...Ls({theme:o,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||s,stylesCtx:a})[t],...IT({theme:o,props:s,stylesCtx:a,vars:f,varsResolver:g,selector:t,themeName:e,headless:p}),...c===t?ll({style:d,theme:o}):null,...ll({style:r==null?void 0:r.style,theme:o})}}function rt({name:o,classes:e,props:t,stylesCtx:r,className:s,style:a,rootSelector:c="root",unstyled:u,classNames:d,styles:f,vars:g,varsResolver:p}){const v=Do(),E=eT(),A=nT(),b=rT(),_=(Array.isArray(o)?o:[o]).filter(N=>N);return(N,R)=>({className:bT({theme:v,options:R,themeName:_,selector:N,classNamesPrefix:E,classNames:d,classes:e,unstyled:u,className:s,rootSelector:c,props:t,stylesCtx:r,withStaticClasses:A,headless:b}),style:RT({theme:v,themeName:_,selector:N,options:R,props:t,stylesCtx:r,rootSelector:c,styles:f,style:a,vars:g,varsResolver:p,headless:b})})}function kT(o,e){return typeof o=="boolean"?o:e.autoContrast}function le(o,e,t){var c;const r=Do(),s=(c=r.components[o])==null?void 0:c.defaultProps,a=typeof s=="function"?s(r):s;return{...e,...a,...ol(t)}}function Xf(o){return nl(o).reduce((e,t)=>o[t]!==void 0?`${e}${AE(t)}:${o[t]};`:e,"").trim()}function PT({selector:o,styles:e,media:t}){const r=e?Xf(e):"",s=Array.isArray(t)?t.map(a=>`@media${a.query}{${o}{${Xf(a.styles)}}}`):[];return`${r?`${o}{${r}}`:""}${s.join("")}`.trim()}function OT({selector:o,styles:e,media:t}){const r=tT();return y.createElement("style",{"data-mantine-styles":"inline",nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:PT({selector:o,styles:e,media:t})}})}function Us(o){const{m:e,mx:t,my:r,mt:s,mb:a,ml:c,mr:u,me:d,ms:f,p:g,px:p,py:v,pt:E,pb:A,pl:b,pr:_,pe:N,ps:R,bg:P,c:x,opacity:L,ff:H,fz:W,fw:B,lts:Q,ta:re,lh:pe,fs:se,tt:de,td:ne,w:me,miw:Z,maw:J,h:ae,mih:ce,mah:Ne,bgsz:xe,bgp:ht,bgr:Ze,bga:qn,pos:Ht,top:Ft,left:Zt,bottom:bt,right:kt,inset:en,display:In,flex:zt,hiddenFrom:qt,visibleFrom:De,lightHidden:tt,darkHidden:hn,...je}=o;return{styleProps:ol({m:e,mx:t,my:r,mt:s,mb:a,ml:c,mr:u,me:d,ms:f,p:g,px:p,py:v,pt:E,pb:A,pl:b,pr:_,pe:N,ps:R,bg:P,c:x,opacity:L,ff:H,fz:W,fw:B,lts:Q,ta:re,lh:pe,fs:se,tt:de,td:ne,w:me,miw:Z,maw:J,h:ae,mih:ce,mah:Ne,bgsz:xe,bgp:ht,bgr:Ze,bga:qn,pos:Ht,top:Ft,left:Zt,bottom:bt,right:kt,inset:en,display:In,flex:zt,hiddenFrom:qt,visibleFrom:De,lightHidden:tt,darkHidden:hn}),rest:je}}const NT={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function Zf(o,e){const t=Ti({color:o,theme:e});return t.color==="dimmed"?"var(--mantine-color-dimmed)":t.color==="bright"?"var(--mantine-color-bright)":t.variable?`var(${t.variable})`:t.color}function xT(o,e){const t=Ti({color:o,theme:e});return t.isThemeColor&&t.shade===void 0?`var(--mantine-color-${t.color}-text)`:Zf(o,e)}const eg={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)"};function MT(o){return typeof o=="string"&&o in eg?eg[o]:o}function LT(o,e){return typeof o=="string"&&o in e.fontSizes?`var(--mantine-font-size-${o})`:typeof o=="number"||typeof o=="string"?He(o):o}function DT(o){return o}function UT(o,e){return typeof o=="string"&&o in e.lineHeights?`var(--mantine-line-height-${o})`:o}function HT(o){return typeof o=="number"?He(o):o}function FT(o,e){if(typeof o=="number")return He(o);if(typeof o=="string"){const t=o.replace("-","");if(!(t in e.spacing))return He(o);const r=`--mantine-spacing-${t}`;return o.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return o}const ul={color:Zf,textColor:xT,fontSize:LT,spacing:FT,identity:DT,size:HT,lineHeight:UT,fontFamily:MT};function tg(o){return o.replace("(min-width: ","").replace("em)","")}function BT({media:o,...e}){const r=Object.keys(o).sort((s,a)=>Number(tg(s))-Number(tg(a))).map(s=>({query:s,styles:o[s]}));return{...e,media:r}}function KT(o){if(typeof o!="object"||o===null)return!1;const e=Object.keys(o);return!(e.length===1&&e[0]==="base")}function $T(o){return typeof o=="object"&&o!==null?"base"in o?o.base:void 0:o}function GT(o){return typeof o=="object"&&o!==null?nl(o).filter(e=>e!=="base"):[]}function zT(o,e){return typeof o=="object"&&o!==null&&e in o?o[e]:o}function qT({styleProps:o,data:e,theme:t}){return BT(nl(o).reduce((r,s)=>{if(s==="hiddenFrom"||s==="visibleFrom")return r;const a=e[s],c=Array.isArray(a.property)?a.property:[a.property],u=$T(o[s]);if(!KT(o[s]))return c.forEach(f=>{r.inlineStyles[f]=ul[a.type](u,t)}),r;r.hasResponsiveStyles=!0;const d=GT(o[s]);return c.forEach(f=>{u&&(r.styles[f]=ul[a.type](u,t)),d.forEach(g=>{const p=`(min-width: ${t.breakpoints[g]})`;r.media[p]={...r.media[p],[f]:ul[a.type](zT(o[s],g),t)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function WT(){return`__m__-${y.useId().replace(/:/g,"")}`}function ng(o,e){return Array.isArray(o)?[...o].reduce((t,r)=>({...t,...ng(r,e)}),{}):typeof o=="function"?o(e):o??{}}function D0(o){return o}function rg(o){return o.startsWith("data-")?o:`data-${o}`}function VT(o){return Object.keys(o).reduce((e,t)=>{const r=o[t];return r===void 0||r===""||r===!1||r===null||(e[rg(t)]=o[t]),e},{})}function og(o){return o?typeof o=="string"?{[rg(o)]:!0}:Array.isArray(o)?[...o].reduce((e,t)=>({...e,...og(t)}),{}):VT(o):null}function dl(o,e){return Array.isArray(o)?[...o].reduce((t,r)=>({...t,...dl(r,e)}),{}):typeof o=="function"?o(e):o??{}}function YT({theme:o,style:e,vars:t,styleProps:r}){const s=dl(e,o),a=dl(t,o);return{...s,...a,...r}}const ig=y.forwardRef(({component:o,style:e,__vars:t,className:r,variant:s,mod:a,size:c,hiddenFrom:u,visibleFrom:d,lightHidden:f,darkHidden:g,renderRoot:p,...v},E)=>{const A=Do(),b=o||"div",{styleProps:_,rest:N}=Us(v),R=WT(),P=qT({styleProps:_,theme:A,data:NT}),x={ref:E,style:YT({theme:A,style:e,vars:t,styleProps:P.inlineStyles}),className:gr(r,{[R]:P.hasResponsiveStyles,"mantine-light-hidden":f,"mantine-dark-hidden":g,[`mantine-hidden-from-${u}`]:u,[`mantine-visible-from-${d}`]:d}),"data-variant":s,"data-size":Ff(c)?void 0:c||void 0,...og(a),...N};return y.createElement(y.Fragment,null,P.hasResponsiveStyles&&y.createElement(OT,{selector:`.${R}`,styles:P.styles,media:P.media}),typeof p=="function"?p(x):y.createElement(b,{...x}))});ig.displayName="@mantine/core/Box";const Ce=ig;function sg(o){return o}function ke(o){const e=y.forwardRef(o);return e.extend=sg,e}function Uo(o){const e=y.forwardRef(o);return e.extend=sg,e}const jT=y.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function hl(){return y.useContext(jT)}function QT(o){if(!o||typeof o=="string")return 0;const e=o/36;return Math.round((4+15*e**.25+e/5)*10)}function fl(o){return o!=null&&o.current?o.current.scrollHeight:"auto"}const Ai=typeof window<"u"&&window.requestAnimationFrame;function JT({transitionDuration:o,transitionTimingFunction:e="ease",onTransitionEnd:t=()=>{},opened:r}){const s=y.useRef(null),a=0,c={display:"none",height:0,overflow:"hidden"},[u,d]=y.useState(r?{}:c),f=A=>{Xn.flushSync(()=>d(A))},g=A=>{f(b=>({...b,...A}))};function p(A){const b=o||QT(A);return{transition:`height ${b}ms ${e}, opacity ${b}ms ${e}`}}to(()=>{typeof Ai=="function"&&Ai(r?()=>{g({willChange:"height",display:"block",overflow:"hidden"}),Ai(()=>{const A=fl(s);g({...p(A),height:A})})}:()=>{const A=fl(s);g({...p(A),willChange:"height",height:A}),Ai(()=>g({height:a,overflow:"hidden"}))})},[r]);const v=A=>{if(!(A.target!==s.current||A.propertyName!=="height"))if(r){const b=fl(s);b===u.height?f({}):g({height:b}),t()}else u.height===a&&(f(c),t())};function E({style:A={},refKey:b="ref",..._}={}){const N=_[b];return{"aria-hidden":!r,..._,[b]:Yf(s,N),onTransitionEnd:v,style:{boxSizing:"border-box",...A,...u}}}return E}const XT={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},ag=ke((o,e)=>{const{children:t,in:r,transitionDuration:s,transitionTimingFunction:a,style:c,onTransitionEnd:u,animateOpacity:d,...f}=le("Collapse",XT,o),g=Do(),p=jf(),E=(g.respectReducedMotion?p:!1)?0:s,A=JT({opened:r,transitionDuration:E,transitionTimingFunction:a,onTransitionEnd:u});return E===0?r?y.createElement(Ce,{...f},t):null:y.createElement(Ce,{...A({style:{opacity:r||!d?1:0,transition:d?`opacity ${E}ms ${a}`:"none",...ng(c,g)},ref:e,...f})},t)});ag.displayName="@mantine/core/Collapse";const[ZT,An]=xo("ScrollArea.Root component was not found in tree");function Ho(o,e){const t=eo(e);sl(()=>{let r=0;if(o){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(o),()=>{window.cancelAnimationFrame(r),s.unobserve(o)}}},[o,t])}const eA=y.forwardRef((o,e)=>{const{style:t,...r}=o,s=An(),[a,c]=y.useState(0),[u,d]=y.useState(0),f=!!(a&&u);return Ho(s.scrollbarX,()=>{var p;const g=((p=s.scrollbarX)==null?void 0:p.offsetHeight)||0;s.onCornerHeightChange(g),d(g)}),Ho(s.scrollbarY,()=>{var p;const g=((p=s.scrollbarY)==null?void 0:p.offsetWidth)||0;s.onCornerWidthChange(g),c(g)}),f?y.createElement("div",{...r,ref:e,style:{...t,width:a,height:u}}):null}),tA=y.forwardRef((o,e)=>{const t=An(),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?y.createElement(eA,{...o,ref:e}):null}),nA={scrollHideDelay:1e3,type:"hover"},cg=y.forwardRef((o,e)=>{const t=le("ScrollAreaRoot",nA,o),{type:r,scrollHideDelay:s,scrollbars:a,...c}=t,[u,d]=y.useState(null),[f,g]=y.useState(null),[p,v]=y.useState(null),[E,A]=y.useState(null),[b,_]=y.useState(null),[N,R]=y.useState(0),[P,x]=y.useState(0),[L,H]=y.useState(!1),[W,B]=y.useState(!1),Q=Tn(e,re=>d(re));return y.createElement(ZT,{value:{type:r,scrollHideDelay:s,scrollArea:u,viewport:f,onViewportChange:g,content:p,onContentChange:v,scrollbarX:E,onScrollbarXChange:A,scrollbarXEnabled:L,onScrollbarXEnabledChange:H,scrollbarY:b,onScrollbarYChange:_,scrollbarYEnabled:W,onScrollbarYEnabledChange:B,onCornerWidthChange:R,onCornerHeightChange:x}},y.createElement(Ce,{...c,ref:Q,__vars:{"--sa-corner-width":a!=="xy"?"0px":`${N}px`,"--sa-corner-height":a!=="xy"?"0px":`${P}px`}}))});cg.displayName="@mantine/core/ScrollAreaRoot";function lg(o,e){const t=o/e;return Number.isNaN(t)?0:t}function Hs(o){const e=lg(o.viewport,o.content),t=o.scrollbar.paddingStart+o.scrollbar.paddingEnd,r=(o.scrollbar.size-t)*e;return Math.max(r,18)}function ug(o,e){return t=>{if(o[0]===o[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(o[1]-o[0]);return e[0]+r*(t-o[0])}}function rA(o,[e,t]){return Math.min(t,Math.max(e,o))}function dg(o,e,t="ltr"){const r=Hs(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,c=e.content-e.viewport,u=a-r,d=t==="ltr"?[0,c]:[c*-1,0],f=rA(o,d);return ug([0,c],[0,u])(f)}function oA(o,e,t,r="ltr"){const s=Hs(t),a=s/2,c=e||a,u=s-c,d=t.scrollbar.paddingStart+c,f=t.scrollbar.size-t.scrollbar.paddingEnd-u,g=t.content-t.viewport,p=r==="ltr"?[0,g]:[g*-1,0];return ug([d,f],p)(o)}function hg(o,e){return o>0&&o<e}function Fs(o){return o?parseInt(o,10):0}function oo(o,e,{checkForDefaultPrevented:t=!0}={}){return r=>{o==null||o(r),(t===!1||!r.defaultPrevented)&&(e==null||e(r))}}const[iA,fg]=xo("ScrollAreaScrollbar was not found in tree"),gg=y.forwardRef((o,e)=>{const{sizes:t,hasThumb:r,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:f,onResize:g,...p}=o,v=An(),[E,A]=y.useState(null),b=Tn(e,B=>A(B)),_=y.useRef(null),N=y.useRef(""),{viewport:R}=v,P=t.content-t.viewport,x=eo(f),L=eo(u),H=xs(g,10),W=B=>{if(_.current){const Q=B.clientX-_.current.left,re=B.clientY-_.current.top;d({x:Q,y:re})}};return y.useEffect(()=>{const B=Q=>{const re=Q.target;(E==null?void 0:E.contains(re))&&x(Q,P)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[R,E,P,x]),y.useEffect(L,[t,L]),Ho(E,H),Ho(v.content,H),y.createElement(iA,{value:{scrollbar:E,hasThumb:r,onThumbChange:eo(s),onThumbPointerUp:eo(a),onThumbPositionChange:L,onThumbPointerDown:eo(c)}},y.createElement("div",{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:oo(o.onPointerDown,B=>{B.button===0&&(B.target.setPointerCapture(B.pointerId),_.current=E.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",W(B))}),onPointerMove:oo(o.onPointerMove,W),onPointerUp:oo(o.onPointerUp,B=>{const Q=B.target;Q.hasPointerCapture(B.pointerId)&&Q.releasePointerCapture(B.pointerId),document.body.style.webkitUserSelect=N.current,_.current=null})}))}),sA=y.forwardRef((o,e)=>{const{sizes:t,onSizesChange:r,style:s,...a}=o,c=An(),[u,d]=y.useState(),f=y.useRef(null),g=Tn(e,f,c.onScrollbarXChange);return y.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),y.createElement(gg,{"data-orientation":"horizontal",...a,ref:g,sizes:t,style:{...s,"--sa-thumb-width":`${Hs(t)}px`},onThumbPointerDown:p=>o.onThumbPointerDown(p.x),onDragScroll:p=>o.onDragScroll(p.x),onWheelScroll:(p,v)=>{if(c.viewport){const E=c.viewport.scrollLeft+p.deltaX;o.onWheelScroll(E),hg(E,v)&&p.preventDefault()}},onResize:()=>{f.current&&c.viewport&&u&&r({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:Fs(u.paddingLeft),paddingEnd:Fs(u.paddingRight)}})}})}),aA=y.forwardRef((o,e)=>{const{sizes:t,onSizesChange:r,style:s,...a}=o,c=An(),[u,d]=y.useState(),f=y.useRef(null),g=Tn(e,f,c.onScrollbarYChange);return y.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),y.createElement(gg,{...a,"data-orientation":"vertical",ref:g,sizes:t,style:{"--sa-thumb-height":`${Hs(t)}px`,...s},onThumbPointerDown:p=>o.onThumbPointerDown(p.y),onDragScroll:p=>o.onDragScroll(p.y),onWheelScroll:(p,v)=>{if(c.viewport){const E=c.viewport.scrollTop+p.deltaY;o.onWheelScroll(E),hg(E,v)&&p.preventDefault()}},onResize:()=>{f.current&&c.viewport&&u&&r({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:Fs(u.paddingTop),paddingEnd:Fs(u.paddingBottom)}})}})}),gl=y.forwardRef((o,e)=>{const{orientation:t="vertical",...r}=o,{dir:s}=hl(),a=An(),c=y.useRef(null),u=y.useRef(0),[d,f]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),g=lg(d.viewport,d.content),p={...r,sizes:d,onSizesChange:f,hasThumb:g>0&&g<1,onThumbChange:E=>{c.current=E},onThumbPointerUp:()=>{u.current=0},onThumbPointerDown:E=>{u.current=E}},v=(E,A)=>oA(E,u.current,d,A);return t==="horizontal"?y.createElement(sA,{...p,ref:e,onThumbPositionChange:()=>{if(a.viewport&&c.current){const E=a.viewport.scrollLeft,A=dg(E,d,s);c.current.style.transform=`translate3d(${A}px, 0, 0)`}},onWheelScroll:E=>{a.viewport&&(a.viewport.scrollLeft=E)},onDragScroll:E=>{a.viewport&&(a.viewport.scrollLeft=v(E,s))}}):t==="vertical"?y.createElement(aA,{...p,ref:e,onThumbPositionChange:()=>{if(a.viewport&&c.current){const E=a.viewport.scrollTop,A=dg(E,d);c.current.style.transform=`translate3d(0, ${A}px, 0)`}},onWheelScroll:E=>{a.viewport&&(a.viewport.scrollTop=E)},onDragScroll:E=>{a.viewport&&(a.viewport.scrollTop=v(E))}}):null}),pg=y.forwardRef((o,e)=>{const t=An(),{forceMount:r,...s}=o,[a,c]=y.useState(!1),u=o.orientation==="horizontal",d=xs(()=>{if(t.viewport){const f=t.viewport.offsetWidth<t.viewport.scrollWidth,g=t.viewport.offsetHeight<t.viewport.scrollHeight;c(u?f:g)}},10);return Ho(t.viewport,d),Ho(t.content,d),r||a?y.createElement(gl,{"data-state":a?"visible":"hidden",...s,ref:e}):null}),cA=y.forwardRef((o,e)=>{const{forceMount:t,...r}=o,s=An(),[a,c]=y.useState(!1);return y.useEffect(()=>{const{scrollArea:u}=s;let d=0;if(u){const f=()=>{window.clearTimeout(d),c(!0)},g=()=>{d=window.setTimeout(()=>c(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",g),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",g)}}},[s.scrollArea,s.scrollHideDelay]),t||a?y.createElement(pg,{"data-state":a?"visible":"hidden",...r,ref:e}):null}),lA=y.forwardRef((o,e)=>{const{forceMount:t,...r}=o,s=An(),a=o.orientation==="horizontal",[c,u]=y.useState("hidden"),d=xs(()=>u("idle"),100);return y.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>u("hidden"),s.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,s.scrollHideDelay]),y.useEffect(()=>{const{viewport:f}=s,g=a?"scrollLeft":"scrollTop";if(f){let p=f[g];const v=()=>{const E=f[g];p!==E&&(u("scrolling"),d()),p=E};return f.addEventListener("scroll",v),()=>f.removeEventListener("scroll",v)}},[s.viewport,a,d]),t||c!=="hidden"?y.createElement(gl,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:oo(o.onPointerEnter,()=>u("interacting")),onPointerLeave:oo(o.onPointerLeave,()=>u("idle"))}):null}),mg=y.forwardRef((o,e)=>{const{forceMount:t,...r}=o,s=An(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:c}=s,u=o.orientation==="horizontal";return y.useEffect(()=>(u?a(!0):c(!0),()=>{u?a(!1):c(!1)}),[u,a,c]),s.type==="hover"?y.createElement(cA,{...r,ref:e,forceMount:t}):s.type==="scroll"?y.createElement(lA,{...r,ref:e,forceMount:t}):s.type==="auto"?y.createElement(pg,{...r,ref:e,forceMount:t}):s.type==="always"?y.createElement(gl,{...r,ref:e}):null});function uA(o,e=()=>{}){let t={left:o.scrollLeft,top:o.scrollTop},r=0;return function s(){const a={left:o.scrollLeft,top:o.scrollTop},c=t.left!==a.left,u=t.top!==a.top;(c||u)&&e(),t=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)}const dA=y.forwardRef((o,e)=>{const{style:t,...r}=o,s=An(),a=fg(),{onThumbPositionChange:c}=a,u=Tn(e,g=>a.onThumbChange(g)),d=y.useRef(),f=xs(()=>{d.current&&(d.current(),d.current=void 0)},100);return y.useEffect(()=>{const{viewport:g}=s;if(g){const p=()=>{if(f(),!d.current){const v=uA(g,c);d.current=v,c()}};return c(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[s.viewport,f,c]),y.createElement("div",{"data-state":a.hasThumb?"visible":"hidden",...r,ref:u,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...t},onPointerDownCapture:oo(o.onPointerDownCapture,g=>{const v=g.target.getBoundingClientRect(),E=g.clientX-v.left,A=g.clientY-v.top;a.onThumbPointerDown({x:E,y:A})}),onPointerUp:oo(o.onPointerUp,a.onThumbPointerUp)})}),yg=y.forwardRef((o,e)=>{const{forceMount:t,...r}=o,s=fg();return t||s.hasThumb?y.createElement(dA,{ref:e,...r}):null}),Cg=y.forwardRef(({children:o,style:e,...t},r)=>{const s=An(),a=Tn(r,s.onViewportChange);return y.createElement(Ce,{...t,ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e}},y.createElement("div",{style:{minWidth:"100%",display:"table"},ref:s.onContentChange},o))});Cg.displayName="@mantine/core/ScrollAreaViewport";var pl={root:"m-d57069b5",viewport:"m-c0783ff9",viewportInner:"m-f8f631dd",scrollbar:"m-c44ba933",thumb:"m-d8b5e363",corner:"m-21657268"};const vg={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},hA=(o,{scrollbarSize:e})=>({root:{"--scrollarea-scrollbar-size":He(e)}}),bi=ke((o,e)=>{const t=le("ScrollArea",vg,o),{classNames:r,className:s,style:a,styles:c,unstyled:u,scrollbarSize:d,vars:f,type:g,scrollHideDelay:p,viewportProps:v,viewportRef:E,onScrollPositionChange:A,children:b,offsetScrollbars:_,scrollbars:N,...R}=t,[P,x]=y.useState(!1),L=rt({name:"ScrollArea",props:t,classes:pl,className:s,style:a,classNames:r,styles:c,unstyled:u,vars:f,varsResolver:hA});return y.createElement(cg,{type:g==="never"?"always":g,scrollHideDelay:p,ref:e,scrollbars:N,...L("root"),...R},y.createElement(Cg,{...v,...L("viewport",{style:v==null?void 0:v.style}),ref:E,"data-offset-scrollbars":_===!0?"xy":_||void 0,"data-scrollbars":N||void 0,onScroll:typeof A=="function"?({currentTarget:H})=>A({x:H.scrollLeft,y:H.scrollTop}):void 0},b),(N==="xy"||N==="x")&&y.createElement(mg,{...L("scrollbar"),orientation:"horizontal","data-hidden":g==="never"||void 0,forceMount:!0,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1)},y.createElement(yg,{...L("thumb")})),(N==="xy"||N==="y")&&y.createElement(mg,{...L("scrollbar"),orientation:"vertical","data-hidden":g==="never"||void 0,forceMount:!0,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1)},y.createElement(yg,{...L("thumb")})),y.createElement(tA,{...L("corner"),"data-hovered":P||void 0,"data-hidden":g==="never"||void 0}))});bi.displayName="@mantine/core/ScrollArea";const ml=ke((o,e)=>{const{children:t,classNames:r,styles:s,scrollbarSize:a,scrollHideDelay:c,type:u,dir:d,offsetScrollbars:f,viewportRef:g,onScrollPositionChange:p,unstyled:v,variant:E,viewportProps:A,scrollbars:b,style:_,vars:N,...R}=le("ScrollAreaAutosize",vg,o);return y.createElement(Ce,{...R,ref:e,style:[{display:"flex",overflow:"auto"},_]},y.createElement(Ce,{style:{display:"flex",flexDirection:"column",flex:1}},y.createElement(bi,{classNames:r,styles:s,scrollHideDelay:c,scrollbarSize:a,type:u,dir:d,offsetScrollbars:f,viewportRef:g,onScrollPositionChange:p,unstyled:v,variant:E,viewportProps:A,vars:N,scrollbars:b},t)))});bi.classes=pl,ml.displayName="@mantine/core/ScrollAreaAutosize",ml.classes=pl,bi.Autosize=ml;var wg={root:"m-87cf2631"};const fA={__staticSelector:"UnstyledButton"},Si=Uo((o,e)=>{const t=le("UnstyledButton",fA,o),{className:r,component:s="button",__staticSelector:a,unstyled:c,classNames:u,styles:d,style:f,...g}=t,p=rt({name:a,props:t,classes:wg,className:r,style:f,classNames:u,styles:d,unstyled:c});return y.createElement(Ce,{...p("root",{focusable:!0}),component:s,ref:e,type:s==="button"?"button":void 0,...g})});Si.classes=wg,Si.displayName="@mantine/core/UnstyledButton";var Eg={root:"m-515a97f8"};const gA={},yl=ke((o,e)=>{const t=le("VisuallyHidden",gA,o),{classNames:r,className:s,style:a,styles:c,unstyled:u,vars:d,...f}=t,g=rt({name:"VisuallyHidden",classes:Eg,props:t,className:s,style:a,classNames:r,styles:c,unstyled:u});return y.createElement(Ce,{component:"span",ref:e,...g("root"),...f})});yl.classes=Eg,yl.displayName="@mantine/core/VisuallyHidden";function xr(o){return Tg(o)?(o.nodeName||"").toLowerCase():"#document"}function dn(o){var e;return(o==null||(e=o.ownerDocument)==null?void 0:e.defaultView)||window}function pr(o){var e;return(e=(Tg(o)?o.ownerDocument:o.document)||window.document)==null?void 0:e.documentElement}function Tg(o){return o instanceof Node||o instanceof dn(o).Node}function Jt(o){return o instanceof Element||o instanceof dn(o).Element}function or(o){return o instanceof HTMLElement||o instanceof dn(o).HTMLElement}function Ag(o){return typeof ShadowRoot>"u"?!1:o instanceof ShadowRoot||o instanceof dn(o).ShadowRoot}function _i(o){const{overflow:e,overflowX:t,overflowY:r,display:s}=bn(o);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function pA(o){return["table","td","th"].includes(xr(o))}function Cl(o){const e=vl(),t=bn(o);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function mA(o){let e=Fo(o);for(;or(e)&&!Bs(e);){if(Cl(e))return e;e=Fo(e)}return null}function vl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bs(o){return["html","body","#document"].includes(xr(o))}function bn(o){return dn(o).getComputedStyle(o)}function Ks(o){return Jt(o)?{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}:{scrollLeft:o.pageXOffset,scrollTop:o.pageYOffset}}function Fo(o){if(xr(o)==="html")return o;const e=o.assignedSlot||o.parentNode||Ag(o)&&o.host||pr(o);return Ag(e)?e.host:e}function bg(o){const e=Fo(o);return Bs(e)?o.ownerDocument?o.ownerDocument.body:o.body:or(e)&&_i(e)?e:bg(e)}function Ii(o,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=bg(o),a=s===((r=o.ownerDocument)==null?void 0:r.body),c=dn(s);return a?e.concat(c,c.visualViewport||[],_i(s)?s:[],c.frameElement&&t?Ii(c.frameElement):[]):e.concat(s,Ii(s,[],t))}const $n=Math.min,Dt=Math.max,$s=Math.round,Gs=Math.floor,Mr=o=>({x:o,y:o}),yA={left:"right",right:"left",bottom:"top",top:"bottom"},CA={start:"end",end:"start"};function wl(o,e,t){return Dt(o,$n(e,t))}function mr(o,e){return typeof o=="function"?o(e):o}function Gn(o){return o.split("-")[0]}function Bo(o){return o.split("-")[1]}function El(o){return o==="x"?"y":"x"}function Tl(o){return o==="y"?"height":"width"}function io(o){return["top","bottom"].includes(Gn(o))?"y":"x"}function Al(o){return El(io(o))}function vA(o,e,t){t===void 0&&(t=!1);const r=Bo(o),s=Al(o),a=Tl(s);let c=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=zs(c)),[c,zs(c)]}function wA(o){const e=zs(o);return[bl(o),e,bl(e)]}function bl(o){return o.replace(/start|end/g,e=>CA[e])}function EA(o,e,t){const r=["left","right"],s=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(o){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?a:c;default:return[]}}function TA(o,e,t,r){const s=Bo(o);let a=EA(Gn(o),t==="start",r);return s&&(a=a.map(c=>c+"-"+s),e&&(a=a.concat(a.map(bl)))),a}function zs(o){return o.replace(/left|right|bottom|top/g,e=>yA[e])}function AA(o){return{top:0,right:0,bottom:0,left:0,...o}}function Sl(o){return typeof o!="number"?AA(o):{top:o,right:o,bottom:o,left:o}}function Ko(o){return{...o,top:o.y,left:o.x,right:o.x+o.width,bottom:o.y+o.height}}function Sg(o,e,t){let{reference:r,floating:s}=o;const a=io(e),c=Al(e),u=Tl(c),d=Gn(e),f=a==="y",g=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let E;switch(d){case"top":E={x:g,y:r.y-s.height};break;case"bottom":E={x:g,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:p};break;case"left":E={x:r.x-s.width,y:p};break;default:E={x:r.x,y:r.y}}switch(Bo(e)){case"start":E[c]-=v*(t&&f?-1:1);break;case"end":E[c]+=v*(t&&f?-1:1);break}return E}const bA=async(o,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:c}=t,u=a.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(e));let f=await c.getElementRects({reference:o,floating:e,strategy:s}),{x:g,y:p}=Sg(f,r,d),v=r,E={},A=0;for(let b=0;b<u.length;b++){const{name:_,fn:N}=u[b],{x:R,y:P,data:x,reset:L}=await N({x:g,y:p,initialPlacement:r,placement:v,strategy:s,middlewareData:E,rects:f,platform:c,elements:{reference:o,floating:e}});g=R??g,p=P??p,E={...E,[_]:{...E[_],...x}},L&&A<=50&&(A++,typeof L=="object"&&(L.placement&&(v=L.placement),L.rects&&(f=L.rects===!0?await c.getElementRects({reference:o,floating:e,strategy:s}):L.rects),{x:g,y:p}=Sg(f,v,d)),b=-1)}return{x:g,y:p,placement:v,strategy:s,middlewareData:E}};async function _l(o,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:c,elements:u,strategy:d}=o,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:p="floating",altBoundary:v=!1,padding:E=0}=mr(e,o),A=Sl(E),_=u[v?p==="floating"?"reference":"floating":p],N=Ko(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(_)))==null||t?_:_.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:f,rootBoundary:g,strategy:d})),R=p==="floating"?{...c.floating,x:r,y:s}:c.reference,P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),x=await(a.isElement==null?void 0:a.isElement(P))?await(a.getScale==null?void 0:a.getScale(P))||{x:1,y:1}:{x:1,y:1},L=Ko(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:R,offsetParent:P,strategy:d}):R);return{top:(N.top-L.top+A.top)/x.y,bottom:(L.bottom-N.bottom+A.bottom)/x.y,left:(N.left-L.left+A.left)/x.x,right:(L.right-N.right+A.right)/x.x}}const SA=o=>({name:"arrow",options:o,async fn(e){const{x:t,y:r,placement:s,rects:a,platform:c,elements:u,middlewareData:d}=e,{element:f,padding:g=0}=mr(o,e)||{};if(f==null)return{};const p=Sl(g),v={x:t,y:r},E=Al(s),A=Tl(E),b=await c.getDimensions(f),_=E==="y",N=_?"top":"left",R=_?"bottom":"right",P=_?"clientHeight":"clientWidth",x=a.reference[A]+a.reference[E]-v[E]-a.floating[A],L=v[E]-a.reference[E],H=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let W=H?H[P]:0;(!W||!await(c.isElement==null?void 0:c.isElement(H)))&&(W=u.floating[P]||a.floating[A]);const B=x/2-L/2,Q=W/2-b[A]/2-1,re=$n(p[N],Q),pe=$n(p[R],Q),se=re,de=W-b[A]-pe,ne=W/2-b[A]/2+B,me=wl(se,ne,de),Z=!d.arrow&&Bo(s)!=null&&ne!==me&&a.reference[A]/2-(ne<se?re:pe)-b[A]/2<0,J=Z?ne<se?ne-se:ne-de:0;return{[E]:v[E]+J,data:{[E]:me,centerOffset:ne-me-J,...Z&&{alignmentOffset:J}},reset:Z}}}),_A=function(o){return o===void 0&&(o={}),{name:"flip",options:o,async fn(e){var t,r;const{placement:s,middlewareData:a,rects:c,initialPlacement:u,platform:d,elements:f}=e,{mainAxis:g=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:b=!0,..._}=mr(o,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const N=Gn(s),R=Gn(u)===u,P=await(d.isRTL==null?void 0:d.isRTL(f.floating)),x=v||(R||!b?[zs(u)]:wA(u));!v&&A!=="none"&&x.push(...TA(u,b,A,P));const L=[u,...x],H=await _l(e,_),W=[];let B=((r=a.flip)==null?void 0:r.overflows)||[];if(g&&W.push(H[N]),p){const se=vA(s,c,P);W.push(H[se[0]],H[se[1]])}if(B=[...B,{placement:s,overflows:W}],!W.every(se=>se<=0)){var Q,re;const se=(((Q=a.flip)==null?void 0:Q.index)||0)+1,de=L[se];if(de)return{data:{index:se,overflows:B},reset:{placement:de}};let ne=(re=B.filter(me=>me.overflows[0]<=0).sort((me,Z)=>me.overflows[1]-Z.overflows[1])[0])==null?void 0:re.placement;if(!ne)switch(E){case"bestFit":{var pe;const me=(pe=B.map(Z=>[Z.placement,Z.overflows.filter(J=>J>0).reduce((J,ae)=>J+ae,0)]).sort((Z,J)=>Z[1]-J[1])[0])==null?void 0:pe[0];me&&(ne=me);break}case"initialPlacement":ne=u;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function _g(o){const e=$n(...o.map(a=>a.left)),t=$n(...o.map(a=>a.top)),r=Dt(...o.map(a=>a.right)),s=Dt(...o.map(a=>a.bottom));return{x:e,y:t,width:r-e,height:s-t}}function IA(o){const e=o.slice().sort((s,a)=>s.y-a.y),t=[];let r=null;for(let s=0;s<e.length;s++){const a=e[s];!r||a.y-r.y>r.height/2?t.push([a]):t[t.length-1].push(a),r=a}return t.map(s=>Ko(_g(s)))}const RA=function(o){return o===void 0&&(o={}),{name:"inline",options:o,async fn(e){const{placement:t,elements:r,rects:s,platform:a,strategy:c}=e,{padding:u=2,x:d,y:f}=mr(o,e),g=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(r.reference))||[]),p=IA(g),v=Ko(_g(g)),E=Sl(u);function A(){if(p.length===2&&p[0].left>p[1].right&&d!=null&&f!=null)return p.find(_=>d>_.left-E.left&&d<_.right+E.right&&f>_.top-E.top&&f<_.bottom+E.bottom)||v;if(p.length>=2){if(io(t)==="y"){const re=p[0],pe=p[p.length-1],se=Gn(t)==="top",de=re.top,ne=pe.bottom,me=se?re.left:pe.left,Z=se?re.right:pe.right,J=Z-me,ae=ne-de;return{top:de,bottom:ne,left:me,right:Z,width:J,height:ae,x:me,y:de}}const _=Gn(t)==="left",N=Dt(...p.map(re=>re.right)),R=$n(...p.map(re=>re.left)),P=p.filter(re=>_?re.left===R:re.right===N),x=P[0].top,L=P[P.length-1].bottom,H=R,W=N,B=W-H,Q=L-x;return{top:x,bottom:L,left:H,right:W,width:B,height:Q,x:H,y:x}}return v}const b=await a.getElementRects({reference:{getBoundingClientRect:A},floating:r.floating,strategy:c});return s.reference.x!==b.reference.x||s.reference.y!==b.reference.y||s.reference.width!==b.reference.width||s.reference.height!==b.reference.height?{reset:{rects:b}}:{}}}};async function kA(o,e){const{placement:t,platform:r,elements:s}=o,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),c=Gn(t),u=Bo(t),d=io(t)==="y",f=["left","top"].includes(c)?-1:1,g=a&&d?-1:1,p=mr(e,o);let{mainAxis:v,crossAxis:E,alignmentAxis:A}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return u&&typeof A=="number"&&(E=u==="end"?A*-1:A),d?{x:E*g,y:v*f}:{x:v*f,y:E*g}}const PA=function(o){return o===void 0&&(o=0),{name:"offset",options:o,async fn(e){var t,r;const{x:s,y:a,placement:c,middlewareData:u}=e,d=await kA(e,o);return c===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:a+d.y,data:{...d,placement:c}}}}},OA=function(o){return o===void 0&&(o={}),{name:"shift",options:o,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:u={fn:_=>{let{x:N,y:R}=_;return{x:N,y:R}}},...d}=mr(o,e),f={x:t,y:r},g=await _l(e,d),p=io(Gn(s)),v=El(p);let E=f[v],A=f[p];if(a){const _=v==="y"?"top":"left",N=v==="y"?"bottom":"right",R=E+g[_],P=E-g[N];E=wl(R,E,P)}if(c){const _=p==="y"?"top":"left",N=p==="y"?"bottom":"right",R=A+g[_],P=A-g[N];A=wl(R,A,P)}const b=u.fn({...e,[v]:E,[p]:A});return{...b,data:{x:b.x-t,y:b.y-r}}}}},NA=function(o){return o===void 0&&(o={}),{options:o,fn(e){const{x:t,y:r,placement:s,rects:a,middlewareData:c}=e,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=mr(o,e),g={x:t,y:r},p=io(s),v=El(p);let E=g[v],A=g[p];const b=mr(u,e),_=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const P=v==="y"?"height":"width",x=a.reference[v]-a.floating[P]+_.mainAxis,L=a.reference[v]+a.reference[P]-_.mainAxis;E<x?E=x:E>L&&(E=L)}if(f){var N,R;const P=v==="y"?"width":"height",x=["top","left"].includes(Gn(s)),L=a.reference[p]-a.floating[P]+(x&&((N=c.offset)==null?void 0:N[p])||0)+(x?0:_.crossAxis),H=a.reference[p]+a.reference[P]+(x?0:((R=c.offset)==null?void 0:R[p])||0)-(x?_.crossAxis:0);A<L?A=L:A>H&&(A=H)}return{[v]:E,[p]:A}}}},xA=function(o){return o===void 0&&(o={}),{name:"size",options:o,async fn(e){const{placement:t,rects:r,platform:s,elements:a}=e,{apply:c=()=>{},...u}=mr(o,e),d=await _l(e,u),f=Gn(t),g=Bo(t),p=io(t)==="y",{width:v,height:E}=r.floating;let A,b;f==="top"||f==="bottom"?(A=f,b=g===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,A=g==="end"?"top":"bottom");const _=E-d[A],N=v-d[b],R=!e.middlewareData.shift;let P=_,x=N;if(p){const H=v-d.left-d.right;x=g||R?$n(N,H):H}else{const H=E-d.top-d.bottom;P=g||R?$n(_,H):H}if(R&&!g){const H=Dt(d.left,0),W=Dt(d.right,0),B=Dt(d.top,0),Q=Dt(d.bottom,0);p?x=v-2*(H!==0||W!==0?H+W:Dt(d.left,d.right)):P=E-2*(B!==0||Q!==0?B+Q:Dt(d.top,d.bottom))}await c({...e,availableWidth:x,availableHeight:P});const L=await s.getDimensions(a.floating);return v!==L.width||E!==L.height?{reset:{rects:!0}}:{}}}};function Ig(o){const e=bn(o);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=or(o),a=s?o.offsetWidth:t,c=s?o.offsetHeight:r,u=$s(t)!==a||$s(r)!==c;return u&&(t=a,r=c),{width:t,height:r,$:u}}function Il(o){return Jt(o)?o:o.contextElement}function $o(o){const e=Il(o);if(!or(e))return Mr(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:a}=Ig(e);let c=(a?$s(t.width):t.width)/r,u=(a?$s(t.height):t.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const MA=Mr(0);function Rg(o){const e=dn(o);return!vl()||!e.visualViewport?MA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function LA(o,e,t){return e===void 0&&(e=!1),!t||e&&t!==dn(o)?!1:e}function so(o,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=o.getBoundingClientRect(),a=Il(o);let c=Mr(1);e&&(r?Jt(r)&&(c=$o(r)):c=$o(o));const u=LA(a,t,r)?Rg(a):Mr(0);let d=(s.left+u.x)/c.x,f=(s.top+u.y)/c.y,g=s.width/c.x,p=s.height/c.y;if(a){const v=dn(a),E=r&&Jt(r)?dn(r):r;let A=v,b=A.frameElement;for(;b&&r&&E!==A;){const _=$o(b),N=b.getBoundingClientRect(),R=bn(b),P=N.left+(b.clientLeft+parseFloat(R.paddingLeft))*_.x,x=N.top+(b.clientTop+parseFloat(R.paddingTop))*_.y;d*=_.x,f*=_.y,g*=_.x,p*=_.y,d+=P,f+=x,A=dn(b),b=A.frameElement}}return Ko({width:g,height:p,x:d,y:f})}const DA=[":popover-open",":modal"];function kg(o){return DA.some(e=>{try{return o.matches(e)}catch{return!1}})}function UA(o){let{elements:e,rect:t,offsetParent:r,strategy:s}=o;const a=s==="fixed",c=pr(r),u=e?kg(e.floating):!1;if(r===c||u&&a)return t;let d={scrollLeft:0,scrollTop:0},f=Mr(1);const g=Mr(0),p=or(r);if((p||!p&&!a)&&((xr(r)!=="body"||_i(c))&&(d=Ks(r)),or(r))){const v=so(r);f=$o(r),g.x=v.x+r.clientLeft,g.y=v.y+r.clientTop}return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-d.scrollLeft*f.x+g.x,y:t.y*f.y-d.scrollTop*f.y+g.y}}function HA(o){return Array.from(o.getClientRects())}function Pg(o){return so(pr(o)).left+Ks(o).scrollLeft}function FA(o){const e=pr(o),t=Ks(o),r=o.ownerDocument.body,s=Dt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Dt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-t.scrollLeft+Pg(o);const u=-t.scrollTop;return bn(r).direction==="rtl"&&(c+=Dt(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:c,y:u}}function BA(o,e){const t=dn(o),r=pr(o),s=t.visualViewport;let a=r.clientWidth,c=r.clientHeight,u=0,d=0;if(s){a=s.width,c=s.height;const f=vl();(!f||f&&e==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}return{width:a,height:c,x:u,y:d}}function KA(o,e){const t=so(o,!0,e==="fixed"),r=t.top+o.clientTop,s=t.left+o.clientLeft,a=or(o)?$o(o):Mr(1),c=o.clientWidth*a.x,u=o.clientHeight*a.y,d=s*a.x,f=r*a.y;return{width:c,height:u,x:d,y:f}}function Og(o,e,t){let r;if(e==="viewport")r=BA(o,t);else if(e==="document")r=FA(pr(o));else if(Jt(e))r=KA(e,t);else{const s=Rg(o);r={...e,x:e.x-s.x,y:e.y-s.y}}return Ko(r)}function Ng(o,e){const t=Fo(o);return t===e||!Jt(t)||Bs(t)?!1:bn(t).position==="fixed"||Ng(t,e)}function $A(o,e){const t=e.get(o);if(t)return t;let r=Ii(o,[],!1).filter(u=>Jt(u)&&xr(u)!=="body"),s=null;const a=bn(o).position==="fixed";let c=a?Fo(o):o;for(;Jt(c)&&!Bs(c);){const u=bn(c),d=Cl(c);!d&&u.position==="fixed"&&(s=null),(a?!d&&!s:!d&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||_i(c)&&!d&&Ng(o,c))?r=r.filter(g=>g!==c):s=u,c=Fo(c)}return e.set(o,r),r}function GA(o){let{element:e,boundary:t,rootBoundary:r,strategy:s}=o;const c=[...t==="clippingAncestors"?$A(e,this._c):[].concat(t),r],u=c[0],d=c.reduce((f,g)=>{const p=Og(e,g,s);return f.top=Dt(p.top,f.top),f.right=$n(p.right,f.right),f.bottom=$n(p.bottom,f.bottom),f.left=Dt(p.left,f.left),f},Og(e,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function zA(o){const{width:e,height:t}=Ig(o);return{width:e,height:t}}function qA(o,e,t){const r=or(e),s=pr(e),a=t==="fixed",c=so(o,!0,a,e);let u={scrollLeft:0,scrollTop:0};const d=Mr(0);if(r||!r&&!a)if((xr(e)!=="body"||_i(s))&&(u=Ks(e)),r){const p=so(e,!0,a,e);d.x=p.x+e.clientLeft,d.y=p.y+e.clientTop}else s&&(d.x=Pg(s));const f=c.left+u.scrollLeft-d.x,g=c.top+u.scrollTop-d.y;return{x:f,y:g,width:c.width,height:c.height}}function xg(o,e){return!or(o)||bn(o).position==="fixed"?null:e?e(o):o.offsetParent}function Mg(o,e){const t=dn(o);if(!or(o)||kg(o))return t;let r=xg(o,e);for(;r&&pA(r)&&bn(r).position==="static";)r=xg(r,e);return r&&(xr(r)==="html"||xr(r)==="body"&&bn(r).position==="static"&&!Cl(r))?t:r||mA(o)||t}const WA=async function(o){const e=this.getOffsetParent||Mg,t=this.getDimensions;return{reference:qA(o.reference,await e(o.floating),o.strategy),floating:{x:0,y:0,...await t(o.floating)}}};function VA(o){return bn(o).direction==="rtl"}const YA={convertOffsetParentRelativeRectToViewportRelativeRect:UA,getDocumentElement:pr,getClippingRect:GA,getOffsetParent:Mg,getElementRects:WA,getClientRects:HA,getDimensions:zA,getScale:$o,isElement:Jt,isRTL:VA};function jA(o,e){let t=null,r;const s=pr(o);function a(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function c(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),a();const{left:f,top:g,width:p,height:v}=o.getBoundingClientRect();if(u||e(),!p||!v)return;const E=Gs(g),A=Gs(s.clientWidth-(f+p)),b=Gs(s.clientHeight-(g+v)),_=Gs(f),R={rootMargin:-E+"px "+-A+"px "+-b+"px "+-_+"px",threshold:Dt(0,$n(1,d))||1};let P=!0;function x(L){const H=L[0].intersectionRatio;if(H!==d){if(!P)return c();H?c(!1,H):r=setTimeout(()=>{c(!1,1e-7)},100)}P=!1}try{t=new IntersectionObserver(x,{...R,root:s.ownerDocument})}catch{t=new IntersectionObserver(x,R)}t.observe(o)}return c(!0),a}function QA(o,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=Il(o),g=s||a?[...f?Ii(f):[],...Ii(e)]:[];g.forEach(N=>{s&&N.addEventListener("scroll",t,{passive:!0}),a&&N.addEventListener("resize",t)});const p=f&&u?jA(f,t):null;let v=-1,E=null;c&&(E=new ResizeObserver(N=>{let[R]=N;R&&R.target===f&&E&&(E.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var P;(P=E)==null||P.observe(e)})),t()}),f&&!d&&E.observe(f),E.observe(e));let A,b=d?so(o):null;d&&_();function _(){const N=so(o);b&&(N.x!==b.x||N.y!==b.y||N.width!==b.width||N.height!==b.height)&&t(),b=N,A=requestAnimationFrame(_)}return t(),()=>{var N;g.forEach(R=>{s&&R.removeEventListener("scroll",t),a&&R.removeEventListener("resize",t)}),p==null||p(),(N=E)==null||N.disconnect(),E=null,d&&cancelAnimationFrame(A)}}const JA=OA,XA=_A,ZA=xA,Lg=SA,eb=RA,tb=NA,nb=(o,e,t)=>{const r=new Map,s={platform:YA,...t},a={...s.platform,_c:r};return bA(o,e,{...s,platform:a})},rb=o=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:o,fn(t){const{element:r,padding:s}=typeof o=="function"?o(t):o;return r&&e(r)?r.current!=null?Lg({element:r.current,padding:s}).fn(t):{}:r?Lg({element:r,padding:s}).fn(t):{}}}};var qs=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Ws(o,e){if(o===e)return!0;if(typeof o!=typeof e)return!1;if(typeof o=="function"&&o.toString()===e.toString())return!0;let t,r,s;if(o&&e&&typeof o=="object"){if(Array.isArray(o)){if(t=o.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Ws(o[r],e[r]))return!1;return!0}if(s=Object.keys(o),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const a=s[r];if(!(a==="_owner"&&o.$$typeof)&&!Ws(o[a],e[a]))return!1}return!0}return o!==o&&e!==e}function Dg(o){return typeof window>"u"?1:(o.ownerDocument.defaultView||window).devicePixelRatio||1}function Ug(o,e){const t=Dg(o);return Math.round(e*t)/t}function Hg(o){const e=Ie.useRef(o);return qs(()=>{e.current=o}),e}function ob(o){o===void 0&&(o={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:c}={},transform:u=!0,whileElementsMounted:d,open:f}=o,[g,p]=Ie.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,E]=Ie.useState(r);Ws(v,r)||E(r);const[A,b]=Ie.useState(null),[_,N]=Ie.useState(null),R=Ie.useCallback(J=>{J!==H.current&&(H.current=J,b(J))},[]),P=Ie.useCallback(J=>{J!==W.current&&(W.current=J,N(J))},[]),x=a||A,L=c||_,H=Ie.useRef(null),W=Ie.useRef(null),B=Ie.useRef(g),Q=d!=null,re=Hg(d),pe=Hg(s),se=Ie.useCallback(()=>{if(!H.current||!W.current)return;const J={placement:e,strategy:t,middleware:v};pe.current&&(J.platform=pe.current),nb(H.current,W.current,J).then(ae=>{const ce={...ae,isPositioned:!0};de.current&&!Ws(B.current,ce)&&(B.current=ce,cC.flushSync(()=>{p(ce)}))})},[v,e,t,pe]);qs(()=>{f===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,p(J=>({...J,isPositioned:!1})))},[f]);const de=Ie.useRef(!1);qs(()=>(de.current=!0,()=>{de.current=!1}),[]),qs(()=>{if(x&&(H.current=x),L&&(W.current=L),x&&L){if(re.current)return re.current(x,L,se);se()}},[x,L,se,re,Q]);const ne=Ie.useMemo(()=>({reference:H,floating:W,setReference:R,setFloating:P}),[R,P]),me=Ie.useMemo(()=>({reference:x,floating:L}),[x,L]),Z=Ie.useMemo(()=>{const J={position:t,left:0,top:0};if(!me.floating)return J;const ae=Ug(me.floating,g.x),ce=Ug(me.floating,g.y);return u?{...J,transform:"translate("+ae+"px, "+ce+"px)",...Dg(me.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ae,top:ce}},[t,u,me.floating,g.x,g.y]);return Ie.useMemo(()=>({...g,update:se,refs:ne,elements:me,floatingStyles:Z}),[g,se,ne,me,Z])}const ib=Ie.useInsertionEffect||(o=>o());function sb(o){const e=Ie.useRef(()=>{if(process.env.NODE_ENV!=="production")throw new Error("Cannot call an event handler while rendering.")});return ib(()=>{e.current=o}),Ie.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}var Fg=typeof document<"u"?y.useLayoutEffect:y.useEffect;let Rl=!1,ab=0;const Bg=()=>"floating-ui-"+ab++;function cb(){const[o,e]=Ie.useState(()=>Rl?Bg():void 0);return Fg(()=>{o==null&&e(Bg())},[]),Ie.useEffect(()=>{Rl||(Rl=!0)},[]),o}const lb=Ie.useId||cb;function ub(){const o=new Map;return{emit(e,t){var r;(r=o.get(e))==null||r.forEach(s=>s(t))},on(e,t){o.set(e,[...o.get(e)||[],t])},off(e,t){var r;o.set(e,((r=o.get(e))==null?void 0:r.filter(s=>s!==t))||[])}}}const db=Ie.createContext(null),hb=Ie.createContext(null),fb=()=>{var o;return((o=Ie.useContext(db))==null?void 0:o.id)||null},gb=()=>Ie.useContext(hb);let kl;process.env.NODE_ENV!=="production"&&(kl=new Set);function pb(o){var e;o===void 0&&(o={});const{open:t=!1,onOpenChange:r,nodeId:s}=o;if(process.env.NODE_ENV!=="production"){var a;const B="Floating UI: Cannot pass a virtual element to the `elements.reference` option, as it must be a real DOM element. Use `refs.setPositionReference` instead.";if((a=o.elements)!=null&&a.reference&&!Jt(o.elements.reference)){var c;if(!((c=kl)!=null&&c.has(B))){var u;(u=kl)==null||u.add(B),console.error(B)}}}const[d,f]=Ie.useState(null),g=((e=o.elements)==null?void 0:e.reference)||d,p=ob(o),v=gb(),E=fb()!=null,A=sb((B,Q,re)=>{B&&(_.current.openEvent=Q),N.emit("openchange",{open:B,event:Q,reason:re,nested:E}),r==null||r(B,Q,re)}),b=Ie.useRef(null),_=Ie.useRef({}),N=Ie.useState(()=>ub())[0],R=lb(),P=Ie.useCallback(B=>{const Q=Jt(B)?{getBoundingClientRect:()=>B.getBoundingClientRect(),contextElement:B}:B;p.refs.setReference(Q)},[p.refs]),x=Ie.useCallback(B=>{(Jt(B)||B===null)&&(b.current=B,f(B)),(Jt(p.refs.reference.current)||p.refs.reference.current===null||B!==null&&!Jt(B))&&p.refs.setReference(B)},[p.refs]),L=Ie.useMemo(()=>({...p.refs,setReference:x,setPositionReference:P,domReference:b}),[p.refs,x,P]),H=Ie.useMemo(()=>({...p.elements,domReference:g}),[p.elements,g]),W=Ie.useMemo(()=>({...p,refs:L,elements:H,dataRef:_,nodeId:s,floatingId:R,events:N,open:t,onOpenChange:A}),[p,s,R,N,t,A,L,H]);return Fg(()=>{const B=v==null?void 0:v.nodesRef.current.find(Q=>Q.id===s);B&&(B.context=W)}),Ie.useMemo(()=>({...p,context:W,refs:L,elements:H}),[p,L,H,W])}function mb(o,e){if(o==="rtl"&&(e.includes("right")||e.includes("left"))){const[t,r]=e.split("-"),s=t==="right"?"left":"right";return r===void 0?s:`${s}-${r}`}return e}function Kg(o,e,t,r){return o==="center"||r==="center"?{top:e}:o==="end"?{bottom:t}:o==="start"?{top:t}:{}}function $g(o,e,t,r,s){return o==="center"||r==="center"?{left:e}:o==="end"?{[s==="ltr"?"right":"left"]:t}:o==="start"?{[s==="ltr"?"left":"right"]:t}:{}}const yb={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Cb({position:o,arrowSize:e,arrowOffset:t,arrowRadius:r,arrowPosition:s,arrowX:a,arrowY:c,dir:u}){const[d,f="center"]=o.split("-"),g={width:He(e),height:He(e),transform:"rotate(45deg)",position:"absolute",[yb[d]]:He(r)},p=He(-e/2);return d==="left"?{...g,...Kg(f,c,t,s),right:p,borderLeftColor:"transparent",borderBottomColor:"transparent"}:d==="right"?{...g,...Kg(f,c,t,s),left:p,borderRightColor:"transparent",borderTopColor:"transparent"}:d==="top"?{...g,...$g(f,a,t,s,u),bottom:p,borderTopColor:"transparent",borderLeftColor:"transparent"}:d==="bottom"?{...g,...$g(f,a,t,s,u),top:p,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const Gg=y.forwardRef(({position:o,arrowSize:e,arrowOffset:t,arrowRadius:r,arrowPosition:s,visible:a,arrowX:c,arrowY:u,style:d,...f},g)=>{const{dir:p}=hl();return a?y.createElement("div",{...f,ref:g,style:{...d,...Cb({position:o,arrowSize:e,arrowOffset:t,arrowRadius:r,arrowPosition:s,dir:p,arrowX:c,arrowY:u})}}):null});Gg.displayName="@mantine/core/FloatingArrow";const[vb,zg]=xo("Popover component was not found in the tree");function Pl({children:o,active:e=!0,refProp:t="ref"}){const r=YE(e),s=Tn(r,o==null?void 0:o.ref);return wi(o)?y.cloneElement(o,{[t]:s}):o}function qg(o){return y.createElement(yl,{tabIndex:-1,"data-autofocus":!0,...o})}Pl.displayName="@mantine/core/FocusTrap",qg.displayName="@mantine/core/FocusTrapInitialFocus",Pl.InitialFocus=qg;function wb(o){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof o.className=="string"&&e.classList.add(...o.className.split(" ").filter(Boolean)),typeof o.style=="object"&&Object.assign(e.style,o.style),typeof o.id=="string"&&e.setAttribute("id",o.id),e}const Eb={},Wg=y.forwardRef((o,e)=>{const{children:t,target:r,...s}=le("Portal",Eb,o),[a,c]=y.useState(!1),u=y.useRef(null);return sl(()=>(c(!0),u.current=r?typeof r=="string"?document.querySelector(r):r:wb(s),Vf(e,u.current),!r&&u.current&&document.body.appendChild(u.current),()=>{!r&&u.current&&document.body.removeChild(u.current)}),[r]),!a||!u.current?null:Xn.createPortal(y.createElement(y.Fragment,null,t),u.current)});Wg.displayName="@mantine/core/Portal";function Vg({withinPortal:o=!0,children:e,...t}){return o?y.createElement(Wg,{...t},e):y.createElement(y.Fragment,null,e)}Vg.displayName="@mantine/core/OptionalPortal";const Ri=o=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${He(o==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),Vs={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${He(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${He(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${He(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${He(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Ri("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Ri("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Ri("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Ri("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Ri("top"),common:{transformOrigin:"top right"}}},Yg={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Tb({transition:o,state:e,duration:t,timingFunction:r}){const s={transitionDuration:`${t}ms`,transitionTimingFunction:r};return typeof o=="string"?o in Vs?{transitionProperty:Vs[o].transitionProperty,...s,...Vs[o].common,...Vs[o][Yg[e]]}:{}:{transitionProperty:o.transitionProperty,...s,...o.common,...o[Yg[e]]}}function Ab({duration:o,exitDuration:e,timingFunction:t,mounted:r,onEnter:s,onExit:a,onEntered:c,onExited:u}){const d=Do(),f=jf(),g=d.respectReducedMotion?f:!1,[p,v]=y.useState(g?0:o),[E,A]=y.useState(r?"entered":"exited"),b=y.useRef(-1),_=N=>{const R=N?s:a,P=N?c:u;A(N?"pre-entering":"pre-exiting"),window.clearTimeout(b.current);const x=g?0:N?o:e;if(v(x),x===0)typeof R=="function"&&R(),typeof P=="function"&&P(),A(N?"entered":"exited");else{const L=window.setTimeout(()=>{typeof R=="function"&&R(),A(N?"entering":"exiting")},10);b.current=window.setTimeout(()=>{window.clearTimeout(L),typeof P=="function"&&P(),A(N?"entered":"exited")},x)}};return to(()=>{_(r)},[r]),y.useEffect(()=>()=>window.clearTimeout(b.current),[]),{transitionDuration:p,transitionStatus:E,transitionTimingFunction:t||"ease"}}function jg({keepMounted:o,transition:e="fade",duration:t=250,exitDuration:r=t,mounted:s,children:a,timingFunction:c="ease",onExit:u,onEntered:d,onEnter:f,onExited:g}){const{transitionDuration:p,transitionStatus:v,transitionTimingFunction:E}=Ab({mounted:s,exitDuration:r,duration:t,timingFunction:c,onExit:u,onEntered:d,onEnter:f,onExited:g});return p===0?s?y.createElement(y.Fragment,null,a({})):o?a({display:"none"}):null:v==="exited"?o?a({display:"none"}):null:y.createElement(y.Fragment,null,a(Tb({transition:e,duration:p,state:v,timingFunction:E})))}jg.displayName="@mantine/core/Transition";var Qg={dropdown:"m-38a85659",arrow:"m-a31dc6c1"};const bb={},Ol=ke((o,e)=>{var _,N,R,P;const t=le("PopoverDropdown",bb,o),{className:r,style:s,vars:a,children:c,onKeyDownCapture:u,variant:d,classNames:f,styles:g,...p}=t,v=zg(),E=KE({opened:v.opened,shouldReturnFocus:v.returnFocus}),A=v.withRoles?{"aria-labelledby":v.getTargetId(),id:v.getDropdownId(),role:"dialog",tabIndex:-1}:{},b=Tn(e,v.floating);return v.disabled?null:y.createElement(Vg,{...v.portalProps,withinPortal:v.withinPortal},y.createElement(jg,{mounted:v.opened,...v.transitionProps,transition:((_=v.transitionProps)==null?void 0:_.transition)||"fade",duration:((N=v.transitionProps)==null?void 0:N.duration)??150,keepMounted:v.keepMounted,exitDuration:typeof((R=v.transitionProps)==null?void 0:R.exitDuration)=="number"?v.transitionProps.exitDuration:(P=v.transitionProps)==null?void 0:P.duration},x=>y.createElement(Pl,{active:v.trapFocus},y.createElement(Ce,{...A,...p,variant:d,ref:b,onKeyDownCapture:xE(v.onClose,{active:v.closeOnEscape,onTrigger:E,onKeyDown:u}),"data-position":v.placement,...v.getStyles("dropdown",{className:r,props:t,classNames:f,styles:g,style:[{...x,zIndex:v.zIndex,top:v.y??0,left:v.x??0,width:v.width==="target"?void 0:He(v.width)},s]})},c,y.createElement(Gg,{ref:v.arrowRef,arrowX:v.arrowX,arrowY:v.arrowY,visible:v.withArrow,position:v.placement,arrowSize:v.arrowSize,arrowRadius:v.arrowRadius,arrowOffset:v.arrowOffset,arrowPosition:v.arrowPosition,...v.getStyles("arrow",{props:t,classNames:f,styles:g})})))))});Ol.classes=Qg,Ol.displayName="@mantine/core/PopoverDropdown";const Sb={refProp:"ref",popupType:"dialog"},Jg=ke((o,e)=>{const{children:t,refProp:r,popupType:s,...a}=le("PopoverTarget",Sb,o);if(!wi(t))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=a,u=zg(),d=Tn(u.reference,t.ref,e),f=u.withRoles?{"aria-haspopup":s,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return y.cloneElement(t,{...c,...f,...u.targetProps,className:gr(u.targetProps.className,c.className,t.props.className),[r]:d,...u.controlled?null:{onClick:u.onToggle}})});Jg.displayName="@mantine/core/PopoverTarget";function _b({opened:o,floating:e,position:t,positionDependencies:r}){const[s,a]=y.useState(0);y.useEffect(()=>{if(e.refs.reference.current&&e.refs.floating.current)return QA(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,o,s,t]),to(()=>{e.update()},r),to(()=>{a(c=>c+1)},[o])}function Ib(o,e){var r,s,a,c;const t=[PA(o.offset)];return(r=o.middlewares)!=null&&r.shift&&t.push(JA({limiter:tb()})),(s=o.middlewares)!=null&&s.flip&&t.push(XA()),(a=o.middlewares)!=null&&a.inline&&t.push(eb()),t.push(rb({element:o.arrowRef,padding:o.arrowOffset})),((c=o.middlewares)!=null&&c.size||o.width==="target")&&t.push(ZA({apply({rects:u,availableWidth:d,availableHeight:f}){var v,E;const p=((v=e().refs.floating.current)==null?void 0:v.style)??{};(E=o.middlewares)!=null&&E.size&&Object.assign(p,{maxWidth:`${d}px`,maxHeight:`${f}px`}),o.width==="target"&&Object.assign(p,{width:`${u.reference.width}px`})}})),t}function Rb(o){const[e,t]=ro({value:o.opened,defaultValue:o.defaultOpened,finalValue:!1,onChange:o.onChange}),r=()=>{var c;e&&((c=o.onClose)==null||c.call(o),t(!1))},s=()=>{var c,u;e?((c=o.onClose)==null||c.call(o),t(!1)):((u=o.onOpen)==null||u.call(o),t(!0))},a=pb({strategy:o.strategy,placement:o.position,middleware:Ib(o,()=>a)});return _b({opened:o.opened,position:o.position,positionDependencies:o.positionDependencies||[],floating:a}),to(()=>{var c;(c=o.onPositionChange)==null||c.call(o,a.placement)},[a.placement]),to(()=>{var c,u;o.opened?(u=o.onOpen)==null||u.call(o):(c=o.onClose)==null||c.call(o)},[o.opened]),{floating:a,controlled:typeof o.opened=="boolean",opened:e,onClose:r,onToggle:s}}const kb={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:OE("popover"),__staticSelector:"Popover",width:"max-content"},Pb=(o,{radius:e,shadow:t})=>({dropdown:{"--popover-radius":e===void 0?void 0:Mo(e),"--popover-shadow":LE(t)}});function Lr(o){var je,fn,Bt,st,mt,Wt;const e=le("Popover",kb,o),{children:t,position:r,offset:s,onPositionChange:a,positionDependencies:c,opened:u,transitionProps:d,width:f,middlewares:g,withArrow:p,arrowSize:v,arrowOffset:E,arrowRadius:A,arrowPosition:b,unstyled:_,classNames:N,styles:R,closeOnClickOutside:P,withinPortal:x,portalProps:L,closeOnEscape:H,clickOutsideEvents:W,trapFocus:B,onClose:Q,onOpen:re,onChange:pe,zIndex:se,radius:de,shadow:ne,id:me,defaultOpened:Z,__staticSelector:J,withRoles:ae,disabled:ce,returnFocus:Ne,variant:xe,keepMounted:ht,vars:Ze,floatingStrategy:qn,...Ht}=e,Ft=rt({name:J,props:e,classes:Qg,classNames:N,styles:R,unstyled:_,rootSelector:"dropdown",vars:Ze,varsResolver:Pb}),Zt=y.useRef(null),[bt,kt]=y.useState(null),[en,In]=y.useState(null),{dir:zt}=hl(),qt=no(me),De=Rb({middlewares:g,width:f,position:mb(zt,r),offset:typeof s=="number"?s+(p?v/2:0):s,arrowRef:Zt,arrowOffset:E,onPositionChange:a,positionDependencies:c,opened:u,defaultOpened:Z,onChange:pe,onOpen:re,onClose:Q,strategy:qn});DE(()=>P&&De.onClose(),W,[bt,en]);const tt=y.useCallback(Vt=>{kt(Vt),De.floating.refs.setReference(Vt)},[De.floating.refs.setReference]),hn=y.useCallback(Vt=>{In(Vt),De.floating.refs.setFloating(Vt)},[De.floating.refs.setFloating]);return y.createElement(vb,{value:{returnFocus:Ne,disabled:ce,controlled:De.controlled,reference:tt,floating:hn,x:De.floating.x,y:De.floating.y,arrowX:(Bt=(fn=(je=De.floating)==null?void 0:je.middlewareData)==null?void 0:fn.arrow)==null?void 0:Bt.x,arrowY:(Wt=(mt=(st=De.floating)==null?void 0:st.middlewareData)==null?void 0:mt.arrow)==null?void 0:Wt.y,opened:De.opened,arrowRef:Zt,transitionProps:d,width:f,withArrow:p,arrowSize:v,arrowOffset:E,arrowRadius:A,arrowPosition:b,placement:De.floating.placement,trapFocus:B,withinPortal:x,portalProps:L,zIndex:se,radius:de,shadow:ne,closeOnEscape:H,onClose:De.onClose,onToggle:De.onToggle,getTargetId:()=>`${qt}-target`,getDropdownId:()=>`${qt}-dropdown`,withRoles:ae,targetProps:Ht,__staticSelector:J,classNames:N,styles:R,unstyled:_,variant:xe,keepMounted:ht,getStyles:Ft}},t)}Lr.Target=Jg,Lr.Dropdown=Ol,Lr.displayName="@mantine/core/Popover",Lr.extend=o=>o;var zn={root:"m-5ae2e3c",barsLoader:"m-7a2bd4cd",bar:"m-870bb79","bars-loader-animation":"m-5d2b3b9d",dotsLoader:"m-4e3f22d7",dot:"m-870c4af","loader-dots-animation":"m-aac34a1",ovalLoader:"m-b34414df","oval-loader-animation":"m-f8e89c4b"};const Ob=y.forwardRef(({className:o,...e},t)=>y.createElement(Ce,{component:"span",className:gr(zn.barsLoader,o),...e,ref:t},y.createElement("span",{className:zn.bar}),y.createElement("span",{className:zn.bar}),y.createElement("span",{className:zn.bar}))),Nb=y.forwardRef(({className:o,...e},t)=>y.createElement(Ce,{component:"span",className:gr(zn.dotsLoader,o),...e,ref:t},y.createElement("span",{className:zn.dot}),y.createElement("span",{className:zn.dot}),y.createElement("span",{className:zn.dot}))),xb=y.forwardRef(({className:o,...e},t)=>y.createElement(Ce,{component:"span",className:gr(zn.ovalLoader,o),...e,ref:t})),Xg={bars:Ob,oval:xb,dots:Nb},Mb={loaders:Xg,type:"oval"},Lb=(o,{size:e,color:t})=>({root:{"--loader-size":Rt(e,"loader-size"),"--loader-color":t?Lo(t,o):void 0}}),Ys=ke((o,e)=>{const t=le("Loader",Mb,o),{size:r,color:s,type:a,vars:c,className:u,style:d,classNames:f,styles:g,unstyled:p,loaders:v,variant:E,children:A,...b}=t,_=rt({name:"Loader",props:t,classes:zn,className:u,style:d,classNames:f,styles:g,unstyled:p,vars:c,varsResolver:Lb});return A?y.createElement(Ce,{..._("root"),ref:e,...b},A):y.createElement(Ce,{..._("root"),ref:e,component:v[a],variant:E,size:r,...b})});Ys.defaultLoaders=Xg,Ys.classes=zn,Ys.displayName="@mantine/core/Loader";const Zg=y.forwardRef(({size:o="var(--cb-icon-size, 70%)",style:e,...t},r)=>y.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:o,height:o},ref:r,...t},y.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})));Zg.displayName="@mantine/core/CloseIcon";var ep={root:"m-86a44da5","root--subtle":"m-220c80f2"};const Db={variant:"subtle"},Ub=(o,{size:e,radius:t,iconSize:r})=>({root:{"--cb-size":Rt(e,"cb-size"),"--cb-radius":t===void 0?void 0:Mo(t),"--cb-icon-size":He(r)}}),Nl=Uo((o,e)=>{const t=le("CloseButton",Db,o),{iconSize:r,children:s,vars:a,radius:c,className:u,classNames:d,style:f,styles:g,unstyled:p,"data-disabled":v,disabled:E,variant:A,icon:b,mod:_,...N}=t,R=rt({name:"CloseButton",props:t,className:u,style:f,classes:ep,classNames:d,styles:g,unstyled:p,vars:a,varsResolver:Ub});return y.createElement(Si,{ref:e,...N,unstyled:p,variant:A,disabled:E,mod:[{disabled:E||v},_],...R("root",{variant:A,active:!0})},b||y.createElement(Zg,null),s)});Nl.classes=ep,Nl.displayName="@mantine/core/CloseButton";function Hb(o){return y.Children.toArray(o).filter(Boolean)}var tp={root:"m-4081bf90"};const Fb={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Bb=(o,{grow:e,preventGrowOverflow:t,gap:r,align:s,justify:a,wrap:c},{childWidth:u})=>({root:{"--group-child-width":e&&t?u:void 0,"--group-gap":Kf(r),"--group-align":s,"--group-justify":a,"--group-wrap":c}}),ki=ke((o,e)=>{const t=le("Group",Fb,o),{classNames:r,className:s,style:a,styles:c,unstyled:u,children:d,gap:f,align:g,justify:p,wrap:v,grow:E,preventGrowOverflow:A,vars:b,variant:_,__size:N,mod:R,...P}=t,x=Hb(d),L=x.length,H=Kf(f??"md"),B={childWidth:`calc(${100/L}% - (${H} - ${H} / ${L}))`},Q=rt({name:"Group",props:t,stylesCtx:B,className:s,style:a,classes:tp,classNames:r,styles:c,unstyled:u,vars:b,varsResolver:Bb});return y.createElement(Ce,{...Q("root"),ref:e,variant:_,mod:[{grow:E},R],size:N,...P},x)});ki.classes=tp,ki.displayName="@mantine/core/Group";const[Kb,Pi]=SE({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Sn={wrapper:"m-6c018570",input:"m-8fb7ebe7",section:"m-82577fc2",placeholder:"m-88bacfd0",root:"m-46b77525",label:"m-8fdc1311",required:"m-78a94662",error:"m-8f816625",description:"m-fe47ce59"};const np={},$b=(o,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${un(e)} - ${He(2)})`}}),js=ke((o,e)=>{const t=le("InputDescription",np,o),{classNames:r,className:s,style:a,styles:c,unstyled:u,vars:d,size:f,__staticSelector:g,__inheritStyles:p=!0,variant:v,...E}=le("InputDescription",np,t),A=Pi(),b=rt({name:["InputWrapper",g],props:t,classes:Sn,className:s,style:a,classNames:r,styles:c,unstyled:u,rootSelector:"description",vars:d,varsResolver:$b}),_=p&&(A==null?void 0:A.getStyles)||b;return y.createElement(Ce,{component:"p",ref:e,variant:v,size:f,..._("description"),...E})});js.classes=Sn,js.displayName="@mantine/core/InputDescription";const Gb={},zb=(o,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${un(e)} - ${He(2)})`}}),Qs=ke((o,e)=>{const t=le("InputError",Gb,o),{classNames:r,className:s,style:a,styles:c,unstyled:u,vars:d,size:f,__staticSelector:g,__inheritStyles:p=!0,variant:v,...E}=t,A=rt({name:["InputWrapper",g],props:t,classes:Sn,className:s,style:a,classNames:r,styles:c,unstyled:u,rootSelector:"error",vars:d,varsResolver:zb}),b=Pi(),_=p&&(b==null?void 0:b.getStyles)||A;return y.createElement(Ce,{component:"p",ref:e,variant:v,size:f,..._("error"),...E})});Qs.classes=Sn,Qs.displayName="@mantine/core/InputError";const rp={labelElement:"label"},qb=(o,{size:e})=>({label:{"--input-label-size":un(e),"--input-asterisk-color":void 0}}),Js=ke((o,e)=>{const t=le("InputLabel",rp,o),{classNames:r,className:s,style:a,styles:c,unstyled:u,vars:d,labelElement:f,size:g,required:p,htmlFor:v,onMouseDown:E,children:A,__staticSelector:b,variant:_,mod:N,...R}=le("InputLabel",rp,t),P=rt({name:["InputWrapper",b],props:t,classes:Sn,className:s,style:a,classNames:r,styles:c,unstyled:u,rootSelector:"label",vars:d,varsResolver:qb}),x=Pi(),L=(x==null?void 0:x.getStyles)||P;return y.createElement(Ce,{...L("label"),component:f,variant:_,size:g,ref:e,htmlFor:f==="label"?v:void 0,mod:[{required:p},N],onMouseDown:H=>{E==null||E(H),!H.defaultPrevented&&H.detail>1&&H.preventDefault()},...R},A,p&&y.createElement("span",{...L("required"),"aria-hidden":!0}," *"))});Js.classes=Sn,Js.displayName="@mantine/core/InputLabel";const op={},xl=ke((o,e)=>{const t=le("InputPlaceholder",op,o),{classNames:r,className:s,style:a,styles:c,unstyled:u,vars:d,__staticSelector:f,variant:g,error:p,mod:v,...E}=le("InputPlaceholder",op,t),A=rt({name:["InputPlaceholder",f],props:t,classes:Sn,className:s,style:a,classNames:r,styles:c,unstyled:u,rootSelector:"placeholder"});return y.createElement(Ce,{...A("placeholder"),mod:[{error:!!p},v],component:"span",variant:g,ref:e,...E})});xl.classes=Sn,xl.displayName="@mantine/core/InputPlaceholder";function Wb(o,{hasDescription:e,hasError:t}){const r=o.findIndex(d=>d==="input"),s=o[r-1],a=o[r+1];return{offsetBottom:e&&a==="description"||t&&a==="error",offsetTop:e&&s==="description"||t&&s==="error"}}const Vb={labelElement:"label",inputContainer:o=>o,inputWrapperOrder:["label","description","input","error"]},Yb=(o,{size:e})=>({label:{"--input-label-size":un(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${un(e)} - ${He(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${un(e)} - ${He(2)})`}}),Ml=ke((o,e)=>{const t=le("InputWrapper",Vb,o),{classNames:r,className:s,style:a,styles:c,unstyled:u,vars:d,size:f,variant:g,__staticSelector:p,inputContainer:v,inputWrapperOrder:E,label:A,error:b,description:_,labelProps:N,descriptionProps:R,errorProps:P,labelElement:x,children:L,withAsterisk:H,id:W,required:B,__stylesApiProps:Q,mod:re,...pe}=t,se=rt({name:["InputWrapper",p],props:Q||t,classes:Sn,className:s,style:a,classNames:r,styles:c,unstyled:u,vars:d,varsResolver:Yb}),de={size:f,variant:g,__staticSelector:p},ne=no(W),me=typeof H=="boolean"?H:B,Z=(P==null?void 0:P.id)||`${ne}-error`,J=(R==null?void 0:R.id)||`${ne}-description`,ae=ne,ce=!!b&&typeof b!="boolean",Ne=!!_,xe=`${ce?Z:""} ${Ne?J:""}`,ht=xe.trim().length>0?xe.trim():void 0,Ze=(N==null?void 0:N.id)||`${ne}-label`,qn=A&&y.createElement(Js,{key:"label",labelElement:x,id:Ze,htmlFor:ae,required:me,...de,...N},A),Ht=Ne&&y.createElement(js,{key:"description",...R,...de,size:(R==null?void 0:R.size)||de.size,id:(R==null?void 0:R.id)||J},_),Ft=y.createElement(y.Fragment,{key:"input"},v(L)),Zt=ce&&y.createElement(Qs,{...P,...de,size:(P==null?void 0:P.size)||de.size,key:"error",id:(P==null?void 0:P.id)||Z},b),bt=E.map(kt=>{switch(kt){case"label":return qn;case"input":return Ft;case"description":return Ht;case"error":return Zt;default:return null}});return y.createElement(Kb,{value:{getStyles:se,describedBy:ht,inputId:ae,labelId:Ze,...Wb(E,{hasDescription:Ne,hasError:ce})}},y.createElement(Ce,{ref:e,variant:g,size:f,mod:[{error:!!b},re],...se("root"),...pe},bt))});Ml.classes=Sn,Ml.displayName="@mantine/core/InputWrapper";const jb={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},Qb=(o,e,t)=>({wrapper:{"--input-margin-top":t.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":t.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Rt(e.size,"input-height"),"--input-fz":un(e.size),"--input-radius":e.radius===void 0?void 0:Mo(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?He(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?He(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?Rt(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),Ut=Uo((o,e)=>{const t=le("Input",jb,o),{classNames:r,className:s,style:a,styles:c,unstyled:u,required:d,__staticSelector:f,__stylesApiProps:g,size:p,wrapperProps:v,error:E,disabled:A,leftSection:b,leftSectionProps:_,leftSectionWidth:N,rightSection:R,rightSectionProps:P,rightSectionWidth:x,rightSectionPointerEvents:L,leftSectionPointerEvents:H,variant:W,vars:B,pointer:Q,multiline:re,radius:pe,id:se,withAria:de,withErrorStyles:ne,mod:me,...Z}=t,{styleProps:J,rest:ae}=Us(Z),ce=Pi(),Ne={offsetBottom:ce==null?void 0:ce.offsetBottom,offsetTop:ce==null?void 0:ce.offsetTop},xe=rt({name:["Input",f],props:g||t,classes:Sn,className:s,style:a,classNames:r,styles:c,unstyled:u,stylesCtx:Ne,rootSelector:"wrapper",vars:B,varsResolver:Qb}),ht=de?{required:d,disabled:A,"aria-invalid":!!E,"aria-describedby":ce==null?void 0:ce.describedBy,id:(ce==null?void 0:ce.inputId)||se}:{};return y.createElement(Ce,{...xe("wrapper"),...J,...v,mod:[{error:!!E&&ne,pointer:Q,disabled:A,multiline:re,"data-with-right-section":!!R,"data-with-left-section":!!b},me],variant:W,size:p},b&&y.createElement("div",{..._,"data-position":"left",...xe("section",{className:_==null?void 0:_.className,style:_==null?void 0:_.style})},b),y.createElement(Ce,{component:"input",...ae,...ht,ref:e,required:d,mod:{disabled:A,error:!!E&&ne},variant:W,...xe("input")}),R&&y.createElement("div",{...P,"data-position":"right",...xe("section",{className:P==null?void 0:P.className,style:P==null?void 0:P.style})},R))});Ut.classes=Sn,Ut.Wrapper=Ml,Ut.Label=Js,Ut.Error=Qs,Ut.Description=js,Ut.Placeholder=xl,Ut.displayName="@mantine/core/Input";function Jb(o,e,t){const r=le(o,e,t),{label:s,description:a,error:c,required:u,classNames:d,styles:f,className:g,unstyled:p,__staticSelector:v,__stylesApiProps:E,errorProps:A,labelProps:b,descriptionProps:_,wrapperProps:N,id:R,size:P,style:x,inputContainer:L,inputWrapperOrder:H,withAsterisk:W,variant:B,vars:Q,mod:re,...pe}=r,{styleProps:se,rest:de}=Us(pe),ne={label:s,description:a,error:c,required:u,classNames:d,className:g,__staticSelector:v,__stylesApiProps:E||r,errorProps:A,labelProps:b,descriptionProps:_,unstyled:p,styles:f,size:P,style:x,inputContainer:L,inputWrapperOrder:H,withAsterisk:W,variant:B,id:R,mod:re,...N};return{...de,classNames:d,styles:f,unstyled:p,wrapperProps:{...ne,...se},inputProps:{required:u,classNames:d,styles:f,unstyled:p,size:P,__staticSelector:v,__stylesApiProps:E||r,error:c,variant:B,id:R}}}const Xb={__staticSelector:"InputBase",withAria:!0},Dr=Uo((o,e)=>{const{inputProps:t,wrapperProps:r,...s}=Jb("InputBase",Xb,o);return y.createElement(Ut.Wrapper,{...r},y.createElement(Ut,{...t,...s,ref:e}))});Dr.classes={...Ut.classes,...Ut.Wrapper.classes},Dr.displayName="@mantine/core/InputBase";const[Zb,Ll]=xo("Accordion component was not found in the tree");function Dl({style:o,size:e=16,...t}){return y.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...o,width:He(e),height:He(e),display:"block"},...t},y.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}Dl.displayName="@mantine/core/AccordionChevron";const[eS,ip]=xo("Accordion.Item component was not found in the tree");var Oi={root:"m-9bdbb667",panel:"m-df78851f",content:"m-4ba554d4",itemTitle:"m-8fa820a0",control:"m-4ba585b8","control--default":"m-6939a5e9","control--contained":"m-4271d21b",label:"m-df3ffa0f",chevron:"m-3f35ae96",icon:"m-9bd771fe",item:"m-9bd7b098","item--default":"m-fe19b709","item--contained":"m-1f921b3b","item--filled":"m-2cdf939a","item--separated":"m-9f59b069"};const tS={},Ul=ke((o,e)=>{const{classNames:t,className:r,style:s,styles:a,vars:c,chevron:u,icon:d,onClick:f,onKeyDown:g,children:p,disabled:v,mod:E,...A}=le("AccordionControl",tS,o),{value:b}=ip(),_=Ll(),N=_.isItemActive(b),R=typeof _.order=="number",P=`h${_.order}`,x=y.createElement(Si,{...A,..._.getStyles("control",{className:r,classNames:t,style:s,styles:a,variant:_.variant}),unstyled:_.unstyled,mod:["accordion-control",{active:N,"chevron-position":_.chevronPosition,disabled:v},E],ref:e,onClick:L=>{f==null||f(L),_.onChange(b)},type:"button",disabled:v,"aria-expanded":N,"aria-controls":_.getRegionId(b),id:_.getControlId(b),onKeyDown:kE({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:_.loop,orientation:"vertical",onKeyDown:g})},y.createElement(Ce,{component:"span",mod:{rotate:!_.disableChevronRotation&&N,position:_.chevronPosition},..._.getStyles("chevron",{classNames:t,styles:a})},u||_.chevron),y.createElement("span",{..._.getStyles("label",{classNames:t,styles:a})},p),d&&y.createElement(Ce,{component:"span",mod:{"chevron-position":_.chevronPosition},..._.getStyles("icon",{classNames:t,styles:a})},d));return R?y.createElement(P,{..._.getStyles("itemTitle",{classNames:t,styles:a})},x):x});Ul.displayName="@mantine/core/AccordionControl",Ul.classes=Oi;const nS={},Hl=ke((o,e)=>{const{classNames:t,className:r,style:s,styles:a,vars:c,value:u,mod:d,...f}=le("AccordionItem",nS,o),g=Ll();return y.createElement(eS,{value:{value:u}},y.createElement(Ce,{ref:e,mod:[{active:g.isItemActive(u)},d],...g.getStyles("item",{className:r,classNames:t,styles:a,style:s,variant:g.variant}),...f}))});Hl.displayName="@mantine/core/AccordionItem",Hl.classes=Oi;const rS={},Fl=ke((o,e)=>{const{classNames:t,className:r,style:s,styles:a,vars:c,children:u,...d}=le("AccordionPanel",rS,o),{value:f}=ip(),g=Ll();return y.createElement(ag,{ref:e,...g.getStyles("panel",{className:r,classNames:t,style:s,styles:a}),...d,in:g.isItemActive(f),transitionDuration:g.transitionDuration??200,role:"region",id:g.getRegionId(f),"aria-labelledby":g.getControlId(f)},y.createElement("div",{...g.getStyles("content",{classNames:t,styles:a})},u))});Fl.displayName="@mantine/core/AccordionPanel",Fl.classes=Oi;const oS={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:y.createElement(Dl,null)},iS=(o,{transitionDuration:e,chevronSize:t,radius:r})=>({root:{"--accordion-transition-duration":e===void 0?void 0:`${e}ms`,"--accordion-chevron-size":t===void 0?void 0:He(t),"--accordion-radius":r===void 0?void 0:Mo(r)}});function At(o){const e=le("Accordion",oS,o),{classNames:t,className:r,style:s,styles:a,unstyled:c,vars:u,children:d,multiple:f,value:g,defaultValue:p,onChange:v,id:E,loop:A,transitionDuration:b,disableChevronRotation:_,chevronPosition:N,chevronSize:R,order:P,chevron:x,variant:L,radius:H,...W}=e,B=no(E),[Q,re]=ro({value:g,defaultValue:p,finalValue:f?[]:null,onChange:v}),pe=ne=>Array.isArray(Q)?Q.includes(ne):ne===Q,se=ne=>{const me=Array.isArray(Q)?Q.includes(ne)?Q.filter(Z=>Z!==ne):[...Q,ne]:ne===Q?null:ne;re(me)},de=rt({name:"Accordion",classes:Oi,props:e,className:r,style:s,classNames:t,styles:a,unstyled:c,vars:u,varsResolver:iS});return y.createElement(Zb,{value:{isItemActive:pe,onChange:se,getControlId:Bf(`${B}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:Bf(`${B}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:b,disableChevronRotation:_,chevronPosition:N,order:P,chevron:x,loop:A,getStyles:de,variant:L,unstyled:c}},y.createElement(Ce,{...de("root"),id:B,...W,variant:L,"data-accordion":!0},d))}const sS=o=>o;At.extend=sS,At.classes=Oi,At.displayName="@mantine/core/Accordion",At.Item=Hl,At.Panel=Fl,At.Control=Ul,At.Chevron=Dl;var sp={root:"m-b6d8b162"};function aS(o){if(o==="start")return"start";if(o==="end"||o)return"end"}const cS={inherit:!1},lS=(o,{variant:e,lineClamp:t,gradient:r,size:s,color:a})=>({root:{"--text-fz":un(s),"--text-lh":ME(s),"--text-gradient":e==="gradient"?hT(r,o):void 0,"--text-line-clamp":typeof t=="number"?t.toString():void 0,"--text-color":a?Lo(a,o):void 0}}),Bl=Uo((o,e)=>{const t=le("Text",cS,o),{lineClamp:r,truncate:s,inline:a,inherit:c,gradient:u,span:d,__staticSelector:f,vars:g,className:p,style:v,classNames:E,styles:A,unstyled:b,variant:_,mod:N,size:R,...P}=t,x=rt({name:["Text",f],props:t,classes:sp,className:p,style:v,classNames:E,styles:A,unstyled:b,vars:g,varsResolver:lS});return y.createElement(Ce,{...x("root",{focusable:!0}),ref:e,component:d?"span":"p",variant:_,mod:[{"data-truncate":aS(s),"data-line-clamp":typeof r=="number","data-inline":a,"data-inherit":c},N],size:R,...P})});Bl.classes=sp,Bl.displayName="@mantine/core/Text";function ap(o){return typeof o=="string"?{value:o,label:o}:"value"in o&&!("label"in o)?{value:o.value,label:o.value,disabled:o.disabled}:typeof o=="number"?{value:o.toString(),label:o.toString()}:"group"in o?{group:o.group,items:o.items.map(e=>ap(e))}:o}function cp(o){return o?o.map(e=>ap(e)):[]}function Kl(o){return o.reduce((e,t)=>"group"in t?{...e,...Kl(t.items)}:(e[t.value]=t,e),{})}var Xt={dropdown:"m-88b62a41",options:"m-b2821a6e",option:"m-92253aa5",search:"m-985517d8",empty:"m-2530cd1d",header:"m-858f94bd",footer:"m-82b967cb",group:"m-254f3e4f",groupLabel:"m-2bb2e9e5",chevron:"m-2943220b",optionsDropdownOption:"m-390b5f4",optionsDropdownCheckIcon:"m-8ee53fc2"};const uS={error:null},dS=(o,{size:e})=>({chevron:{"--combobox-chevron-size":Rt(e,"combobox-chevron-size")}}),$l=ke((o,e)=>{const t=le("ComboboxChevron",uS,o),{size:r,error:s,style:a,className:c,classNames:u,styles:d,unstyled:f,vars:g,mod:p,...v}=t,E=rt({name:"ComboboxChevron",classes:Xt,props:t,style:a,className:c,classNames:u,styles:d,unstyled:f,vars:g,varsResolver:dS,rootSelector:"chevron"});return y.createElement(Ce,{component:"svg",...v,...E("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:s},p],ref:e},y.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))});$l.classes=Xt,$l.displayName="@mantine/core/ComboboxChevron";const[hS,_n]=xo("Combobox component was not found in tree"),lp=y.forwardRef(({size:o,onMouseDown:e,onClick:t,onClear:r,...s},a)=>y.createElement(Nl,{ref:a,size:o||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...s,onMouseDown:c=>{c.preventDefault(),e==null||e(c)},onClick:c=>{r(),t==null||t(c)}}));lp.displayName="@mantine/core/ComboboxClearButton";const fS={},Gl=ke((o,e)=>{const{classNames:t,styles:r,className:s,style:a,hidden:c,...u}=le("ComboboxDropdown",fS,o),d=_n();return y.createElement(Lr.Dropdown,{...u,ref:e,role:"presentation","data-hidden":c||void 0,...d.getStyles("dropdown",{className:s,style:a,classNames:t,styles:r})})});Gl.classes=Xt,Gl.displayName="@mantine/core/ComboboxDropdown";const gS={refProp:"ref"},up=ke((o,e)=>{const{children:t,refProp:r}=le("ComboboxDropdownTarget",gS,o);if(_n(),!wi(t))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return y.createElement(Lr.Target,{ref:e,refProp:r},t)});up.displayName="@mantine/core/ComboboxDropdownTarget";const pS={},zl=ke((o,e)=>{const{classNames:t,className:r,style:s,styles:a,vars:c,...u}=le("ComboboxEmpty",pS,o),d=_n();return y.createElement(Ce,{ref:e,...d.getStyles("empty",{className:r,classNames:t,styles:a,style:s}),...u})});zl.classes=Xt,zl.displayName="@mantine/core/ComboboxEmpty";function ql({onKeyDown:o,withKeyboardNavigation:e,withAriaAttributes:t,withExpandedAttribute:r,targetType:s}){const a=_n(),[c,u]=y.useState(null),d=g=>{if(o==null||o(g),!a.readOnly&&e){if(g.nativeEvent.code==="ArrowDown"&&(g.preventDefault(),a.store.dropdownOpened?u(a.store.selectNextOption()):(a.store.openDropdown("keyboard"),u(a.store.selectActiveOption()))),g.nativeEvent.code==="ArrowUp"&&(g.preventDefault(),a.store.dropdownOpened?u(a.store.selectPreviousOption()):(a.store.openDropdown("keyboard"),u(a.store.selectActiveOption()))),g.nativeEvent.code==="Enter"||g.nativeEvent.code==="NumpadEnter"){const p=a.store.getSelectedOptionIndex();a.store.dropdownOpened&&p!==-1?(g.preventDefault(),a.store.clickSelectedOption()):s==="button"&&(g.preventDefault(),a.store.openDropdown("keyboard"))}g.nativeEvent.code==="Escape"&&a.store.closeDropdown("keyboard"),g.nativeEvent.code==="Space"&&s==="button"&&(g.preventDefault(),a.store.toggleDropdown("keyboard"))}};return{...t?{"aria-haspopup":"listbox","aria-expanded":r&&!!(a.store.listId&&a.store.dropdownOpened)||void 0,"aria-controls":a.store.listId,"aria-activedescendant":a.store.dropdownOpened&&c||void 0,autoComplete:"off","data-expanded":a.store.dropdownOpened?!0:void 0}:{},onKeyDown:d}}const mS={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1},dp=ke((o,e)=>{const{children:t,refProp:r,withKeyboardNavigation:s,withAriaAttributes:a,withExpandedAttribute:c,targetType:u,...d}=le("ComboboxEventsTarget",mS,o);if(!wi(t))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=_n(),g=ql({targetType:u,withAriaAttributes:a,withKeyboardNavigation:s,withExpandedAttribute:c,onKeyDown:t.props.onKeyDown});return y.cloneElement(t,{...g,...d,[r]:Tn(e,f.store.targetRef,t==null?void 0:t.ref)})});dp.displayName="@mantine/core/ComboboxEventsTarget";const yS={},Wl=ke((o,e)=>{const{classNames:t,className:r,style:s,styles:a,vars:c,...u}=le("ComboboxFooter",yS,o),d=_n();return y.createElement(Ce,{ref:e,...d.getStyles("footer",{className:r,classNames:t,style:s,styles:a}),...u})});Wl.classes=Xt,Wl.displayName="@mantine/core/ComboboxFooter";const CS={},Vl=ke((o,e)=>{const{classNames:t,className:r,style:s,styles:a,vars:c,children:u,label:d,...f}=le("ComboboxGroup",CS,o),g=_n();return y.createElement(Ce,{ref:e,...g.getStyles("group",{className:r,classNames:t,style:s,styles:a}),...f},d&&y.createElement("div",{...g.getStyles("groupLabel",{classNames:t,styles:a})},d),u)});Vl.classes=Xt,Vl.displayName="@mantine/core/ComboboxGroup";const vS={},Yl=ke((o,e)=>{const{classNames:t,className:r,style:s,styles:a,vars:c,...u}=le("ComboboxHeader",vS,o),d=_n();return y.createElement(Ce,{ref:e,...d.getStyles("header",{className:r,classNames:t,style:s,styles:a}),...u})});Yl.classes=Xt,Yl.displayName="@mantine/core/ComboboxHeader";const wS={},jl=ke((o,e)=>{const t=le("ComboboxOption",wS,o),{classNames:r,className:s,style:a,styles:c,vars:u,onClick:d,id:f,active:g,onMouseDown:p,onMouseOver:v,disabled:E,selected:A,mod:b,..._}=t,N=_n(),R=y.useId(),P=f||R;return y.createElement(Ce,{...N.getStyles("option",{className:s,classNames:r,styles:c,style:a}),..._,ref:e,id:P,mod:["combobox-option",{"combobox-active":g,"combobox-disabled":E,"combobox-selected":A},b],role:"option",onClick:x=>{var L;E?x.preventDefault():((L=N.onOptionSubmit)==null||L.call(N,t.value,t),d==null||d(x))},onMouseDown:x=>{x.preventDefault(),p==null||p(x)},onMouseOver:x=>{N.resetSelectionOnOptionHover&&N.store.resetSelectedOption(),v==null||v(x)}})});jl.classes=Xt,jl.displayName="@mantine/core/ComboboxOption";const ES={},Ql=ke((o,e)=>{const t=le("ComboboxOptions",ES,o),{classNames:r,className:s,style:a,styles:c,id:u,onMouseDown:d,labelledBy:f,...g}=t,p=_n(),v=no(u);return y.useEffect(()=>{p.store.setListId(v)},[v]),y.createElement(Ce,{ref:e,...p.getStyles("options",{className:s,style:a,classNames:r,styles:c}),...g,id:v,role:"listbox","aria-labelledby":f,onMouseDown:E=>{E.preventDefault(),d==null||d(E)}})});Ql.classes=Xt,Ql.displayName="@mantine/core/ComboboxOptions";const TS={withAriaAttributes:!0,withKeyboardNavigation:!0},Jl=ke((o,e)=>{const t=le("ComboboxSearch",TS,o),{classNames:r,styles:s,unstyled:a,vars:c,withAriaAttributes:u,onKeyDown:d,withKeyboardNavigation:f,size:g,...p}=t,v=_n(),E=v.getStyles("search"),A=ql({targetType:"input",withAriaAttributes:u,withKeyboardNavigation:f,withExpandedAttribute:!1,onKeyDown:d});return y.createElement(Ut,{ref:Tn(e,v.store.searchRef),classNames:[{input:E.className},r],styles:[{input:E.style},s],size:g||v.size,...A,...p,__staticSelector:"Combobox"})});Jl.classes=Xt,Jl.displayName="@mantine/core/ComboboxSearch";const AS={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1},hp=ke((o,e)=>{const{children:t,refProp:r,withKeyboardNavigation:s,withAriaAttributes:a,withExpandedAttribute:c,targetType:u,...d}=le("ComboboxTarget",AS,o);if(!wi(t))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=_n(),g=ql({targetType:u,withAriaAttributes:a,withKeyboardNavigation:s,withExpandedAttribute:c,onKeyDown:t.props.onKeyDown}),p=y.cloneElement(t,{...g,...d});return y.createElement(Lr.Target,{ref:Tn(e,f.store.targetRef)},p)});hp.displayName="@mantine/core/ComboboxTarget";function bS(o,e,t){for(let r=o-1;r>=0;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(t){for(let r=e.length-1;r>-1;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return o}function SS(o,e,t){for(let r=o+1;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(t){for(let r=0;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return o}function _S(o){for(let e=0;e<o.length;e+=1)if(!o[e].hasAttribute("data-combobox-disabled"))return e;return-1}function Xl({defaultOpened:o,opened:e,onOpenedChange:t,onDropdownClose:r,onDropdownOpen:s,loop:a=!0,scrollBehavior:c="instant"}={}){const[u,d]=ro({value:e,defaultValue:o,finalValue:!1,onChange:t}),f=y.useRef(null),g=y.useRef(-1),p=y.useRef(null),v=y.useRef(null),E=y.useRef(-1),A=y.useRef(-1),b=y.useRef(-1),_=y.useCallback((Z="unknown")=>{u||(d(!0),s==null||s(Z))},[d,s,u]),N=y.useCallback((Z="unknown")=>{u&&(d(!1),r==null||r(Z))},[d,r,u]),R=y.useCallback((Z="unknown")=>{u?N(Z):_(Z)},[N,_,u]),P=y.useCallback(()=>{const Z=document.querySelector(`#${f.current} [data-combobox-selected]`);Z==null||Z.removeAttribute("data-combobox-selected"),Z==null||Z.removeAttribute("aria-selected")},[]),x=y.useCallback(Z=>{const J=document.getElementById(f.current),ae=J==null?void 0:J.querySelectorAll("[data-combobox-option]");if(!ae)return null;const ce=Z>=ae.length?0:Z<0?ae.length-1:Z;return g.current=ce,ae!=null&&ae[ce]&&!ae[ce].hasAttribute("data-combobox-disabled")?(P(),ae[ce].setAttribute("data-combobox-selected","true"),ae[ce].setAttribute("aria-selected","true"),ae[ce].scrollIntoView({block:"nearest",behavior:c}),ae[ce].id):null},[c,P]),L=y.useCallback(()=>{const Z=document.querySelector(`#${f.current} [data-combobox-active]`);if(Z){const J=document.querySelectorAll(`#${f.current} [data-combobox-option]`),ae=Array.from(J).findIndex(ce=>ce===Z);return x(ae)}return x(0)},[x]),H=y.useCallback(()=>x(SS(g.current,document.querySelectorAll(`#${f.current} [data-combobox-option]`),a)),[x,a]),W=y.useCallback(()=>x(bS(g.current,document.querySelectorAll(`#${f.current} [data-combobox-option]`),a)),[x,a]),B=y.useCallback(()=>x(_S(document.querySelectorAll(`#${f.current} [data-combobox-option]`))),[x]),Q=y.useCallback((Z="selected",J)=>{b.current=window.setTimeout(()=>{var Ne;const ae=document.querySelectorAll(`#${f.current} [data-combobox-option]`),ce=Array.from(ae).findIndex(xe=>xe.hasAttribute(`data-combobox-${Z}`));g.current=ce,J!=null&&J.scrollIntoView&&((Ne=ae[ce])==null||Ne.scrollIntoView({block:"nearest",behavior:c}))},0)},[]),re=y.useCallback(()=>{g.current=-1,P()},[P]),pe=y.useCallback(()=>{const Z=document.querySelectorAll(`#${f.current} [data-combobox-option]`),J=Z==null?void 0:Z[g.current];J==null||J.click()},[]),se=y.useCallback(Z=>{f.current=Z},[]),de=y.useCallback(()=>{E.current=window.setTimeout(()=>p.current.focus(),0)},[]),ne=y.useCallback(()=>{A.current=window.setTimeout(()=>v.current.focus(),0)},[]),me=y.useCallback(()=>g.current,[]);return y.useEffect(()=>()=>{window.clearTimeout(E.current),window.clearTimeout(A.current),window.clearTimeout(b.current)},[]),{dropdownOpened:u,openDropdown:_,closeDropdown:N,toggleDropdown:R,selectedOptionIndex:g.current,getSelectedOptionIndex:me,selectOption:x,selectFirstOption:B,selectActiveOption:L,selectNextOption:H,selectPreviousOption:W,resetSelectedOption:re,updateSelectedOptionIndex:Q,listId:f.current,setListId:se,clickSelectedOption:pe,searchRef:p,focusSearchInput:de,targetRef:v,focusTarget:ne}}const IS={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},RS=(o,{size:e,dropdownPadding:t})=>({options:{"--combobox-option-fz":un(e),"--combobox-option-padding":Rt(e,"combobox-option-padding")},dropdown:{"--combobox-padding":t===void 0?void 0:He(t),"--combobox-option-fz":un(e),"--combobox-option-padding":Rt(e,"combobox-option-padding")}});function Ge(o){const e=le("Combobox",IS,o),{classNames:t,styles:r,unstyled:s,children:a,store:c,vars:u,onOptionSubmit:d,onClose:f,size:g,dropdownPadding:p,resetSelectionOnOptionHover:v,__staticSelector:E,readOnly:A,...b}=e,_=Xl(),N=c||_,R=rt({name:E||"Combobox",classes:Xt,props:e,classNames:t,styles:r,unstyled:s,vars:u,varsResolver:RS}),P=()=>{f==null||f(),N.closeDropdown()};return y.createElement(hS,{value:{getStyles:R,store:N,onOptionSubmit:d,size:g,resetSelectionOnOptionHover:v,readOnly:A}},y.createElement(Lr,{opened:N.dropdownOpened,...b,onClose:P,withRoles:!1,unstyled:s},a))}const kS=o=>o;Ge.extend=kS,Ge.classes=Xt,Ge.displayName="@mantine/core/Combobox",Ge.Target=hp,Ge.Dropdown=Gl,Ge.Options=Ql,Ge.Option=jl,Ge.Search=Jl,Ge.Empty=zl,Ge.Chevron=$l,Ge.Footer=Wl,Ge.Header=Yl,Ge.EventsTarget=dp,Ge.DropdownTarget=up,Ge.Group=Vl,Ge.ClearButton=lp;var fp={root:"m-5f75b09e",body:"m-5f6e695e",labelWrapper:"m-d3ea56bb",label:"m-8ee546b8",description:"m-328f68c0",error:"m-8e8a99cc"};const PS=fp,gp=y.forwardRef(({__staticSelector:o,__stylesApiProps:e,className:t,classNames:r,styles:s,unstyled:a,children:c,label:u,description:d,id:f,disabled:g,error:p,size:v,labelPosition:E="left",variant:A,style:b,vars:_,mod:N,...R},P)=>{const x=rt({name:o,props:e,className:t,style:b,classes:fp,classNames:r,styles:s,unstyled:a});return y.createElement(Ce,{...x("root"),ref:P,__vars:{"--label-fz":un(v),"--label-lh":Rt(v,"label-lh")},mod:[{"label-position":E},N],variant:A,size:v,...R},y.createElement("div",{...x("body")},c,y.createElement("div",{...x("labelWrapper"),"data-disabled":g||void 0},u&&y.createElement("label",{...x("label"),"data-disabled":g||void 0,htmlFor:f},u),d&&y.createElement(Ut.Description,{size:v,__inheritStyles:!1,...x("description")},d),p&&p!=="boolean"&&y.createElement(Ut.Error,{size:v,__inheritStyles:!1,...x("error")},p))))});gp.displayName="@mantine/core/InlineInput";const pp=y.createContext(null),OS=pp.Provider,NS=()=>y.useContext(pp);function xS({children:o,role:e}){const t=Pi();return t?y.createElement("div",{role:e,"aria-labelledby":t.labelId,"aria-describedby":t.describedBy},o):y.createElement(y.Fragment,null,o)}const MS={},Zl=ke((o,e)=>{const{value:t,defaultValue:r,onChange:s,size:a,wrapperProps:c,children:u,readOnly:d,...f}=le("CheckboxGroup",MS,o),[g,p]=ro({value:t,defaultValue:r,finalValue:[],onChange:s}),v=E=>{const A=E.currentTarget.value;!d&&p(g.includes(A)?g.filter(b=>b!==A):[...g,A])};return y.createElement(OS,{value:{value:g,onChange:v,size:a}},y.createElement(Ut.Wrapper,{size:a,ref:e,...c,...f,labelElement:"div",__staticSelector:"CheckboxGroup"},y.createElement(xS,{role:"group"},u)))});Zl.classes=Ut.Wrapper.classes,Zl.displayName="@mantine/core/CheckboxGroup";function mp({size:o,style:e,...t}){const r=o!==void 0?{width:He(o),height:He(o),...e}:e;return y.createElement("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...t},y.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function LS({indeterminate:o,...e}){return o?y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...e},y.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):y.createElement(mp,{...e})}var yp={root:"m-bf2d988c",inner:"m-26062bec",input:"m-26063560",icon:"m-bf295423","input--outline":"m-215c4542"};const DS={labelPosition:"right",icon:LS},US=(o,{radius:e,color:t,size:r,iconColor:s,variant:a,autoContrast:c})=>{const u=Ti({color:t||o.primaryColor,theme:o}),d=u.isThemeColor&&u.shade===void 0?`var(--mantine-color-${u.color}-outline)`:u.color;return{root:{"--checkbox-size":Rt(r,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:Mo(e),"--checkbox-color":a==="outline"?d:Lo(t,o),"--checkbox-icon-color":s?Lo(s,o):kT(c,o)?gT({color:t,theme:o}):void 0}}},Xs=ke((o,e)=>{const t=le("Checkbox",DS,o),{classNames:r,className:s,style:a,styles:c,unstyled:u,vars:d,color:f,label:g,id:p,size:v,radius:E,wrapperProps:A,children:b,checked:_,labelPosition:N,description:R,error:P,disabled:x,variant:L,indeterminate:H,icon:W,rootRef:B,iconColor:Q,onChange:re,autoContrast:pe,mod:se,...de}=t,ne=NS(),me=v||(ne==null?void 0:ne.size),Z=W,J=rt({name:"Checkbox",props:t,classes:yp,className:s,style:a,classNames:r,styles:c,unstyled:u,vars:d,varsResolver:US}),{styleProps:ae,rest:ce}=Us(de),Ne=no(p),xe=ne?{checked:ne.value.includes(ce.value),onChange:ht=>{ne.onChange(ht),re==null||re(ht)}}:{};return y.createElement(gp,{...J("root"),__staticSelector:"Checkbox",__stylesApiProps:t,id:Ne,size:me,labelPosition:N,label:g,description:R,error:P,disabled:x,classNames:r,styles:c,unstyled:u,"data-checked":xe.checked||_||void 0,variant:L,ref:B,mod:se,...ae,...A},y.createElement(Ce,{...J("inner"),mod:{"data-label-position":N}},y.createElement(Ce,{component:"input",id:Ne,ref:e,checked:_,disabled:x,mod:{error:!!P,indeterminate:H},...J("input",{focusable:!0,variant:L}),onChange:re,...ce,...xe,type:"checkbox"}),y.createElement(Z,{indeterminate:H,...J("icon")})))});Xs.classes={...yp,...PS},Xs.displayName="@mantine/core/Checkbox",Xs.Group=Zl;function Ni(o){return"group"in o}function Cp({options:o,search:e,limit:t}){const r=e.trim().toLowerCase(),s=[];for(let a=0;a<o.length;a+=1){const c=o[a];if(s.length===t)return s;Ni(c)&&s.push({group:c.group,items:Cp({options:c.items,search:e,limit:t-s.length})}),Ni(c)||c.label.toLowerCase().includes(r)&&s.push(c)}return s}function HS(o){if(o.length===0)return!0;for(const e of o)if(!("group"in e)||e.items.length>0)return!1;return!0}function vp(o,e=new Set){if(Array.isArray(o))for(const t of o)if(Ni(t))vp(t.items,e);else{if(typeof t.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof t.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof t.value}`);if(e.has(t.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${t.value}" was provided more than once`);e.add(t.value)}}function FS(o,e){return Array.isArray(o)?o.includes(e):o===e}function wp({data:o,withCheckIcon:e,value:t,checkIconPosition:r,unstyled:s,renderOption:a}){if(!Ni(o)){const u=FS(t,o.value),d=e&&u&&y.createElement(mp,{className:Xt.optionsDropdownCheckIcon}),f=y.createElement(y.Fragment,null,r==="left"&&d,y.createElement("span",null,o.label),r==="right"&&d);return y.createElement(Ge.Option,{value:o.value,disabled:o.disabled,className:gr({[Xt.optionsDropdownOption]:!s}),"data-reverse":r==="right"||void 0,"data-checked":u||void 0,"aria-selected":u,active:u},typeof a=="function"?a({option:o,checked:u}):f)}const c=o.items.map(u=>y.createElement(wp,{data:u,value:t,key:u.value,unstyled:s,withCheckIcon:e,checkIconPosition:r}));return y.createElement(Ge.Group,{label:o.group},c)}function Ep({data:o,hidden:e,hiddenWhenEmpty:t,filter:r,search:s,limit:a,maxDropdownHeight:c,withScrollArea:u=!0,filterOptions:d=!0,withCheckIcon:f=!1,value:g,checkIconPosition:p,nothingFoundMessage:v,unstyled:E,labelId:A,renderOption:b}){vp(o);const N=typeof s=="string"?(r||Cp)({options:o,search:d?s:"",limit:a??1/0}):o,R=HS(N),P=N.map(x=>y.createElement(wp,{data:x,key:Ni(x)?x.group:x.value,withCheckIcon:f,value:g,checkIconPosition:p,unstyled:E,renderOption:b}));return y.createElement(Ge.Dropdown,{hidden:e||t&&R},y.createElement(Ge.Options,{labelledBy:A},u?y.createElement(bi.Autosize,{mah:c??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y"},P):P,R&&v&&y.createElement(Ge.Empty,null,v)))}const BS={},eu=ke((o,e)=>{const t=le("Autocomplete",BS,o),{classNames:r,styles:s,unstyled:a,vars:c,dropdownOpened:u,defaultDropdownOpened:d,onDropdownClose:f,onDropdownOpen:g,onFocus:p,onBlur:v,onClick:E,onChange:A,data:b,value:_,defaultValue:N,selectFirstOptionOnChange:R,onOptionSubmit:P,comboboxProps:x,readOnly:L,disabled:H,filter:W,limit:B,withScrollArea:Q,maxDropdownHeight:re,size:pe,id:se,renderOption:de,...ne}=t,me=no(se),Z=cp(b),J=Kl(Z),[ae,ce]=ro({value:_,defaultValue:N,finalValue:"",onChange:A}),Ne=Xl({opened:u,defaultOpened:d,onDropdownOpen:g,onDropdownClose:()=>{f==null||f(),Ne.resetSelectedOption()}}),{resolvedClassNames:xe,resolvedStyles:ht}=Jf({props:t,styles:s,classNames:r});return y.useEffect(()=>{R&&Ne.selectFirstOption()},[R,ae]),y.createElement(Ge,{store:Ne,__staticSelector:"Autocomplete",classNames:xe,styles:ht,unstyled:a,readOnly:L,onOptionSubmit:Ze=>{P==null||P(Ze),ce(J[Ze].label),Ne.closeDropdown()},size:pe,...x},y.createElement(Ge.Target,null,y.createElement(Dr,{ref:e,...ne,size:pe,__staticSelector:"Autocomplete",disabled:H,readOnly:L,value:ae,onChange:Ze=>{ce(Ze.currentTarget.value),Ne.openDropdown(),R&&Ne.selectFirstOption()},onFocus:Ze=>{Ne.openDropdown(),p==null||p(Ze)},onBlur:Ze=>{Ne.closeDropdown(),v==null||v(Ze)},onClick:Ze=>{Ne.openDropdown(),E==null||E(Ze)},classNames:xe,styles:ht,unstyled:a,id:me})),y.createElement(Ep,{data:Z,hidden:L||H,filter:W,search:ae,limit:B,hiddenWhenEmpty:!0,withScrollArea:Q,maxDropdownHeight:re,unstyled:a,labelId:`${me}-label`,renderOption:de}))});eu.classes={...Dr.classes,...Ge.classes},eu.displayName="@mantine/core/Autocomplete";var Zs={root:"m-77c9d27d",inner:"m-80f1301b",loader:"m-a25b86ee",label:"m-811560b9",section:"m-a74036a",group:"m-80d6d844"};const Tp={orientation:"horizontal"},KS=(o,{borderWidth:e})=>({group:{"--button-border-width":He(e)}}),tu=ke((o,e)=>{const t=le("ButtonGroup",Tp,o),{className:r,style:s,classNames:a,styles:c,unstyled:u,orientation:d,vars:f,borderWidth:g,variant:p,mod:v,...E}=le("ButtonGroup",Tp,o),A=rt({name:"ButtonGroup",props:t,classes:Zs,className:r,style:s,classNames:a,styles:c,unstyled:u,vars:f,varsResolver:KS,rootSelector:"group"});return y.createElement(Ce,{...A("group"),ref:e,variant:p,mod:[{"data-orientation":d},v],role:"group",...E})});tu.classes=Zs,tu.displayName="@mantine/core/ButtonGroup";const $S={},GS=(o,{radius:e,color:t,gradient:r,variant:s,size:a,justify:c,autoContrast:u})=>{const d=o.variantColorResolver({color:t||o.primaryColor,theme:o,gradient:r,variant:s||"filled",autoContrast:u});return{root:{"--button-justify":c,"--button-height":Rt(a,"button-height"),"--button-padding-x":Rt(a,"button-padding-x"),"--button-fz":a!=null&&a.includes("compact")?un(a.replace("compact-","")):un(a),"--button-radius":e===void 0?void 0:Mo(e),"--button-bg":t||s?d.background:void 0,"--button-hover":t||s?d.hover:void 0,"--button-color":d.color,"--button-bd":t||s?d.border:void 0,"--button-hover-color":t||s?d.hoverColor:void 0}}},xi=Uo((o,e)=>{const t=le("Button",$S,o),{style:r,vars:s,className:a,color:c,disabled:u,children:d,leftSection:f,rightSection:g,fullWidth:p,variant:v,radius:E,loading:A,loaderProps:b,gradient:_,classNames:N,styles:R,unstyled:P,"data-disabled":x,autoContrast:L,mod:H,...W}=t,B=rt({name:"Button",props:t,classes:Zs,className:a,style:r,classNames:N,styles:R,unstyled:P,vars:s,varsResolver:GS}),Q=!!f,re=!!g;return y.createElement(Si,{ref:e,...B("root",{active:!u&&!A&&!x}),unstyled:P,variant:v,disabled:u||A,mod:[{disabled:u||x,loading:A,block:p,"with-left-section":Q,"with-right-section":re},H],...W},y.createElement(Ce,{component:"span",...B("loader"),"aria-hidden":!0},y.createElement(Ys,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...b})),y.createElement("span",{...B("inner")},f&&y.createElement(Ce,{component:"span",...B("section"),mod:{position:"left"}},f),y.createElement(Ce,{component:"span",mod:{loading:A},...B("label")},d),g&&y.createElement(Ce,{component:"span",...B("section"),mod:{position:"right"}},g)))});xi.classes=Zs,xi.displayName="@mantine/core/Button",xi.Group=tu;var Ap={root:"m-7485cace"};const zS={},qS=(o,{size:e,fluid:t})=>({root:{"--container-size":t?void 0:Rt(e,"container-size")}}),nu=ke((o,e)=>{const t=le("Container",zS,o),{classNames:r,className:s,style:a,styles:c,unstyled:u,vars:d,fluid:f,mod:g,...p}=t,v=rt({name:"Container",classes:Ap,props:t,className:s,style:a,classNames:r,styles:c,unstyled:u,vars:d,varsResolver:qS});return y.createElement(Ce,{ref:e,mod:[{fluid:f},g],...v("root"),...p})});nu.classes=Ap,nu.displayName="@mantine/core/Container";const WS={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},ea=ke((o,e)=>{const t=le("Select",WS,o),{classNames:r,styles:s,unstyled:a,vars:c,dropdownOpened:u,defaultDropdownOpened:d,onDropdownClose:f,onDropdownOpen:g,onFocus:p,onBlur:v,onClick:E,onChange:A,data:b,value:_,defaultValue:N,selectFirstOptionOnChange:R,onOptionSubmit:P,comboboxProps:x,readOnly:L,disabled:H,filter:W,limit:B,withScrollArea:Q,maxDropdownHeight:re,size:pe,searchable:se,rightSection:de,checkIconPosition:ne,withCheckIcon:me,nothingFoundMessage:Z,name:J,form:ae,searchValue:ce,defaultSearchValue:Ne,onSearchChange:xe,allowDeselect:ht,error:Ze,rightSectionPointerEvents:qn,id:Ht,clearable:Ft,clearButtonProps:Zt,hiddenInputProps:bt,renderOption:kt,onClear:en,...In}=t,zt=y.useMemo(()=>cp(b),[b]),qt=y.useMemo(()=>Kl(zt),[zt]),De=no(Ht),[tt,hn]=ro({value:_,defaultValue:N,finalValue:null,onChange:A}),je=typeof tt=="string"?qt[tt]:void 0,[fn,Bt]=ro({value:ce,defaultValue:Ne,finalValue:je?je.label:"",onChange:xe}),st=Xl({opened:u,defaultOpened:d,onDropdownOpen:()=>{g==null||g(),st.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{f==null||f(),st.resetSelectedOption()}}),{resolvedClassNames:mt,resolvedStyles:Wt}=Jf({props:t,styles:s,classNames:r});y.useEffect(()=>{R&&st.selectFirstOption()},[R,tt]),y.useEffect(()=>{_===null&&Bt(""),typeof _=="string"&&je&&Bt(je.label)},[_,je]);const Vt=Ft&&!!tt&&!H&&!L&&y.createElement(Ge.ClearButton,{size:pe,...Zt,onClear:()=>{hn(null,null),Bt(""),en==null||en()}});return y.createElement(y.Fragment,null,y.createElement(Ge,{store:st,__staticSelector:"Select",classNames:mt,styles:Wt,unstyled:a,readOnly:L,onOptionSubmit:Kt=>{P==null||P(Kt);const St=ht&&qt[Kt].value===tt?null:qt[Kt],co=St?St.value:null;hn(co,St),Bt(typeof co=="string"&&(St==null?void 0:St.label)||""),st.closeDropdown()},size:pe,...x},y.createElement(Ge.Target,{targetType:se?"input":"button"},y.createElement(Dr,{id:De,ref:e,rightSection:de||Vt||y.createElement(Ge.Chevron,{size:pe,error:Ze,unstyled:a}),rightSectionPointerEvents:qn||(Vt?"all":"none"),...In,size:pe,__staticSelector:"Select",disabled:H,readOnly:L||!se,value:fn,onChange:Kt=>{Bt(Kt.currentTarget.value),st.openDropdown(),R&&st.selectFirstOption()},onFocus:Kt=>{se&&st.openDropdown(),p==null||p(Kt)},onBlur:Kt=>{var St;se&&st.closeDropdown(),Bt(tt!=null&&((St=qt[tt])==null?void 0:St.label)||""),v==null||v(Kt)},onClick:Kt=>{se?st.openDropdown():st.toggleDropdown(),E==null||E(Kt)},classNames:mt,styles:Wt,unstyled:a,pointer:!se,error:Ze})),y.createElement(Ep,{data:zt,hidden:L||H,filter:W,search:fn,limit:B,hiddenWhenEmpty:!se||!Z,withScrollArea:Q,maxDropdownHeight:re,filterOptions:se&&(je==null?void 0:je.label)!==fn,value:tt,checkIconPosition:ne,withCheckIcon:me,nothingFoundMessage:Z,unstyled:a,labelId:`${De}-label`,renderOption:kt})),y.createElement("input",{type:"hidden",name:J,value:tt||"",form:ae,disabled:H,...bt}))});ea.classes={...Dr.classes,...Ge.classes},ea.displayName="@mantine/core/Select";const VS={},ao=ke((o,e)=>{const t=le("TextInput",VS,o);return y.createElement(Dr,{component:"input",ref:e,...t,__staticSelector:"TextInput"})});ao.classes=Dr.classes,ao.displayName="@mantine/core/TextInput";const YS=["h1","h2","h3","h4","h5","h6"];function jS(o,e){const t=e!==void 0?e:`h${o}`;return YS.includes(t)?{fontSize:`var(--mantine-${t}-font-size)`,fontWeight:`var(--mantine-${t}-font-weight)`,lineHeight:`var(--mantine-${t}-line-height)`}:{fontSize:He(t),fontWeight:`var(--mantine-h${o}-font-weight)`,lineHeight:`var(--mantine-h${o}-line-height)`}}var bp={root:"m-8a5d1357"};const QS={order:1},JS=(o,{order:e,size:t,lineClamp:r,textWrap:s})=>{const a=jS(e,t);return{root:{"--title-fw":a.fontWeight,"--title-lh":a.lineHeight,"--title-fz":a.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":s}}},ta=ke((o,e)=>{const t=le("Title",QS,o),{classNames:r,className:s,style:a,styles:c,unstyled:u,order:d,vars:f,size:g,variant:p,lineClamp:v,textWrap:E,mod:A,...b}=t,_=rt({name:"Title",props:t,classes:bp,className:s,style:a,classNames:r,styles:c,unstyled:u,vars:f,varsResolver:JS});return[1,2,3,4,5,6].includes(d)?y.createElement(Ce,{..._("root"),component:`h${d}`,variant:p,ref:e,mod:[{order:d,"data-line-clamp":typeof v=="number"},A],size:g,...b}):null});ta.classes=bp,ta.displayName="@mantine/core/Title";const Sp=25,XS=(o,e,t,r,s)=>{const a={SearchText:r,DictionaryUri:e[0].value,Limit:Sp};o.api.searchInDictionaryV1List(a,t).then(c=>{var d;const u=c.data;if(u.count){const f=(d=u.dictionary)==null?void 0:d.classes;f&&s(f.map(g=>({value:g.uri,label:g.name})))}})},ZS=(o,e,t,r,s)=>{const a={SearchText:r,DictionaryUris:[e[0].value],Limit:Sp};o.api.classSearchV1List(a,t).then(c=>{c.data.classes&&s(c.data.classes.map(u=>({value:u.uri,label:u.name})))})};function e_({api:o,activeDomains:e,defaultValue:t,setActiveClassificationUri:r,accessToken:s}){const[a,c]=y.useState(t),[u,d]=y.useState([]),[f,g]=y.useState(""),[p]=BE(f,300),[v,E]=y.useState(!1),A=y.useRef(null),b={headers:{Accept:"text/plain"}};s!==""&&(b.headers={...b.headers,Authorization:"Bearer "+s});const _=x=>{e.length===1?XS(o,e,b,x,H=>d(H)):e.length>2?ZS(o,e,b,x,H=>d(H)):d([])},N=y.useCallback(x=>{g(x)},[]),R=y.useCallback(x=>{const L=u.find(H=>H.value===x);L&&(c(L),E(!1))},[u]),P=y.useCallback(x=>{x.key==="Enter"&&u[0]&&(g(u[0].label),R(u[0].value),A.current&&A.current.blur())},[u,R,A]);return y.useEffect(()=>{p!==""&&_(p)},[p]),y.useEffect(()=>{A.current&&A.current.focus()},[]),y.useEffect(()=>{t&&(g((t==null?void 0:t.label)||""),c(t),E(!1))},[t]),y.useEffect(()=>{a&&r(a.value)},[a]),Ee.jsx(eu,{data:u,placeholder:"bSDD search...",value:f,onChange:N,onOptionSubmit:R,onKeyDown:P,dropdownOpened:v,onDropdownOpen:()=>E(!0),ref:A,style:{width:"100%"}})}var na={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */na.exports,function(o,e){(function(){var t,r="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",f=500,g="__lodash_placeholder__",p=1,v=2,E=4,A=1,b=2,_=1,N=2,R=4,P=8,x=16,L=32,H=64,W=128,B=256,Q=512,re=30,pe="...",se=800,de=16,ne=1,me=2,Z=3,J=1/0,ae=9007199254740991,ce=17976931348623157e292,Ne=NaN,xe=4294967295,ht=xe-1,Ze=xe>>>1,qn=[["ary",W],["bind",_],["bindKey",N],["curry",P],["curryRight",x],["flip",Q],["partial",L],["partialRight",H],["rearg",B]],Ht="[object Arguments]",Ft="[object Array]",Zt="[object AsyncFunction]",bt="[object Boolean]",kt="[object Date]",en="[object DOMException]",In="[object Error]",zt="[object Function]",qt="[object GeneratorFunction]",De="[object Map]",tt="[object Number]",hn="[object Null]",je="[object Object]",fn="[object Promise]",Bt="[object Proxy]",st="[object RegExp]",mt="[object Set]",Wt="[object String]",Vt="[object Symbol]",Kt="[object Undefined]",St="[object WeakMap]",co="[object WeakSet]",Wn="[object ArrayBuffer]",Ur="[object DataView]",Go="[object Float32Array]",zo="[object Float64Array]",lo="[object Int8Array]",Mi="[object Int16Array]",Li="[object Int32Array]",Di="[object Uint8Array]",Ui="[object Uint8ClampedArray]",Hi="[object Uint16Array]",Fi="[object Uint32Array]",iu=/\b__p \+= '';/g,Bi=/\b(__p \+=) '' \+/g,ra=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yr=/&(?:amp|lt|gt|quot|#39);/g,qo=/[&<>"']/g,Ki=RegExp(yr.source),oa=RegExp(qo.source),su=/<%-([\s\S]+?)%>/g,ia=/<%([\s\S]+?)%>/g,sa=/<%=([\s\S]+?)%>/g,aa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ca=/^\w*$/,au=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$i=/[\\^$.*+?()[\]{}|]/g,la=RegExp($i.source),Gi=/^\s+/,cu=/\s/,lu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,uu=/\{\n\/\* \[wrapped with (.+)\] \*/,S=/,? & /,z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Y=/[()=,{}\[\]\/\s]/,ye=/\\(\\)?/g,Ue=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ke=/\w*$/,Pe=/^[-+]0x[0-9a-f]+$/i,_e=/^0b[01]+$/i,Pt=/^\[object .+?Constructor\]$/,ot=/^0o[0-7]+$/i,at=/^(?:0|[1-9]\d*)$/,tn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Vn=/($^)/,ua=/['\n\r\u2028\u2029\\]/g,nn="\\ud800-\\udfff",S_="\\u0300-\\u036f",__="\\ufe20-\\ufe2f",I_="\\u20d0-\\u20ff",Up=S_+__+I_,Hp="\\u2700-\\u27bf",Fp="a-z\\xdf-\\xf6\\xf8-\\xff",R_="\\xac\\xb1\\xd7\\xf7",k_="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",P_="\\u2000-\\u206f",O_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bp="A-Z\\xc0-\\xd6\\xd8-\\xde",Kp="\\ufe0e\\ufe0f",$p=R_+k_+P_+O_,du="[']",N_="["+nn+"]",Gp="["+$p+"]",da="["+Up+"]",zp="\\d+",x_="["+Hp+"]",qp="["+Fp+"]",Wp="[^"+nn+$p+zp+Hp+Fp+Bp+"]",hu="\\ud83c[\\udffb-\\udfff]",M_="(?:"+da+"|"+hu+")",Vp="[^"+nn+"]",fu="(?:\\ud83c[\\udde6-\\uddff]){2}",gu="[\\ud800-\\udbff][\\udc00-\\udfff]",Wo="["+Bp+"]",Yp="\\u200d",jp="(?:"+qp+"|"+Wp+")",L_="(?:"+Wo+"|"+Wp+")",Qp="(?:"+du+"(?:d|ll|m|re|s|t|ve))?",Jp="(?:"+du+"(?:D|LL|M|RE|S|T|VE))?",Xp=M_+"?",Zp="["+Kp+"]?",D_="(?:"+Yp+"(?:"+[Vp,fu,gu].join("|")+")"+Zp+Xp+")*",U_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",H_="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",em=Zp+Xp+D_,F_="(?:"+[x_,fu,gu].join("|")+")"+em,B_="(?:"+[Vp+da+"?",da,fu,gu,N_].join("|")+")",K_=RegExp(du,"g"),$_=RegExp(da,"g"),pu=RegExp(hu+"(?="+hu+")|"+B_+em,"g"),G_=RegExp([Wo+"?"+qp+"+"+Qp+"(?="+[Gp,Wo,"$"].join("|")+")",L_+"+"+Jp+"(?="+[Gp,Wo+jp,"$"].join("|")+")",Wo+"?"+jp+"+"+Qp,Wo+"+"+Jp,H_,U_,zp,F_].join("|"),"g"),z_=RegExp("["+Yp+nn+Up+Kp+"]"),q_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,W_=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],V_=-1,et={};et[Go]=et[zo]=et[lo]=et[Mi]=et[Li]=et[Di]=et[Ui]=et[Hi]=et[Fi]=!0,et[Ht]=et[Ft]=et[Wn]=et[bt]=et[Ur]=et[kt]=et[In]=et[zt]=et[De]=et[tt]=et[je]=et[st]=et[mt]=et[Wt]=et[St]=!1;var Qe={};Qe[Ht]=Qe[Ft]=Qe[Wn]=Qe[Ur]=Qe[bt]=Qe[kt]=Qe[Go]=Qe[zo]=Qe[lo]=Qe[Mi]=Qe[Li]=Qe[De]=Qe[tt]=Qe[je]=Qe[st]=Qe[mt]=Qe[Wt]=Qe[Vt]=Qe[Di]=Qe[Ui]=Qe[Hi]=Qe[Fi]=!0,Qe[In]=Qe[zt]=Qe[St]=!1;var Y_={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},j_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Q_={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},J_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},X_=parseFloat,Z_=parseInt,tm=typeof si=="object"&&si&&si.Object===Object&&si,eI=typeof self=="object"&&self&&self.Object===Object&&self,Ot=tm||eI||Function("return this")(),mu=e&&!e.nodeType&&e,uo=mu&&!0&&o&&!o.nodeType&&o,nm=uo&&uo.exports===mu,yu=nm&&tm.process,Rn=function(){try{var k=uo&&uo.require&&uo.require("util").types;return k||yu&&yu.binding&&yu.binding("util")}catch{}}(),rm=Rn&&Rn.isArrayBuffer,om=Rn&&Rn.isDate,im=Rn&&Rn.isMap,sm=Rn&&Rn.isRegExp,am=Rn&&Rn.isSet,cm=Rn&&Rn.isTypedArray;function gn(k,F,D){switch(D.length){case 0:return k.call(F);case 1:return k.call(F,D[0]);case 2:return k.call(F,D[0],D[1]);case 3:return k.call(F,D[0],D[1],D[2])}return k.apply(F,D)}function tI(k,F,D,te){for(var ve=-1,Be=k==null?0:k.length;++ve<Be;){var yt=k[ve];F(te,yt,D(yt),k)}return te}function kn(k,F){for(var D=-1,te=k==null?0:k.length;++D<te&&F(k[D],D,k)!==!1;);return k}function nI(k,F){for(var D=k==null?0:k.length;D--&&F(k[D],D,k)!==!1;);return k}function lm(k,F){for(var D=-1,te=k==null?0:k.length;++D<te;)if(!F(k[D],D,k))return!1;return!0}function Hr(k,F){for(var D=-1,te=k==null?0:k.length,ve=0,Be=[];++D<te;){var yt=k[D];F(yt,D,k)&&(Be[ve++]=yt)}return Be}function ha(k,F){var D=k==null?0:k.length;return!!D&&Vo(k,F,0)>-1}function Cu(k,F,D){for(var te=-1,ve=k==null?0:k.length;++te<ve;)if(D(F,k[te]))return!0;return!1}function nt(k,F){for(var D=-1,te=k==null?0:k.length,ve=Array(te);++D<te;)ve[D]=F(k[D],D,k);return ve}function Fr(k,F){for(var D=-1,te=F.length,ve=k.length;++D<te;)k[ve+D]=F[D];return k}function vu(k,F,D,te){var ve=-1,Be=k==null?0:k.length;for(te&&Be&&(D=k[++ve]);++ve<Be;)D=F(D,k[ve],ve,k);return D}function rI(k,F,D,te){var ve=k==null?0:k.length;for(te&&ve&&(D=k[--ve]);ve--;)D=F(D,k[ve],ve,k);return D}function wu(k,F){for(var D=-1,te=k==null?0:k.length;++D<te;)if(F(k[D],D,k))return!0;return!1}var oI=Eu("length");function iI(k){return k.split("")}function sI(k){return k.match(z)||[]}function um(k,F,D){var te;return D(k,function(ve,Be,yt){if(F(ve,Be,yt))return te=Be,!1}),te}function fa(k,F,D,te){for(var ve=k.length,Be=D+(te?1:-1);te?Be--:++Be<ve;)if(F(k[Be],Be,k))return Be;return-1}function Vo(k,F,D){return F===F?CI(k,F,D):fa(k,dm,D)}function aI(k,F,D,te){for(var ve=D-1,Be=k.length;++ve<Be;)if(te(k[ve],F))return ve;return-1}function dm(k){return k!==k}function hm(k,F){var D=k==null?0:k.length;return D?Au(k,F)/D:Ne}function Eu(k){return function(F){return F==null?t:F[k]}}function Tu(k){return function(F){return k==null?t:k[F]}}function fm(k,F,D,te,ve){return ve(k,function(Be,yt,Ye){D=te?(te=!1,Be):F(D,Be,yt,Ye)}),D}function cI(k,F){var D=k.length;for(k.sort(F);D--;)k[D]=k[D].value;return k}function Au(k,F){for(var D,te=-1,ve=k.length;++te<ve;){var Be=F(k[te]);Be!==t&&(D=D===t?Be:D+Be)}return D}function bu(k,F){for(var D=-1,te=Array(k);++D<k;)te[D]=F(D);return te}function lI(k,F){return nt(F,function(D){return[D,k[D]]})}function gm(k){return k&&k.slice(0,Cm(k)+1).replace(Gi,"")}function pn(k){return function(F){return k(F)}}function Su(k,F){return nt(F,function(D){return k[D]})}function zi(k,F){return k.has(F)}function pm(k,F){for(var D=-1,te=k.length;++D<te&&Vo(F,k[D],0)>-1;);return D}function mm(k,F){for(var D=k.length;D--&&Vo(F,k[D],0)>-1;);return D}function uI(k,F){for(var D=k.length,te=0;D--;)k[D]===F&&++te;return te}var dI=Tu(Y_),hI=Tu(j_);function fI(k){return"\\"+J_[k]}function gI(k,F){return k==null?t:k[F]}function Yo(k){return z_.test(k)}function pI(k){return q_.test(k)}function mI(k){for(var F,D=[];!(F=k.next()).done;)D.push(F.value);return D}function _u(k){var F=-1,D=Array(k.size);return k.forEach(function(te,ve){D[++F]=[ve,te]}),D}function ym(k,F){return function(D){return k(F(D))}}function Br(k,F){for(var D=-1,te=k.length,ve=0,Be=[];++D<te;){var yt=k[D];(yt===F||yt===g)&&(k[D]=g,Be[ve++]=D)}return Be}function ga(k){var F=-1,D=Array(k.size);return k.forEach(function(te){D[++F]=te}),D}function yI(k){var F=-1,D=Array(k.size);return k.forEach(function(te){D[++F]=[te,te]}),D}function CI(k,F,D){for(var te=D-1,ve=k.length;++te<ve;)if(k[te]===F)return te;return-1}function vI(k,F,D){for(var te=D+1;te--;)if(k[te]===F)return te;return te}function jo(k){return Yo(k)?EI(k):oI(k)}function Yn(k){return Yo(k)?TI(k):iI(k)}function Cm(k){for(var F=k.length;F--&&cu.test(k.charAt(F)););return F}var wI=Tu(Q_);function EI(k){for(var F=pu.lastIndex=0;pu.test(k);)++F;return F}function TI(k){return k.match(pu)||[]}function AI(k){return k.match(G_)||[]}var bI=function k(F){F=F==null?Ot:Qo.defaults(Ot.Object(),F,Qo.pick(Ot,W_));var D=F.Array,te=F.Date,ve=F.Error,Be=F.Function,yt=F.Math,Ye=F.Object,Iu=F.RegExp,SI=F.String,Pn=F.TypeError,pa=D.prototype,_I=Be.prototype,Jo=Ye.prototype,ma=F["__core-js_shared__"],ya=_I.toString,ze=Jo.hasOwnProperty,II=0,vm=function(){var n=/[^.]+$/.exec(ma&&ma.keys&&ma.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Ca=Jo.toString,RI=ya.call(Ye),kI=Ot._,PI=Iu("^"+ya.call(ze).replace($i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),va=nm?F.Buffer:t,Kr=F.Symbol,wa=F.Uint8Array,wm=va?va.allocUnsafe:t,Ea=ym(Ye.getPrototypeOf,Ye),Em=Ye.create,Tm=Jo.propertyIsEnumerable,Ta=pa.splice,Am=Kr?Kr.isConcatSpreadable:t,qi=Kr?Kr.iterator:t,ho=Kr?Kr.toStringTag:t,Aa=function(){try{var n=yo(Ye,"defineProperty");return n({},"",{}),n}catch{}}(),OI=F.clearTimeout!==Ot.clearTimeout&&F.clearTimeout,NI=te&&te.now!==Ot.Date.now&&te.now,xI=F.setTimeout!==Ot.setTimeout&&F.setTimeout,ba=yt.ceil,Sa=yt.floor,Ru=Ye.getOwnPropertySymbols,MI=va?va.isBuffer:t,bm=F.isFinite,LI=pa.join,DI=ym(Ye.keys,Ye),Ct=yt.max,$t=yt.min,UI=te.now,HI=F.parseInt,Sm=yt.random,FI=pa.reverse,ku=yo(F,"DataView"),Wi=yo(F,"Map"),Pu=yo(F,"Promise"),Xo=yo(F,"Set"),Vi=yo(F,"WeakMap"),Yi=yo(Ye,"create"),_a=Vi&&new Vi,Zo={},BI=Co(ku),KI=Co(Wi),$I=Co(Pu),GI=Co(Xo),zI=Co(Vi),Ia=Kr?Kr.prototype:t,ji=Ia?Ia.valueOf:t,_m=Ia?Ia.toString:t;function C(n){if(ct(n)&&!we(n)&&!(n instanceof Oe)){if(n instanceof On)return n;if(ze.call(n,"__wrapped__"))return Iy(n)}return new On(n)}var ei=function(){function n(){}return function(i){if(!it(i))return{};if(Em)return Em(i);n.prototype=i;var l=new n;return n.prototype=t,l}}();function Ra(){}function On(n,i){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=t}C.templateSettings={escape:su,evaluate:ia,interpolate:sa,variable:"",imports:{_:C}},C.prototype=Ra.prototype,C.prototype.constructor=C,On.prototype=ei(Ra.prototype),On.prototype.constructor=On;function Oe(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=xe,this.__views__=[]}function qI(){var n=new Oe(this.__wrapped__);return n.__actions__=rn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=rn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=rn(this.__views__),n}function WI(){if(this.__filtered__){var n=new Oe(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function VI(){var n=this.__wrapped__.value(),i=this.__dir__,l=we(n),h=i<0,m=l?n.length:0,w=ik(0,m,this.__views__),T=w.start,I=w.end,O=I-T,K=h?I:T-1,$=this.__iteratees__,G=$.length,j=0,ie=$t(O,this.__takeCount__);if(!l||!h&&m==O&&ie==O)return Qm(n,this.__actions__);var he=[];e:for(;O--&&j<ie;){K+=i;for(var Ae=-1,fe=n[K];++Ae<G;){var Re=$[Ae],Me=Re.iteratee,Cn=Re.type,Qt=Me(fe);if(Cn==me)fe=Qt;else if(!Qt){if(Cn==ne)continue e;break e}}he[j++]=fe}return he}Oe.prototype=ei(Ra.prototype),Oe.prototype.constructor=Oe;function fo(n){var i=-1,l=n==null?0:n.length;for(this.clear();++i<l;){var h=n[i];this.set(h[0],h[1])}}function YI(){this.__data__=Yi?Yi(null):{},this.size=0}function jI(n){var i=this.has(n)&&delete this.__data__[n];return this.size-=i?1:0,i}function QI(n){var i=this.__data__;if(Yi){var l=i[n];return l===d?t:l}return ze.call(i,n)?i[n]:t}function JI(n){var i=this.__data__;return Yi?i[n]!==t:ze.call(i,n)}function XI(n,i){var l=this.__data__;return this.size+=this.has(n)?0:1,l[n]=Yi&&i===t?d:i,this}fo.prototype.clear=YI,fo.prototype.delete=jI,fo.prototype.get=QI,fo.prototype.has=JI,fo.prototype.set=XI;function Cr(n){var i=-1,l=n==null?0:n.length;for(this.clear();++i<l;){var h=n[i];this.set(h[0],h[1])}}function ZI(){this.__data__=[],this.size=0}function eR(n){var i=this.__data__,l=ka(i,n);if(l<0)return!1;var h=i.length-1;return l==h?i.pop():Ta.call(i,l,1),--this.size,!0}function tR(n){var i=this.__data__,l=ka(i,n);return l<0?t:i[l][1]}function nR(n){return ka(this.__data__,n)>-1}function rR(n,i){var l=this.__data__,h=ka(l,n);return h<0?(++this.size,l.push([n,i])):l[h][1]=i,this}Cr.prototype.clear=ZI,Cr.prototype.delete=eR,Cr.prototype.get=tR,Cr.prototype.has=nR,Cr.prototype.set=rR;function vr(n){var i=-1,l=n==null?0:n.length;for(this.clear();++i<l;){var h=n[i];this.set(h[0],h[1])}}function oR(){this.size=0,this.__data__={hash:new fo,map:new(Wi||Cr),string:new fo}}function iR(n){var i=Ka(this,n).delete(n);return this.size-=i?1:0,i}function sR(n){return Ka(this,n).get(n)}function aR(n){return Ka(this,n).has(n)}function cR(n,i){var l=Ka(this,n),h=l.size;return l.set(n,i),this.size+=l.size==h?0:1,this}vr.prototype.clear=oR,vr.prototype.delete=iR,vr.prototype.get=sR,vr.prototype.has=aR,vr.prototype.set=cR;function go(n){var i=-1,l=n==null?0:n.length;for(this.__data__=new vr;++i<l;)this.add(n[i])}function lR(n){return this.__data__.set(n,d),this}function uR(n){return this.__data__.has(n)}go.prototype.add=go.prototype.push=lR,go.prototype.has=uR;function jn(n){var i=this.__data__=new Cr(n);this.size=i.size}function dR(){this.__data__=new Cr,this.size=0}function hR(n){var i=this.__data__,l=i.delete(n);return this.size=i.size,l}function fR(n){return this.__data__.get(n)}function gR(n){return this.__data__.has(n)}function pR(n,i){var l=this.__data__;if(l instanceof Cr){var h=l.__data__;if(!Wi||h.length<s-1)return h.push([n,i]),this.size=++l.size,this;l=this.__data__=new vr(h)}return l.set(n,i),this.size=l.size,this}jn.prototype.clear=dR,jn.prototype.delete=hR,jn.prototype.get=fR,jn.prototype.has=gR,jn.prototype.set=pR;function Im(n,i){var l=we(n),h=!l&&vo(n),m=!l&&!h&&Wr(n),w=!l&&!h&&!m&&oi(n),T=l||h||m||w,I=T?bu(n.length,SI):[],O=I.length;for(var K in n)(i||ze.call(n,K))&&!(T&&(K=="length"||m&&(K=="offset"||K=="parent")||w&&(K=="buffer"||K=="byteLength"||K=="byteOffset")||Ar(K,O)))&&I.push(K);return I}function Rm(n){var i=n.length;return i?n[Ku(0,i-1)]:t}function mR(n,i){return $a(rn(n),po(i,0,n.length))}function yR(n){return $a(rn(n))}function Ou(n,i,l){(l!==t&&!Qn(n[i],l)||l===t&&!(i in n))&&wr(n,i,l)}function Qi(n,i,l){var h=n[i];(!(ze.call(n,i)&&Qn(h,l))||l===t&&!(i in n))&&wr(n,i,l)}function ka(n,i){for(var l=n.length;l--;)if(Qn(n[l][0],i))return l;return-1}function CR(n,i,l,h){return $r(n,function(m,w,T){i(h,m,l(m),T)}),h}function km(n,i){return n&&sr(i,_t(i),n)}function vR(n,i){return n&&sr(i,sn(i),n)}function wr(n,i,l){i=="__proto__"&&Aa?Aa(n,i,{configurable:!0,enumerable:!0,value:l,writable:!0}):n[i]=l}function Nu(n,i){for(var l=-1,h=i.length,m=D(h),w=n==null;++l<h;)m[l]=w?t:hd(n,i[l]);return m}function po(n,i,l){return n===n&&(l!==t&&(n=n<=l?n:l),i!==t&&(n=n>=i?n:i)),n}function Nn(n,i,l,h,m,w){var T,I=i&p,O=i&v,K=i&E;if(l&&(T=m?l(n,h,m,w):l(n)),T!==t)return T;if(!it(n))return n;var $=we(n);if($){if(T=ak(n),!I)return rn(n,T)}else{var G=Gt(n),j=G==zt||G==qt;if(Wr(n))return Zm(n,I);if(G==je||G==Ht||j&&!m){if(T=O||j?{}:Cy(n),!I)return O?QR(n,vR(T,n)):jR(n,km(T,n))}else{if(!Qe[G])return m?n:{};T=ck(n,G,I)}}w||(w=new jn);var ie=w.get(n);if(ie)return ie;w.set(n,T),Vy(n)?n.forEach(function(fe){T.add(Nn(fe,i,l,fe,n,w))}):qy(n)&&n.forEach(function(fe,Re){T.set(Re,Nn(fe,i,l,Re,n,w))});var he=K?O?Xu:Ju:O?sn:_t,Ae=$?t:he(n);return kn(Ae||n,function(fe,Re){Ae&&(Re=fe,fe=n[Re]),Qi(T,Re,Nn(fe,i,l,Re,n,w))}),T}function wR(n){var i=_t(n);return function(l){return Pm(l,n,i)}}function Pm(n,i,l){var h=l.length;if(n==null)return!h;for(n=Ye(n);h--;){var m=l[h],w=i[m],T=n[m];if(T===t&&!(m in n)||!w(T))return!1}return!0}function Om(n,i,l){if(typeof n!="function")throw new Pn(c);return rs(function(){n.apply(t,l)},i)}function Ji(n,i,l,h){var m=-1,w=ha,T=!0,I=n.length,O=[],K=i.length;if(!I)return O;l&&(i=nt(i,pn(l))),h?(w=Cu,T=!1):i.length>=s&&(w=zi,T=!1,i=new go(i));e:for(;++m<I;){var $=n[m],G=l==null?$:l($);if($=h||$!==0?$:0,T&&G===G){for(var j=K;j--;)if(i[j]===G)continue e;O.push($)}else w(i,G,h)||O.push($)}return O}var $r=oy(ir),Nm=oy(Mu,!0);function ER(n,i){var l=!0;return $r(n,function(h,m,w){return l=!!i(h,m,w),l}),l}function Pa(n,i,l){for(var h=-1,m=n.length;++h<m;){var w=n[h],T=i(w);if(T!=null&&(I===t?T===T&&!yn(T):l(T,I)))var I=T,O=w}return O}function TR(n,i,l,h){var m=n.length;for(l=Te(l),l<0&&(l=-l>m?0:m+l),h=h===t||h>m?m:Te(h),h<0&&(h+=m),h=l>h?0:jy(h);l<h;)n[l++]=i;return n}function xm(n,i){var l=[];return $r(n,function(h,m,w){i(h,m,w)&&l.push(h)}),l}function Nt(n,i,l,h,m){var w=-1,T=n.length;for(l||(l=uk),m||(m=[]);++w<T;){var I=n[w];i>0&&l(I)?i>1?Nt(I,i-1,l,h,m):Fr(m,I):h||(m[m.length]=I)}return m}var xu=iy(),Mm=iy(!0);function ir(n,i){return n&&xu(n,i,_t)}function Mu(n,i){return n&&Mm(n,i,_t)}function Oa(n,i){return Hr(i,function(l){return br(n[l])})}function mo(n,i){i=zr(i,n);for(var l=0,h=i.length;n!=null&&l<h;)n=n[ar(i[l++])];return l&&l==h?n:t}function Lm(n,i,l){var h=i(n);return we(n)?h:Fr(h,l(n))}function Yt(n){return n==null?n===t?Kt:hn:ho&&ho in Ye(n)?ok(n):yk(n)}function Lu(n,i){return n>i}function AR(n,i){return n!=null&&ze.call(n,i)}function bR(n,i){return n!=null&&i in Ye(n)}function SR(n,i,l){return n>=$t(i,l)&&n<Ct(i,l)}function Du(n,i,l){for(var h=l?Cu:ha,m=n[0].length,w=n.length,T=w,I=D(w),O=1/0,K=[];T--;){var $=n[T];T&&i&&($=nt($,pn(i))),O=$t($.length,O),I[T]=!l&&(i||m>=120&&$.length>=120)?new go(T&&$):t}$=n[0];var G=-1,j=I[0];e:for(;++G<m&&K.length<O;){var ie=$[G],he=i?i(ie):ie;if(ie=l||ie!==0?ie:0,!(j?zi(j,he):h(K,he,l))){for(T=w;--T;){var Ae=I[T];if(!(Ae?zi(Ae,he):h(n[T],he,l)))continue e}j&&j.push(he),K.push(ie)}}return K}function _R(n,i,l,h){return ir(n,function(m,w,T){i(h,l(m),w,T)}),h}function Xi(n,i,l){i=zr(i,n),n=Ty(n,i);var h=n==null?n:n[ar(Mn(i))];return h==null?t:gn(h,n,l)}function Dm(n){return ct(n)&&Yt(n)==Ht}function IR(n){return ct(n)&&Yt(n)==Wn}function RR(n){return ct(n)&&Yt(n)==kt}function Zi(n,i,l,h,m){return n===i?!0:n==null||i==null||!ct(n)&&!ct(i)?n!==n&&i!==i:kR(n,i,l,h,Zi,m)}function kR(n,i,l,h,m,w){var T=we(n),I=we(i),O=T?Ft:Gt(n),K=I?Ft:Gt(i);O=O==Ht?je:O,K=K==Ht?je:K;var $=O==je,G=K==je,j=O==K;if(j&&Wr(n)){if(!Wr(i))return!1;T=!0,$=!1}if(j&&!$)return w||(w=new jn),T||oi(n)?py(n,i,l,h,m,w):nk(n,i,O,l,h,m,w);if(!(l&A)){var ie=$&&ze.call(n,"__wrapped__"),he=G&&ze.call(i,"__wrapped__");if(ie||he){var Ae=ie?n.value():n,fe=he?i.value():i;return w||(w=new jn),m(Ae,fe,l,h,w)}}return j?(w||(w=new jn),rk(n,i,l,h,m,w)):!1}function PR(n){return ct(n)&&Gt(n)==De}function Uu(n,i,l,h){var m=l.length,w=m,T=!h;if(n==null)return!w;for(n=Ye(n);m--;){var I=l[m];if(T&&I[2]?I[1]!==n[I[0]]:!(I[0]in n))return!1}for(;++m<w;){I=l[m];var O=I[0],K=n[O],$=I[1];if(T&&I[2]){if(K===t&&!(O in n))return!1}else{var G=new jn;if(h)var j=h(K,$,O,n,i,G);if(!(j===t?Zi($,K,A|b,h,G):j))return!1}}return!0}function Um(n){if(!it(n)||hk(n))return!1;var i=br(n)?PI:Pt;return i.test(Co(n))}function OR(n){return ct(n)&&Yt(n)==st}function NR(n){return ct(n)&&Gt(n)==mt}function xR(n){return ct(n)&&Ya(n.length)&&!!et[Yt(n)]}function Hm(n){return typeof n=="function"?n:n==null?an:typeof n=="object"?we(n)?Km(n[0],n[1]):Bm(n):sC(n)}function Hu(n){if(!ns(n))return DI(n);var i=[];for(var l in Ye(n))ze.call(n,l)&&l!="constructor"&&i.push(l);return i}function MR(n){if(!it(n))return mk(n);var i=ns(n),l=[];for(var h in n)h=="constructor"&&(i||!ze.call(n,h))||l.push(h);return l}function Fu(n,i){return n<i}function Fm(n,i){var l=-1,h=on(n)?D(n.length):[];return $r(n,function(m,w,T){h[++l]=i(m,w,T)}),h}function Bm(n){var i=ed(n);return i.length==1&&i[0][2]?wy(i[0][0],i[0][1]):function(l){return l===n||Uu(l,n,i)}}function Km(n,i){return nd(n)&&vy(i)?wy(ar(n),i):function(l){var h=hd(l,n);return h===t&&h===i?fd(l,n):Zi(i,h,A|b)}}function Na(n,i,l,h,m){n!==i&&xu(i,function(w,T){if(m||(m=new jn),it(w))LR(n,i,T,l,Na,h,m);else{var I=h?h(od(n,T),w,T+"",n,i,m):t;I===t&&(I=w),Ou(n,T,I)}},sn)}function LR(n,i,l,h,m,w,T){var I=od(n,l),O=od(i,l),K=T.get(O);if(K){Ou(n,l,K);return}var $=w?w(I,O,l+"",n,i,T):t,G=$===t;if(G){var j=we(O),ie=!j&&Wr(O),he=!j&&!ie&&oi(O);$=O,j||ie||he?we(I)?$=I:lt(I)?$=rn(I):ie?(G=!1,$=Zm(O,!0)):he?(G=!1,$=ey(O,!0)):$=[]:os(O)||vo(O)?($=I,vo(I)?$=Qy(I):(!it(I)||br(I))&&($=Cy(O))):G=!1}G&&(T.set(O,$),m($,O,h,w,T),T.delete(O)),Ou(n,l,$)}function $m(n,i){var l=n.length;if(l)return i+=i<0?l:0,Ar(i,l)?n[i]:t}function Gm(n,i,l){i.length?i=nt(i,function(w){return we(w)?function(T){return mo(T,w.length===1?w[0]:w)}:w}):i=[an];var h=-1;i=nt(i,pn(ue()));var m=Fm(n,function(w,T,I){var O=nt(i,function(K){return K(w)});return{criteria:O,index:++h,value:w}});return cI(m,function(w,T){return YR(w,T,l)})}function DR(n,i){return zm(n,i,function(l,h){return fd(n,h)})}function zm(n,i,l){for(var h=-1,m=i.length,w={};++h<m;){var T=i[h],I=mo(n,T);l(I,T)&&es(w,zr(T,n),I)}return w}function UR(n){return function(i){return mo(i,n)}}function Bu(n,i,l,h){var m=h?aI:Vo,w=-1,T=i.length,I=n;for(n===i&&(i=rn(i)),l&&(I=nt(n,pn(l)));++w<T;)for(var O=0,K=i[w],$=l?l(K):K;(O=m(I,$,O,h))>-1;)I!==n&&Ta.call(I,O,1),Ta.call(n,O,1);return n}function qm(n,i){for(var l=n?i.length:0,h=l-1;l--;){var m=i[l];if(l==h||m!==w){var w=m;Ar(m)?Ta.call(n,m,1):zu(n,m)}}return n}function Ku(n,i){return n+Sa(Sm()*(i-n+1))}function HR(n,i,l,h){for(var m=-1,w=Ct(ba((i-n)/(l||1)),0),T=D(w);w--;)T[h?w:++m]=n,n+=l;return T}function $u(n,i){var l="";if(!n||i<1||i>ae)return l;do i%2&&(l+=n),i=Sa(i/2),i&&(n+=n);while(i);return l}function Se(n,i){return id(Ey(n,i,an),n+"")}function FR(n){return Rm(ii(n))}function BR(n,i){var l=ii(n);return $a(l,po(i,0,l.length))}function es(n,i,l,h){if(!it(n))return n;i=zr(i,n);for(var m=-1,w=i.length,T=w-1,I=n;I!=null&&++m<w;){var O=ar(i[m]),K=l;if(O==="__proto__"||O==="constructor"||O==="prototype")return n;if(m!=T){var $=I[O];K=h?h($,O,I):t,K===t&&(K=it($)?$:Ar(i[m+1])?[]:{})}Qi(I,O,K),I=I[O]}return n}var Wm=_a?function(n,i){return _a.set(n,i),n}:an,KR=Aa?function(n,i){return Aa(n,"toString",{configurable:!0,enumerable:!1,value:pd(i),writable:!0})}:an;function $R(n){return $a(ii(n))}function xn(n,i,l){var h=-1,m=n.length;i<0&&(i=-i>m?0:m+i),l=l>m?m:l,l<0&&(l+=m),m=i>l?0:l-i>>>0,i>>>=0;for(var w=D(m);++h<m;)w[h]=n[h+i];return w}function GR(n,i){var l;return $r(n,function(h,m,w){return l=i(h,m,w),!l}),!!l}function xa(n,i,l){var h=0,m=n==null?h:n.length;if(typeof i=="number"&&i===i&&m<=Ze){for(;h<m;){var w=h+m>>>1,T=n[w];T!==null&&!yn(T)&&(l?T<=i:T<i)?h=w+1:m=w}return m}return Gu(n,i,an,l)}function Gu(n,i,l,h){var m=0,w=n==null?0:n.length;if(w===0)return 0;i=l(i);for(var T=i!==i,I=i===null,O=yn(i),K=i===t;m<w;){var $=Sa((m+w)/2),G=l(n[$]),j=G!==t,ie=G===null,he=G===G,Ae=yn(G);if(T)var fe=h||he;else K?fe=he&&(h||j):I?fe=he&&j&&(h||!ie):O?fe=he&&j&&!ie&&(h||!Ae):ie||Ae?fe=!1:fe=h?G<=i:G<i;fe?m=$+1:w=$}return $t(w,ht)}function Vm(n,i){for(var l=-1,h=n.length,m=0,w=[];++l<h;){var T=n[l],I=i?i(T):T;if(!l||!Qn(I,O)){var O=I;w[m++]=T===0?0:T}}return w}function Ym(n){return typeof n=="number"?n:yn(n)?Ne:+n}function mn(n){if(typeof n=="string")return n;if(we(n))return nt(n,mn)+"";if(yn(n))return _m?_m.call(n):"";var i=n+"";return i=="0"&&1/n==-J?"-0":i}function Gr(n,i,l){var h=-1,m=ha,w=n.length,T=!0,I=[],O=I;if(l)T=!1,m=Cu;else if(w>=s){var K=i?null:ek(n);if(K)return ga(K);T=!1,m=zi,O=new go}else O=i?[]:I;e:for(;++h<w;){var $=n[h],G=i?i($):$;if($=l||$!==0?$:0,T&&G===G){for(var j=O.length;j--;)if(O[j]===G)continue e;i&&O.push(G),I.push($)}else m(O,G,l)||(O!==I&&O.push(G),I.push($))}return I}function zu(n,i){return i=zr(i,n),n=Ty(n,i),n==null||delete n[ar(Mn(i))]}function jm(n,i,l,h){return es(n,i,l(mo(n,i)),h)}function Ma(n,i,l,h){for(var m=n.length,w=h?m:-1;(h?w--:++w<m)&&i(n[w],w,n););return l?xn(n,h?0:w,h?w+1:m):xn(n,h?w+1:0,h?m:w)}function Qm(n,i){var l=n;return l instanceof Oe&&(l=l.value()),vu(i,function(h,m){return m.func.apply(m.thisArg,Fr([h],m.args))},l)}function qu(n,i,l){var h=n.length;if(h<2)return h?Gr(n[0]):[];for(var m=-1,w=D(h);++m<h;)for(var T=n[m],I=-1;++I<h;)I!=m&&(w[m]=Ji(w[m]||T,n[I],i,l));return Gr(Nt(w,1),i,l)}function Jm(n,i,l){for(var h=-1,m=n.length,w=i.length,T={};++h<m;){var I=h<w?i[h]:t;l(T,n[h],I)}return T}function Wu(n){return lt(n)?n:[]}function Vu(n){return typeof n=="function"?n:an}function zr(n,i){return we(n)?n:nd(n,i)?[n]:_y($e(n))}var zR=Se;function qr(n,i,l){var h=n.length;return l=l===t?h:l,!i&&l>=h?n:xn(n,i,l)}var Xm=OI||function(n){return Ot.clearTimeout(n)};function Zm(n,i){if(i)return n.slice();var l=n.length,h=wm?wm(l):new n.constructor(l);return n.copy(h),h}function Yu(n){var i=new n.constructor(n.byteLength);return new wa(i).set(new wa(n)),i}function qR(n,i){var l=i?Yu(n.buffer):n.buffer;return new n.constructor(l,n.byteOffset,n.byteLength)}function WR(n){var i=new n.constructor(n.source,Ke.exec(n));return i.lastIndex=n.lastIndex,i}function VR(n){return ji?Ye(ji.call(n)):{}}function ey(n,i){var l=i?Yu(n.buffer):n.buffer;return new n.constructor(l,n.byteOffset,n.length)}function ty(n,i){if(n!==i){var l=n!==t,h=n===null,m=n===n,w=yn(n),T=i!==t,I=i===null,O=i===i,K=yn(i);if(!I&&!K&&!w&&n>i||w&&T&&O&&!I&&!K||h&&T&&O||!l&&O||!m)return 1;if(!h&&!w&&!K&&n<i||K&&l&&m&&!h&&!w||I&&l&&m||!T&&m||!O)return-1}return 0}function YR(n,i,l){for(var h=-1,m=n.criteria,w=i.criteria,T=m.length,I=l.length;++h<T;){var O=ty(m[h],w[h]);if(O){if(h>=I)return O;var K=l[h];return O*(K=="desc"?-1:1)}}return n.index-i.index}function ny(n,i,l,h){for(var m=-1,w=n.length,T=l.length,I=-1,O=i.length,K=Ct(w-T,0),$=D(O+K),G=!h;++I<O;)$[I]=i[I];for(;++m<T;)(G||m<w)&&($[l[m]]=n[m]);for(;K--;)$[I++]=n[m++];return $}function ry(n,i,l,h){for(var m=-1,w=n.length,T=-1,I=l.length,O=-1,K=i.length,$=Ct(w-I,0),G=D($+K),j=!h;++m<$;)G[m]=n[m];for(var ie=m;++O<K;)G[ie+O]=i[O];for(;++T<I;)(j||m<w)&&(G[ie+l[T]]=n[m++]);return G}function rn(n,i){var l=-1,h=n.length;for(i||(i=D(h));++l<h;)i[l]=n[l];return i}function sr(n,i,l,h){var m=!l;l||(l={});for(var w=-1,T=i.length;++w<T;){var I=i[w],O=h?h(l[I],n[I],I,l,n):t;O===t&&(O=n[I]),m?wr(l,I,O):Qi(l,I,O)}return l}function jR(n,i){return sr(n,td(n),i)}function QR(n,i){return sr(n,my(n),i)}function La(n,i){return function(l,h){var m=we(l)?tI:CR,w=i?i():{};return m(l,n,ue(h,2),w)}}function ti(n){return Se(function(i,l){var h=-1,m=l.length,w=m>1?l[m-1]:t,T=m>2?l[2]:t;for(w=n.length>3&&typeof w=="function"?(m--,w):t,T&&jt(l[0],l[1],T)&&(w=m<3?t:w,m=1),i=Ye(i);++h<m;){var I=l[h];I&&n(i,I,h,w)}return i})}function oy(n,i){return function(l,h){if(l==null)return l;if(!on(l))return n(l,h);for(var m=l.length,w=i?m:-1,T=Ye(l);(i?w--:++w<m)&&h(T[w],w,T)!==!1;);return l}}function iy(n){return function(i,l,h){for(var m=-1,w=Ye(i),T=h(i),I=T.length;I--;){var O=T[n?I:++m];if(l(w[O],O,w)===!1)break}return i}}function JR(n,i,l){var h=i&_,m=ts(n);function w(){var T=this&&this!==Ot&&this instanceof w?m:n;return T.apply(h?l:this,arguments)}return w}function sy(n){return function(i){i=$e(i);var l=Yo(i)?Yn(i):t,h=l?l[0]:i.charAt(0),m=l?qr(l,1).join(""):i.slice(1);return h[n]()+m}}function ni(n){return function(i){return vu(oC(rC(i).replace(K_,"")),n,"")}}function ts(n){return function(){var i=arguments;switch(i.length){case 0:return new n;case 1:return new n(i[0]);case 2:return new n(i[0],i[1]);case 3:return new n(i[0],i[1],i[2]);case 4:return new n(i[0],i[1],i[2],i[3]);case 5:return new n(i[0],i[1],i[2],i[3],i[4]);case 6:return new n(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new n(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var l=ei(n.prototype),h=n.apply(l,i);return it(h)?h:l}}function XR(n,i,l){var h=ts(n);function m(){for(var w=arguments.length,T=D(w),I=w,O=ri(m);I--;)T[I]=arguments[I];var K=w<3&&T[0]!==O&&T[w-1]!==O?[]:Br(T,O);if(w-=K.length,w<l)return dy(n,i,Da,m.placeholder,t,T,K,t,t,l-w);var $=this&&this!==Ot&&this instanceof m?h:n;return gn($,this,T)}return m}function ay(n){return function(i,l,h){var m=Ye(i);if(!on(i)){var w=ue(l,3);i=_t(i),l=function(I){return w(m[I],I,m)}}var T=n(i,l,h);return T>-1?m[w?i[T]:T]:t}}function cy(n){return Tr(function(i){var l=i.length,h=l,m=On.prototype.thru;for(n&&i.reverse();h--;){var w=i[h];if(typeof w!="function")throw new Pn(c);if(m&&!T&&Ba(w)=="wrapper")var T=new On([],!0)}for(h=T?h:l;++h<l;){w=i[h];var I=Ba(w),O=I=="wrapper"?Zu(w):t;O&&rd(O[0])&&O[1]==(W|P|L|B)&&!O[4].length&&O[9]==1?T=T[Ba(O[0])].apply(T,O[3]):T=w.length==1&&rd(w)?T[I]():T.thru(w)}return function(){var K=arguments,$=K[0];if(T&&K.length==1&&we($))return T.plant($).value();for(var G=0,j=l?i[G].apply(this,K):$;++G<l;)j=i[G].call(this,j);return j}})}function Da(n,i,l,h,m,w,T,I,O,K){var $=i&W,G=i&_,j=i&N,ie=i&(P|x),he=i&Q,Ae=j?t:ts(n);function fe(){for(var Re=arguments.length,Me=D(Re),Cn=Re;Cn--;)Me[Cn]=arguments[Cn];if(ie)var Qt=ri(fe),vn=uI(Me,Qt);if(h&&(Me=ny(Me,h,m,ie)),w&&(Me=ry(Me,w,T,ie)),Re-=vn,ie&&Re<K){var ut=Br(Me,Qt);return dy(n,i,Da,fe.placeholder,l,Me,ut,I,O,K-Re)}var Jn=G?l:this,_r=j?Jn[n]:n;return Re=Me.length,I?Me=Ck(Me,I):he&&Re>1&&Me.reverse(),$&&O<Re&&(Me.length=O),this&&this!==Ot&&this instanceof fe&&(_r=Ae||ts(_r)),_r.apply(Jn,Me)}return fe}function ly(n,i){return function(l,h){return _R(l,n,i(h),{})}}function Ua(n,i){return function(l,h){var m;if(l===t&&h===t)return i;if(l!==t&&(m=l),h!==t){if(m===t)return h;typeof l=="string"||typeof h=="string"?(l=mn(l),h=mn(h)):(l=Ym(l),h=Ym(h)),m=n(l,h)}return m}}function ju(n){return Tr(function(i){return i=nt(i,pn(ue())),Se(function(l){var h=this;return n(i,function(m){return gn(m,h,l)})})})}function Ha(n,i){i=i===t?" ":mn(i);var l=i.length;if(l<2)return l?$u(i,n):i;var h=$u(i,ba(n/jo(i)));return Yo(i)?qr(Yn(h),0,n).join(""):h.slice(0,n)}function ZR(n,i,l,h){var m=i&_,w=ts(n);function T(){for(var I=-1,O=arguments.length,K=-1,$=h.length,G=D($+O),j=this&&this!==Ot&&this instanceof T?w:n;++K<$;)G[K]=h[K];for(;O--;)G[K++]=arguments[++I];return gn(j,m?l:this,G)}return T}function uy(n){return function(i,l,h){return h&&typeof h!="number"&&jt(i,l,h)&&(l=h=t),i=Sr(i),l===t?(l=i,i=0):l=Sr(l),h=h===t?i<l?1:-1:Sr(h),HR(i,l,h,n)}}function Fa(n){return function(i,l){return typeof i=="string"&&typeof l=="string"||(i=Ln(i),l=Ln(l)),n(i,l)}}function dy(n,i,l,h,m,w,T,I,O,K){var $=i&P,G=$?T:t,j=$?t:T,ie=$?w:t,he=$?t:w;i|=$?L:H,i&=~($?H:L),i&R||(i&=~(_|N));var Ae=[n,i,m,ie,G,he,j,I,O,K],fe=l.apply(t,Ae);return rd(n)&&Ay(fe,Ae),fe.placeholder=h,by(fe,n,i)}function Qu(n){var i=yt[n];return function(l,h){if(l=Ln(l),h=h==null?0:$t(Te(h),292),h&&bm(l)){var m=($e(l)+"e").split("e"),w=i(m[0]+"e"+(+m[1]+h));return m=($e(w)+"e").split("e"),+(m[0]+"e"+(+m[1]-h))}return i(l)}}var ek=Xo&&1/ga(new Xo([,-0]))[1]==J?function(n){return new Xo(n)}:Cd;function hy(n){return function(i){var l=Gt(i);return l==De?_u(i):l==mt?yI(i):lI(i,n(i))}}function Er(n,i,l,h,m,w,T,I){var O=i&N;if(!O&&typeof n!="function")throw new Pn(c);var K=h?h.length:0;if(K||(i&=~(L|H),h=m=t),T=T===t?T:Ct(Te(T),0),I=I===t?I:Te(I),K-=m?m.length:0,i&H){var $=h,G=m;h=m=t}var j=O?t:Zu(n),ie=[n,i,l,h,m,$,G,w,T,I];if(j&&pk(ie,j),n=ie[0],i=ie[1],l=ie[2],h=ie[3],m=ie[4],I=ie[9]=ie[9]===t?O?0:n.length:Ct(ie[9]-K,0),!I&&i&(P|x)&&(i&=~(P|x)),!i||i==_)var he=JR(n,i,l);else i==P||i==x?he=XR(n,i,I):(i==L||i==(_|L))&&!m.length?he=ZR(n,i,l,h):he=Da.apply(t,ie);var Ae=j?Wm:Ay;return by(Ae(he,ie),n,i)}function fy(n,i,l,h){return n===t||Qn(n,Jo[l])&&!ze.call(h,l)?i:n}function gy(n,i,l,h,m,w){return it(n)&&it(i)&&(w.set(i,n),Na(n,i,t,gy,w),w.delete(i)),n}function tk(n){return os(n)?t:n}function py(n,i,l,h,m,w){var T=l&A,I=n.length,O=i.length;if(I!=O&&!(T&&O>I))return!1;var K=w.get(n),$=w.get(i);if(K&&$)return K==i&&$==n;var G=-1,j=!0,ie=l&b?new go:t;for(w.set(n,i),w.set(i,n);++G<I;){var he=n[G],Ae=i[G];if(h)var fe=T?h(Ae,he,G,i,n,w):h(he,Ae,G,n,i,w);if(fe!==t){if(fe)continue;j=!1;break}if(ie){if(!wu(i,function(Re,Me){if(!zi(ie,Me)&&(he===Re||m(he,Re,l,h,w)))return ie.push(Me)})){j=!1;break}}else if(!(he===Ae||m(he,Ae,l,h,w))){j=!1;break}}return w.delete(n),w.delete(i),j}function nk(n,i,l,h,m,w,T){switch(l){case Ur:if(n.byteLength!=i.byteLength||n.byteOffset!=i.byteOffset)return!1;n=n.buffer,i=i.buffer;case Wn:return!(n.byteLength!=i.byteLength||!w(new wa(n),new wa(i)));case bt:case kt:case tt:return Qn(+n,+i);case In:return n.name==i.name&&n.message==i.message;case st:case Wt:return n==i+"";case De:var I=_u;case mt:var O=h&A;if(I||(I=ga),n.size!=i.size&&!O)return!1;var K=T.get(n);if(K)return K==i;h|=b,T.set(n,i);var $=py(I(n),I(i),h,m,w,T);return T.delete(n),$;case Vt:if(ji)return ji.call(n)==ji.call(i)}return!1}function rk(n,i,l,h,m,w){var T=l&A,I=Ju(n),O=I.length,K=Ju(i),$=K.length;if(O!=$&&!T)return!1;for(var G=O;G--;){var j=I[G];if(!(T?j in i:ze.call(i,j)))return!1}var ie=w.get(n),he=w.get(i);if(ie&&he)return ie==i&&he==n;var Ae=!0;w.set(n,i),w.set(i,n);for(var fe=T;++G<O;){j=I[G];var Re=n[j],Me=i[j];if(h)var Cn=T?h(Me,Re,j,i,n,w):h(Re,Me,j,n,i,w);if(!(Cn===t?Re===Me||m(Re,Me,l,h,w):Cn)){Ae=!1;break}fe||(fe=j=="constructor")}if(Ae&&!fe){var Qt=n.constructor,vn=i.constructor;Qt!=vn&&"constructor"in n&&"constructor"in i&&!(typeof Qt=="function"&&Qt instanceof Qt&&typeof vn=="function"&&vn instanceof vn)&&(Ae=!1)}return w.delete(n),w.delete(i),Ae}function Tr(n){return id(Ey(n,t,Py),n+"")}function Ju(n){return Lm(n,_t,td)}function Xu(n){return Lm(n,sn,my)}var Zu=_a?function(n){return _a.get(n)}:Cd;function Ba(n){for(var i=n.name+"",l=Zo[i],h=ze.call(Zo,i)?l.length:0;h--;){var m=l[h],w=m.func;if(w==null||w==n)return m.name}return i}function ri(n){var i=ze.call(C,"placeholder")?C:n;return i.placeholder}function ue(){var n=C.iteratee||md;return n=n===md?Hm:n,arguments.length?n(arguments[0],arguments[1]):n}function Ka(n,i){var l=n.__data__;return dk(i)?l[typeof i=="string"?"string":"hash"]:l.map}function ed(n){for(var i=_t(n),l=i.length;l--;){var h=i[l],m=n[h];i[l]=[h,m,vy(m)]}return i}function yo(n,i){var l=gI(n,i);return Um(l)?l:t}function ok(n){var i=ze.call(n,ho),l=n[ho];try{n[ho]=t;var h=!0}catch{}var m=Ca.call(n);return h&&(i?n[ho]=l:delete n[ho]),m}var td=Ru?function(n){return n==null?[]:(n=Ye(n),Hr(Ru(n),function(i){return Tm.call(n,i)}))}:vd,my=Ru?function(n){for(var i=[];n;)Fr(i,td(n)),n=Ea(n);return i}:vd,Gt=Yt;(ku&&Gt(new ku(new ArrayBuffer(1)))!=Ur||Wi&&Gt(new Wi)!=De||Pu&&Gt(Pu.resolve())!=fn||Xo&&Gt(new Xo)!=mt||Vi&&Gt(new Vi)!=St)&&(Gt=function(n){var i=Yt(n),l=i==je?n.constructor:t,h=l?Co(l):"";if(h)switch(h){case BI:return Ur;case KI:return De;case $I:return fn;case GI:return mt;case zI:return St}return i});function ik(n,i,l){for(var h=-1,m=l.length;++h<m;){var w=l[h],T=w.size;switch(w.type){case"drop":n+=T;break;case"dropRight":i-=T;break;case"take":i=$t(i,n+T);break;case"takeRight":n=Ct(n,i-T);break}}return{start:n,end:i}}function sk(n){var i=n.match(uu);return i?i[1].split(S):[]}function yy(n,i,l){i=zr(i,n);for(var h=-1,m=i.length,w=!1;++h<m;){var T=ar(i[h]);if(!(w=n!=null&&l(n,T)))break;n=n[T]}return w||++h!=m?w:(m=n==null?0:n.length,!!m&&Ya(m)&&Ar(T,m)&&(we(n)||vo(n)))}function ak(n){var i=n.length,l=new n.constructor(i);return i&&typeof n[0]=="string"&&ze.call(n,"index")&&(l.index=n.index,l.input=n.input),l}function Cy(n){return typeof n.constructor=="function"&&!ns(n)?ei(Ea(n)):{}}function ck(n,i,l){var h=n.constructor;switch(i){case Wn:return Yu(n);case bt:case kt:return new h(+n);case Ur:return qR(n,l);case Go:case zo:case lo:case Mi:case Li:case Di:case Ui:case Hi:case Fi:return ey(n,l);case De:return new h;case tt:case Wt:return new h(n);case st:return WR(n);case mt:return new h;case Vt:return VR(n)}}function lk(n,i){var l=i.length;if(!l)return n;var h=l-1;return i[h]=(l>1?"& ":"")+i[h],i=i.join(l>2?", ":" "),n.replace(lu,`{
/* [wrapped with `+i+`] */
`)}function uk(n){return we(n)||vo(n)||!!(Am&&n&&n[Am])}function Ar(n,i){var l=typeof n;return i=i??ae,!!i&&(l=="number"||l!="symbol"&&at.test(n))&&n>-1&&n%1==0&&n<i}function jt(n,i,l){if(!it(l))return!1;var h=typeof i;return(h=="number"?on(l)&&Ar(i,l.length):h=="string"&&i in l)?Qn(l[i],n):!1}function nd(n,i){if(we(n))return!1;var l=typeof n;return l=="number"||l=="symbol"||l=="boolean"||n==null||yn(n)?!0:ca.test(n)||!aa.test(n)||i!=null&&n in Ye(i)}function dk(n){var i=typeof n;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?n!=="__proto__":n===null}function rd(n){var i=Ba(n),l=C[i];if(typeof l!="function"||!(i in Oe.prototype))return!1;if(n===l)return!0;var h=Zu(l);return!!h&&n===h[0]}function hk(n){return!!vm&&vm in n}var fk=ma?br:wd;function ns(n){var i=n&&n.constructor,l=typeof i=="function"&&i.prototype||Jo;return n===l}function vy(n){return n===n&&!it(n)}function wy(n,i){return function(l){return l==null?!1:l[n]===i&&(i!==t||n in Ye(l))}}function gk(n){var i=Wa(n,function(h){return l.size===f&&l.clear(),h}),l=i.cache;return i}function pk(n,i){var l=n[1],h=i[1],m=l|h,w=m<(_|N|W),T=h==W&&l==P||h==W&&l==B&&n[7].length<=i[8]||h==(W|B)&&i[7].length<=i[8]&&l==P;if(!(w||T))return n;h&_&&(n[2]=i[2],m|=l&_?0:R);var I=i[3];if(I){var O=n[3];n[3]=O?ny(O,I,i[4]):I,n[4]=O?Br(n[3],g):i[4]}return I=i[5],I&&(O=n[5],n[5]=O?ry(O,I,i[6]):I,n[6]=O?Br(n[5],g):i[6]),I=i[7],I&&(n[7]=I),h&W&&(n[8]=n[8]==null?i[8]:$t(n[8],i[8])),n[9]==null&&(n[9]=i[9]),n[0]=i[0],n[1]=m,n}function mk(n){var i=[];if(n!=null)for(var l in Ye(n))i.push(l);return i}function yk(n){return Ca.call(n)}function Ey(n,i,l){return i=Ct(i===t?n.length-1:i,0),function(){for(var h=arguments,m=-1,w=Ct(h.length-i,0),T=D(w);++m<w;)T[m]=h[i+m];m=-1;for(var I=D(i+1);++m<i;)I[m]=h[m];return I[i]=l(T),gn(n,this,I)}}function Ty(n,i){return i.length<2?n:mo(n,xn(i,0,-1))}function Ck(n,i){for(var l=n.length,h=$t(i.length,l),m=rn(n);h--;){var w=i[h];n[h]=Ar(w,l)?m[w]:t}return n}function od(n,i){if(!(i==="constructor"&&typeof n[i]=="function")&&i!="__proto__")return n[i]}var Ay=Sy(Wm),rs=xI||function(n,i){return Ot.setTimeout(n,i)},id=Sy(KR);function by(n,i,l){var h=i+"";return id(n,lk(h,vk(sk(h),l)))}function Sy(n){var i=0,l=0;return function(){var h=UI(),m=de-(h-l);if(l=h,m>0){if(++i>=se)return arguments[0]}else i=0;return n.apply(t,arguments)}}function $a(n,i){var l=-1,h=n.length,m=h-1;for(i=i===t?h:i;++l<i;){var w=Ku(l,m),T=n[w];n[w]=n[l],n[l]=T}return n.length=i,n}var _y=gk(function(n){var i=[];return n.charCodeAt(0)===46&&i.push(""),n.replace(au,function(l,h,m,w){i.push(m?w.replace(ye,"$1"):h||l)}),i});function ar(n){if(typeof n=="string"||yn(n))return n;var i=n+"";return i=="0"&&1/n==-J?"-0":i}function Co(n){if(n!=null){try{return ya.call(n)}catch{}try{return n+""}catch{}}return""}function vk(n,i){return kn(qn,function(l){var h="_."+l[0];i&l[1]&&!ha(n,h)&&n.push(h)}),n.sort()}function Iy(n){if(n instanceof Oe)return n.clone();var i=new On(n.__wrapped__,n.__chain__);return i.__actions__=rn(n.__actions__),i.__index__=n.__index__,i.__values__=n.__values__,i}function wk(n,i,l){(l?jt(n,i,l):i===t)?i=1:i=Ct(Te(i),0);var h=n==null?0:n.length;if(!h||i<1)return[];for(var m=0,w=0,T=D(ba(h/i));m<h;)T[w++]=xn(n,m,m+=i);return T}function Ek(n){for(var i=-1,l=n==null?0:n.length,h=0,m=[];++i<l;){var w=n[i];w&&(m[h++]=w)}return m}function Tk(){var n=arguments.length;if(!n)return[];for(var i=D(n-1),l=arguments[0],h=n;h--;)i[h-1]=arguments[h];return Fr(we(l)?rn(l):[l],Nt(i,1))}var Ak=Se(function(n,i){return lt(n)?Ji(n,Nt(i,1,lt,!0)):[]}),bk=Se(function(n,i){var l=Mn(i);return lt(l)&&(l=t),lt(n)?Ji(n,Nt(i,1,lt,!0),ue(l,2)):[]}),Sk=Se(function(n,i){var l=Mn(i);return lt(l)&&(l=t),lt(n)?Ji(n,Nt(i,1,lt,!0),t,l):[]});function _k(n,i,l){var h=n==null?0:n.length;return h?(i=l||i===t?1:Te(i),xn(n,i<0?0:i,h)):[]}function Ik(n,i,l){var h=n==null?0:n.length;return h?(i=l||i===t?1:Te(i),i=h-i,xn(n,0,i<0?0:i)):[]}function Rk(n,i){return n&&n.length?Ma(n,ue(i,3),!0,!0):[]}function kk(n,i){return n&&n.length?Ma(n,ue(i,3),!0):[]}function Pk(n,i,l,h){var m=n==null?0:n.length;return m?(l&&typeof l!="number"&&jt(n,i,l)&&(l=0,h=m),TR(n,i,l,h)):[]}function Ry(n,i,l){var h=n==null?0:n.length;if(!h)return-1;var m=l==null?0:Te(l);return m<0&&(m=Ct(h+m,0)),fa(n,ue(i,3),m)}function ky(n,i,l){var h=n==null?0:n.length;if(!h)return-1;var m=h-1;return l!==t&&(m=Te(l),m=l<0?Ct(h+m,0):$t(m,h-1)),fa(n,ue(i,3),m,!0)}function Py(n){var i=n==null?0:n.length;return i?Nt(n,1):[]}function Ok(n){var i=n==null?0:n.length;return i?Nt(n,J):[]}function Nk(n,i){var l=n==null?0:n.length;return l?(i=i===t?1:Te(i),Nt(n,i)):[]}function xk(n){for(var i=-1,l=n==null?0:n.length,h={};++i<l;){var m=n[i];h[m[0]]=m[1]}return h}function Oy(n){return n&&n.length?n[0]:t}function Mk(n,i,l){var h=n==null?0:n.length;if(!h)return-1;var m=l==null?0:Te(l);return m<0&&(m=Ct(h+m,0)),Vo(n,i,m)}function Lk(n){var i=n==null?0:n.length;return i?xn(n,0,-1):[]}var Dk=Se(function(n){var i=nt(n,Wu);return i.length&&i[0]===n[0]?Du(i):[]}),Uk=Se(function(n){var i=Mn(n),l=nt(n,Wu);return i===Mn(l)?i=t:l.pop(),l.length&&l[0]===n[0]?Du(l,ue(i,2)):[]}),Hk=Se(function(n){var i=Mn(n),l=nt(n,Wu);return i=typeof i=="function"?i:t,i&&l.pop(),l.length&&l[0]===n[0]?Du(l,t,i):[]});function Fk(n,i){return n==null?"":LI.call(n,i)}function Mn(n){var i=n==null?0:n.length;return i?n[i-1]:t}function Bk(n,i,l){var h=n==null?0:n.length;if(!h)return-1;var m=h;return l!==t&&(m=Te(l),m=m<0?Ct(h+m,0):$t(m,h-1)),i===i?vI(n,i,m):fa(n,dm,m,!0)}function Kk(n,i){return n&&n.length?$m(n,Te(i)):t}var $k=Se(Ny);function Ny(n,i){return n&&n.length&&i&&i.length?Bu(n,i):n}function Gk(n,i,l){return n&&n.length&&i&&i.length?Bu(n,i,ue(l,2)):n}function zk(n,i,l){return n&&n.length&&i&&i.length?Bu(n,i,t,l):n}var qk=Tr(function(n,i){var l=n==null?0:n.length,h=Nu(n,i);return qm(n,nt(i,function(m){return Ar(m,l)?+m:m}).sort(ty)),h});function Wk(n,i){var l=[];if(!(n&&n.length))return l;var h=-1,m=[],w=n.length;for(i=ue(i,3);++h<w;){var T=n[h];i(T,h,n)&&(l.push(T),m.push(h))}return qm(n,m),l}function sd(n){return n==null?n:FI.call(n)}function Vk(n,i,l){var h=n==null?0:n.length;return h?(l&&typeof l!="number"&&jt(n,i,l)?(i=0,l=h):(i=i==null?0:Te(i),l=l===t?h:Te(l)),xn(n,i,l)):[]}function Yk(n,i){return xa(n,i)}function jk(n,i,l){return Gu(n,i,ue(l,2))}function Qk(n,i){var l=n==null?0:n.length;if(l){var h=xa(n,i);if(h<l&&Qn(n[h],i))return h}return-1}function Jk(n,i){return xa(n,i,!0)}function Xk(n,i,l){return Gu(n,i,ue(l,2),!0)}function Zk(n,i){var l=n==null?0:n.length;if(l){var h=xa(n,i,!0)-1;if(Qn(n[h],i))return h}return-1}function eP(n){return n&&n.length?Vm(n):[]}function tP(n,i){return n&&n.length?Vm(n,ue(i,2)):[]}function nP(n){var i=n==null?0:n.length;return i?xn(n,1,i):[]}function rP(n,i,l){return n&&n.length?(i=l||i===t?1:Te(i),xn(n,0,i<0?0:i)):[]}function oP(n,i,l){var h=n==null?0:n.length;return h?(i=l||i===t?1:Te(i),i=h-i,xn(n,i<0?0:i,h)):[]}function iP(n,i){return n&&n.length?Ma(n,ue(i,3),!1,!0):[]}function sP(n,i){return n&&n.length?Ma(n,ue(i,3)):[]}var aP=Se(function(n){return Gr(Nt(n,1,lt,!0))}),cP=Se(function(n){var i=Mn(n);return lt(i)&&(i=t),Gr(Nt(n,1,lt,!0),ue(i,2))}),lP=Se(function(n){var i=Mn(n);return i=typeof i=="function"?i:t,Gr(Nt(n,1,lt,!0),t,i)});function uP(n){return n&&n.length?Gr(n):[]}function dP(n,i){return n&&n.length?Gr(n,ue(i,2)):[]}function hP(n,i){return i=typeof i=="function"?i:t,n&&n.length?Gr(n,t,i):[]}function ad(n){if(!(n&&n.length))return[];var i=0;return n=Hr(n,function(l){if(lt(l))return i=Ct(l.length,i),!0}),bu(i,function(l){return nt(n,Eu(l))})}function xy(n,i){if(!(n&&n.length))return[];var l=ad(n);return i==null?l:nt(l,function(h){return gn(i,t,h)})}var fP=Se(function(n,i){return lt(n)?Ji(n,i):[]}),gP=Se(function(n){return qu(Hr(n,lt))}),pP=Se(function(n){var i=Mn(n);return lt(i)&&(i=t),qu(Hr(n,lt),ue(i,2))}),mP=Se(function(n){var i=Mn(n);return i=typeof i=="function"?i:t,qu(Hr(n,lt),t,i)}),yP=Se(ad);function CP(n,i){return Jm(n||[],i||[],Qi)}function vP(n,i){return Jm(n||[],i||[],es)}var wP=Se(function(n){var i=n.length,l=i>1?n[i-1]:t;return l=typeof l=="function"?(n.pop(),l):t,xy(n,l)});function My(n){var i=C(n);return i.__chain__=!0,i}function EP(n,i){return i(n),n}function Ga(n,i){return i(n)}var TP=Tr(function(n){var i=n.length,l=i?n[0]:0,h=this.__wrapped__,m=function(w){return Nu(w,n)};return i>1||this.__actions__.length||!(h instanceof Oe)||!Ar(l)?this.thru(m):(h=h.slice(l,+l+(i?1:0)),h.__actions__.push({func:Ga,args:[m],thisArg:t}),new On(h,this.__chain__).thru(function(w){return i&&!w.length&&w.push(t),w}))});function AP(){return My(this)}function bP(){return new On(this.value(),this.__chain__)}function SP(){this.__values__===t&&(this.__values__=Yy(this.value()));var n=this.__index__>=this.__values__.length,i=n?t:this.__values__[this.__index__++];return{done:n,value:i}}function _P(){return this}function IP(n){for(var i,l=this;l instanceof Ra;){var h=Iy(l);h.__index__=0,h.__values__=t,i?m.__wrapped__=h:i=h;var m=h;l=l.__wrapped__}return m.__wrapped__=n,i}function RP(){var n=this.__wrapped__;if(n instanceof Oe){var i=n;return this.__actions__.length&&(i=new Oe(this)),i=i.reverse(),i.__actions__.push({func:Ga,args:[sd],thisArg:t}),new On(i,this.__chain__)}return this.thru(sd)}function kP(){return Qm(this.__wrapped__,this.__actions__)}var PP=La(function(n,i,l){ze.call(n,l)?++n[l]:wr(n,l,1)});function OP(n,i,l){var h=we(n)?lm:ER;return l&&jt(n,i,l)&&(i=t),h(n,ue(i,3))}function NP(n,i){var l=we(n)?Hr:xm;return l(n,ue(i,3))}var xP=ay(Ry),MP=ay(ky);function LP(n,i){return Nt(za(n,i),1)}function DP(n,i){return Nt(za(n,i),J)}function UP(n,i,l){return l=l===t?1:Te(l),Nt(za(n,i),l)}function Ly(n,i){var l=we(n)?kn:$r;return l(n,ue(i,3))}function Dy(n,i){var l=we(n)?nI:Nm;return l(n,ue(i,3))}var HP=La(function(n,i,l){ze.call(n,l)?n[l].push(i):wr(n,l,[i])});function FP(n,i,l,h){n=on(n)?n:ii(n),l=l&&!h?Te(l):0;var m=n.length;return l<0&&(l=Ct(m+l,0)),ja(n)?l<=m&&n.indexOf(i,l)>-1:!!m&&Vo(n,i,l)>-1}var BP=Se(function(n,i,l){var h=-1,m=typeof i=="function",w=on(n)?D(n.length):[];return $r(n,function(T){w[++h]=m?gn(i,T,l):Xi(T,i,l)}),w}),KP=La(function(n,i,l){wr(n,l,i)});function za(n,i){var l=we(n)?nt:Fm;return l(n,ue(i,3))}function $P(n,i,l,h){return n==null?[]:(we(i)||(i=i==null?[]:[i]),l=h?t:l,we(l)||(l=l==null?[]:[l]),Gm(n,i,l))}var GP=La(function(n,i,l){n[l?0:1].push(i)},function(){return[[],[]]});function zP(n,i,l){var h=we(n)?vu:fm,m=arguments.length<3;return h(n,ue(i,4),l,m,$r)}function qP(n,i,l){var h=we(n)?rI:fm,m=arguments.length<3;return h(n,ue(i,4),l,m,Nm)}function WP(n,i){var l=we(n)?Hr:xm;return l(n,Va(ue(i,3)))}function VP(n){var i=we(n)?Rm:FR;return i(n)}function YP(n,i,l){(l?jt(n,i,l):i===t)?i=1:i=Te(i);var h=we(n)?mR:BR;return h(n,i)}function jP(n){var i=we(n)?yR:$R;return i(n)}function QP(n){if(n==null)return 0;if(on(n))return ja(n)?jo(n):n.length;var i=Gt(n);return i==De||i==mt?n.size:Hu(n).length}function JP(n,i,l){var h=we(n)?wu:GR;return l&&jt(n,i,l)&&(i=t),h(n,ue(i,3))}var XP=Se(function(n,i){if(n==null)return[];var l=i.length;return l>1&&jt(n,i[0],i[1])?i=[]:l>2&&jt(i[0],i[1],i[2])&&(i=[i[0]]),Gm(n,Nt(i,1),[])}),qa=NI||function(){return Ot.Date.now()};function ZP(n,i){if(typeof i!="function")throw new Pn(c);return n=Te(n),function(){if(--n<1)return i.apply(this,arguments)}}function Uy(n,i,l){return i=l?t:i,i=n&&i==null?n.length:i,Er(n,W,t,t,t,t,i)}function Hy(n,i){var l;if(typeof i!="function")throw new Pn(c);return n=Te(n),function(){return--n>0&&(l=i.apply(this,arguments)),n<=1&&(i=t),l}}var cd=Se(function(n,i,l){var h=_;if(l.length){var m=Br(l,ri(cd));h|=L}return Er(n,h,i,l,m)}),Fy=Se(function(n,i,l){var h=_|N;if(l.length){var m=Br(l,ri(Fy));h|=L}return Er(i,h,n,l,m)});function By(n,i,l){i=l?t:i;var h=Er(n,P,t,t,t,t,t,i);return h.placeholder=By.placeholder,h}function Ky(n,i,l){i=l?t:i;var h=Er(n,x,t,t,t,t,t,i);return h.placeholder=Ky.placeholder,h}function $y(n,i,l){var h,m,w,T,I,O,K=0,$=!1,G=!1,j=!0;if(typeof n!="function")throw new Pn(c);i=Ln(i)||0,it(l)&&($=!!l.leading,G="maxWait"in l,w=G?Ct(Ln(l.maxWait)||0,i):w,j="trailing"in l?!!l.trailing:j);function ie(ut){var Jn=h,_r=m;return h=m=t,K=ut,T=n.apply(_r,Jn),T}function he(ut){return K=ut,I=rs(Re,i),$?ie(ut):T}function Ae(ut){var Jn=ut-O,_r=ut-K,aC=i-Jn;return G?$t(aC,w-_r):aC}function fe(ut){var Jn=ut-O,_r=ut-K;return O===t||Jn>=i||Jn<0||G&&_r>=w}function Re(){var ut=qa();if(fe(ut))return Me(ut);I=rs(Re,Ae(ut))}function Me(ut){return I=t,j&&h?ie(ut):(h=m=t,T)}function Cn(){I!==t&&Xm(I),K=0,h=O=m=I=t}function Qt(){return I===t?T:Me(qa())}function vn(){var ut=qa(),Jn=fe(ut);if(h=arguments,m=this,O=ut,Jn){if(I===t)return he(O);if(G)return Xm(I),I=rs(Re,i),ie(O)}return I===t&&(I=rs(Re,i)),T}return vn.cancel=Cn,vn.flush=Qt,vn}var eO=Se(function(n,i){return Om(n,1,i)}),tO=Se(function(n,i,l){return Om(n,Ln(i)||0,l)});function nO(n){return Er(n,Q)}function Wa(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new Pn(c);var l=function(){var h=arguments,m=i?i.apply(this,h):h[0],w=l.cache;if(w.has(m))return w.get(m);var T=n.apply(this,h);return l.cache=w.set(m,T)||w,T};return l.cache=new(Wa.Cache||vr),l}Wa.Cache=vr;function Va(n){if(typeof n!="function")throw new Pn(c);return function(){var i=arguments;switch(i.length){case 0:return!n.call(this);case 1:return!n.call(this,i[0]);case 2:return!n.call(this,i[0],i[1]);case 3:return!n.call(this,i[0],i[1],i[2])}return!n.apply(this,i)}}function rO(n){return Hy(2,n)}var oO=zR(function(n,i){i=i.length==1&&we(i[0])?nt(i[0],pn(ue())):nt(Nt(i,1),pn(ue()));var l=i.length;return Se(function(h){for(var m=-1,w=$t(h.length,l);++m<w;)h[m]=i[m].call(this,h[m]);return gn(n,this,h)})}),ld=Se(function(n,i){var l=Br(i,ri(ld));return Er(n,L,t,i,l)}),Gy=Se(function(n,i){var l=Br(i,ri(Gy));return Er(n,H,t,i,l)}),iO=Tr(function(n,i){return Er(n,B,t,t,t,i)});function sO(n,i){if(typeof n!="function")throw new Pn(c);return i=i===t?i:Te(i),Se(n,i)}function aO(n,i){if(typeof n!="function")throw new Pn(c);return i=i==null?0:Ct(Te(i),0),Se(function(l){var h=l[i],m=qr(l,0,i);return h&&Fr(m,h),gn(n,this,m)})}function cO(n,i,l){var h=!0,m=!0;if(typeof n!="function")throw new Pn(c);return it(l)&&(h="leading"in l?!!l.leading:h,m="trailing"in l?!!l.trailing:m),$y(n,i,{leading:h,maxWait:i,trailing:m})}function lO(n){return Uy(n,1)}function uO(n,i){return ld(Vu(i),n)}function dO(){if(!arguments.length)return[];var n=arguments[0];return we(n)?n:[n]}function hO(n){return Nn(n,E)}function fO(n,i){return i=typeof i=="function"?i:t,Nn(n,E,i)}function gO(n){return Nn(n,p|E)}function pO(n,i){return i=typeof i=="function"?i:t,Nn(n,p|E,i)}function mO(n,i){return i==null||Pm(n,i,_t(i))}function Qn(n,i){return n===i||n!==n&&i!==i}var yO=Fa(Lu),CO=Fa(function(n,i){return n>=i}),vo=Dm(function(){return arguments}())?Dm:function(n){return ct(n)&&ze.call(n,"callee")&&!Tm.call(n,"callee")},we=D.isArray,vO=rm?pn(rm):IR;function on(n){return n!=null&&Ya(n.length)&&!br(n)}function lt(n){return ct(n)&&on(n)}function wO(n){return n===!0||n===!1||ct(n)&&Yt(n)==bt}var Wr=MI||wd,EO=om?pn(om):RR;function TO(n){return ct(n)&&n.nodeType===1&&!os(n)}function AO(n){if(n==null)return!0;if(on(n)&&(we(n)||typeof n=="string"||typeof n.splice=="function"||Wr(n)||oi(n)||vo(n)))return!n.length;var i=Gt(n);if(i==De||i==mt)return!n.size;if(ns(n))return!Hu(n).length;for(var l in n)if(ze.call(n,l))return!1;return!0}function bO(n,i){return Zi(n,i)}function SO(n,i,l){l=typeof l=="function"?l:t;var h=l?l(n,i):t;return h===t?Zi(n,i,t,l):!!h}function ud(n){if(!ct(n))return!1;var i=Yt(n);return i==In||i==en||typeof n.message=="string"&&typeof n.name=="string"&&!os(n)}function _O(n){return typeof n=="number"&&bm(n)}function br(n){if(!it(n))return!1;var i=Yt(n);return i==zt||i==qt||i==Zt||i==Bt}function zy(n){return typeof n=="number"&&n==Te(n)}function Ya(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=ae}function it(n){var i=typeof n;return n!=null&&(i=="object"||i=="function")}function ct(n){return n!=null&&typeof n=="object"}var qy=im?pn(im):PR;function IO(n,i){return n===i||Uu(n,i,ed(i))}function RO(n,i,l){return l=typeof l=="function"?l:t,Uu(n,i,ed(i),l)}function kO(n){return Wy(n)&&n!=+n}function PO(n){if(fk(n))throw new ve(a);return Um(n)}function OO(n){return n===null}function NO(n){return n==null}function Wy(n){return typeof n=="number"||ct(n)&&Yt(n)==tt}function os(n){if(!ct(n)||Yt(n)!=je)return!1;var i=Ea(n);if(i===null)return!0;var l=ze.call(i,"constructor")&&i.constructor;return typeof l=="function"&&l instanceof l&&ya.call(l)==RI}var dd=sm?pn(sm):OR;function xO(n){return zy(n)&&n>=-ae&&n<=ae}var Vy=am?pn(am):NR;function ja(n){return typeof n=="string"||!we(n)&&ct(n)&&Yt(n)==Wt}function yn(n){return typeof n=="symbol"||ct(n)&&Yt(n)==Vt}var oi=cm?pn(cm):xR;function MO(n){return n===t}function LO(n){return ct(n)&&Gt(n)==St}function DO(n){return ct(n)&&Yt(n)==co}var UO=Fa(Fu),HO=Fa(function(n,i){return n<=i});function Yy(n){if(!n)return[];if(on(n))return ja(n)?Yn(n):rn(n);if(qi&&n[qi])return mI(n[qi]());var i=Gt(n),l=i==De?_u:i==mt?ga:ii;return l(n)}function Sr(n){if(!n)return n===0?n:0;if(n=Ln(n),n===J||n===-J){var i=n<0?-1:1;return i*ce}return n===n?n:0}function Te(n){var i=Sr(n),l=i%1;return i===i?l?i-l:i:0}function jy(n){return n?po(Te(n),0,xe):0}function Ln(n){if(typeof n=="number")return n;if(yn(n))return Ne;if(it(n)){var i=typeof n.valueOf=="function"?n.valueOf():n;n=it(i)?i+"":i}if(typeof n!="string")return n===0?n:+n;n=gm(n);var l=_e.test(n);return l||ot.test(n)?Z_(n.slice(2),l?2:8):Pe.test(n)?Ne:+n}function Qy(n){return sr(n,sn(n))}function FO(n){return n?po(Te(n),-ae,ae):n===0?n:0}function $e(n){return n==null?"":mn(n)}var BO=ti(function(n,i){if(ns(i)||on(i)){sr(i,_t(i),n);return}for(var l in i)ze.call(i,l)&&Qi(n,l,i[l])}),Jy=ti(function(n,i){sr(i,sn(i),n)}),Qa=ti(function(n,i,l,h){sr(i,sn(i),n,h)}),KO=ti(function(n,i,l,h){sr(i,_t(i),n,h)}),$O=Tr(Nu);function GO(n,i){var l=ei(n);return i==null?l:km(l,i)}var zO=Se(function(n,i){n=Ye(n);var l=-1,h=i.length,m=h>2?i[2]:t;for(m&&jt(i[0],i[1],m)&&(h=1);++l<h;)for(var w=i[l],T=sn(w),I=-1,O=T.length;++I<O;){var K=T[I],$=n[K];($===t||Qn($,Jo[K])&&!ze.call(n,K))&&(n[K]=w[K])}return n}),qO=Se(function(n){return n.push(t,gy),gn(Xy,t,n)});function WO(n,i){return um(n,ue(i,3),ir)}function VO(n,i){return um(n,ue(i,3),Mu)}function YO(n,i){return n==null?n:xu(n,ue(i,3),sn)}function jO(n,i){return n==null?n:Mm(n,ue(i,3),sn)}function QO(n,i){return n&&ir(n,ue(i,3))}function JO(n,i){return n&&Mu(n,ue(i,3))}function XO(n){return n==null?[]:Oa(n,_t(n))}function ZO(n){return n==null?[]:Oa(n,sn(n))}function hd(n,i,l){var h=n==null?t:mo(n,i);return h===t?l:h}function eN(n,i){return n!=null&&yy(n,i,AR)}function fd(n,i){return n!=null&&yy(n,i,bR)}var tN=ly(function(n,i,l){i!=null&&typeof i.toString!="function"&&(i=Ca.call(i)),n[i]=l},pd(an)),nN=ly(function(n,i,l){i!=null&&typeof i.toString!="function"&&(i=Ca.call(i)),ze.call(n,i)?n[i].push(l):n[i]=[l]},ue),rN=Se(Xi);function _t(n){return on(n)?Im(n):Hu(n)}function sn(n){return on(n)?Im(n,!0):MR(n)}function oN(n,i){var l={};return i=ue(i,3),ir(n,function(h,m,w){wr(l,i(h,m,w),h)}),l}function iN(n,i){var l={};return i=ue(i,3),ir(n,function(h,m,w){wr(l,m,i(h,m,w))}),l}var sN=ti(function(n,i,l){Na(n,i,l)}),Xy=ti(function(n,i,l,h){Na(n,i,l,h)}),aN=Tr(function(n,i){var l={};if(n==null)return l;var h=!1;i=nt(i,function(w){return w=zr(w,n),h||(h=w.length>1),w}),sr(n,Xu(n),l),h&&(l=Nn(l,p|v|E,tk));for(var m=i.length;m--;)zu(l,i[m]);return l});function cN(n,i){return Zy(n,Va(ue(i)))}var lN=Tr(function(n,i){return n==null?{}:DR(n,i)});function Zy(n,i){if(n==null)return{};var l=nt(Xu(n),function(h){return[h]});return i=ue(i),zm(n,l,function(h,m){return i(h,m[0])})}function uN(n,i,l){i=zr(i,n);var h=-1,m=i.length;for(m||(m=1,n=t);++h<m;){var w=n==null?t:n[ar(i[h])];w===t&&(h=m,w=l),n=br(w)?w.call(n):w}return n}function dN(n,i,l){return n==null?n:es(n,i,l)}function hN(n,i,l,h){return h=typeof h=="function"?h:t,n==null?n:es(n,i,l,h)}var eC=hy(_t),tC=hy(sn);function fN(n,i,l){var h=we(n),m=h||Wr(n)||oi(n);if(i=ue(i,4),l==null){var w=n&&n.constructor;m?l=h?new w:[]:it(n)?l=br(w)?ei(Ea(n)):{}:l={}}return(m?kn:ir)(n,function(T,I,O){return i(l,T,I,O)}),l}function gN(n,i){return n==null?!0:zu(n,i)}function pN(n,i,l){return n==null?n:jm(n,i,Vu(l))}function mN(n,i,l,h){return h=typeof h=="function"?h:t,n==null?n:jm(n,i,Vu(l),h)}function ii(n){return n==null?[]:Su(n,_t(n))}function yN(n){return n==null?[]:Su(n,sn(n))}function CN(n,i,l){return l===t&&(l=i,i=t),l!==t&&(l=Ln(l),l=l===l?l:0),i!==t&&(i=Ln(i),i=i===i?i:0),po(Ln(n),i,l)}function vN(n,i,l){return i=Sr(i),l===t?(l=i,i=0):l=Sr(l),n=Ln(n),SR(n,i,l)}function wN(n,i,l){if(l&&typeof l!="boolean"&&jt(n,i,l)&&(i=l=t),l===t&&(typeof i=="boolean"?(l=i,i=t):typeof n=="boolean"&&(l=n,n=t)),n===t&&i===t?(n=0,i=1):(n=Sr(n),i===t?(i=n,n=0):i=Sr(i)),n>i){var h=n;n=i,i=h}if(l||n%1||i%1){var m=Sm();return $t(n+m*(i-n+X_("1e-"+((m+"").length-1))),i)}return Ku(n,i)}var EN=ni(function(n,i,l){return i=i.toLowerCase(),n+(l?nC(i):i)});function nC(n){return gd($e(n).toLowerCase())}function rC(n){return n=$e(n),n&&n.replace(tn,dI).replace($_,"")}function TN(n,i,l){n=$e(n),i=mn(i);var h=n.length;l=l===t?h:po(Te(l),0,h);var m=l;return l-=i.length,l>=0&&n.slice(l,m)==i}function AN(n){return n=$e(n),n&&oa.test(n)?n.replace(qo,hI):n}function bN(n){return n=$e(n),n&&la.test(n)?n.replace($i,"\\$&"):n}var SN=ni(function(n,i,l){return n+(l?"-":"")+i.toLowerCase()}),_N=ni(function(n,i,l){return n+(l?" ":"")+i.toLowerCase()}),IN=sy("toLowerCase");function RN(n,i,l){n=$e(n),i=Te(i);var h=i?jo(n):0;if(!i||h>=i)return n;var m=(i-h)/2;return Ha(Sa(m),l)+n+Ha(ba(m),l)}function kN(n,i,l){n=$e(n),i=Te(i);var h=i?jo(n):0;return i&&h<i?n+Ha(i-h,l):n}function PN(n,i,l){n=$e(n),i=Te(i);var h=i?jo(n):0;return i&&h<i?Ha(i-h,l)+n:n}function ON(n,i,l){return l||i==null?i=0:i&&(i=+i),HI($e(n).replace(Gi,""),i||0)}function NN(n,i,l){return(l?jt(n,i,l):i===t)?i=1:i=Te(i),$u($e(n),i)}function xN(){var n=arguments,i=$e(n[0]);return n.length<3?i:i.replace(n[1],n[2])}var MN=ni(function(n,i,l){return n+(l?"_":"")+i.toLowerCase()});function LN(n,i,l){return l&&typeof l!="number"&&jt(n,i,l)&&(i=l=t),l=l===t?xe:l>>>0,l?(n=$e(n),n&&(typeof i=="string"||i!=null&&!dd(i))&&(i=mn(i),!i&&Yo(n))?qr(Yn(n),0,l):n.split(i,l)):[]}var DN=ni(function(n,i,l){return n+(l?" ":"")+gd(i)});function UN(n,i,l){return n=$e(n),l=l==null?0:po(Te(l),0,n.length),i=mn(i),n.slice(l,l+i.length)==i}function HN(n,i,l){var h=C.templateSettings;l&&jt(n,i,l)&&(i=t),n=$e(n),i=Qa({},i,h,fy);var m=Qa({},i.imports,h.imports,fy),w=_t(m),T=Su(m,w),I,O,K=0,$=i.interpolate||Vn,G="__p += '",j=Iu((i.escape||Vn).source+"|"+$.source+"|"+($===sa?Ue:Vn).source+"|"+(i.evaluate||Vn).source+"|$","g"),ie="//# sourceURL="+(ze.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++V_+"]")+`
`;n.replace(j,function(fe,Re,Me,Cn,Qt,vn){return Me||(Me=Cn),G+=n.slice(K,vn).replace(ua,fI),Re&&(I=!0,G+=`' +
__e(`+Re+`) +
'`),Qt&&(O=!0,G+=`';
`+Qt+`;
__p += '`),Me&&(G+=`' +
((__t = (`+Me+`)) == null ? '' : __t) +
'`),K=vn+fe.length,fe}),G+=`';
`;var he=ze.call(i,"variable")&&i.variable;if(!he)G=`with (obj) {
`+G+`
}
`;else if(Y.test(he))throw new ve(u);G=(O?G.replace(iu,""):G).replace(Bi,"$1").replace(ra,"$1;"),G="function("+(he||"obj")+`) {
`+(he?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(O?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+G+`return __p
}`;var Ae=iC(function(){return Be(w,ie+"return "+G).apply(t,T)});if(Ae.source=G,ud(Ae))throw Ae;return Ae}function FN(n){return $e(n).toLowerCase()}function BN(n){return $e(n).toUpperCase()}function KN(n,i,l){if(n=$e(n),n&&(l||i===t))return gm(n);if(!n||!(i=mn(i)))return n;var h=Yn(n),m=Yn(i),w=pm(h,m),T=mm(h,m)+1;return qr(h,w,T).join("")}function $N(n,i,l){if(n=$e(n),n&&(l||i===t))return n.slice(0,Cm(n)+1);if(!n||!(i=mn(i)))return n;var h=Yn(n),m=mm(h,Yn(i))+1;return qr(h,0,m).join("")}function GN(n,i,l){if(n=$e(n),n&&(l||i===t))return n.replace(Gi,"");if(!n||!(i=mn(i)))return n;var h=Yn(n),m=pm(h,Yn(i));return qr(h,m).join("")}function zN(n,i){var l=re,h=pe;if(it(i)){var m="separator"in i?i.separator:m;l="length"in i?Te(i.length):l,h="omission"in i?mn(i.omission):h}n=$e(n);var w=n.length;if(Yo(n)){var T=Yn(n);w=T.length}if(l>=w)return n;var I=l-jo(h);if(I<1)return h;var O=T?qr(T,0,I).join(""):n.slice(0,I);if(m===t)return O+h;if(T&&(I+=O.length-I),dd(m)){if(n.slice(I).search(m)){var K,$=O;for(m.global||(m=Iu(m.source,$e(Ke.exec(m))+"g")),m.lastIndex=0;K=m.exec($);)var G=K.index;O=O.slice(0,G===t?I:G)}}else if(n.indexOf(mn(m),I)!=I){var j=O.lastIndexOf(m);j>-1&&(O=O.slice(0,j))}return O+h}function qN(n){return n=$e(n),n&&Ki.test(n)?n.replace(yr,wI):n}var WN=ni(function(n,i,l){return n+(l?" ":"")+i.toUpperCase()}),gd=sy("toUpperCase");function oC(n,i,l){return n=$e(n),i=l?t:i,i===t?pI(n)?AI(n):sI(n):n.match(i)||[]}var iC=Se(function(n,i){try{return gn(n,t,i)}catch(l){return ud(l)?l:new ve(l)}}),VN=Tr(function(n,i){return kn(i,function(l){l=ar(l),wr(n,l,cd(n[l],n))}),n});function YN(n){var i=n==null?0:n.length,l=ue();return n=i?nt(n,function(h){if(typeof h[1]!="function")throw new Pn(c);return[l(h[0]),h[1]]}):[],Se(function(h){for(var m=-1;++m<i;){var w=n[m];if(gn(w[0],this,h))return gn(w[1],this,h)}})}function jN(n){return wR(Nn(n,p))}function pd(n){return function(){return n}}function QN(n,i){return n==null||n!==n?i:n}var JN=cy(),XN=cy(!0);function an(n){return n}function md(n){return Hm(typeof n=="function"?n:Nn(n,p))}function ZN(n){return Bm(Nn(n,p))}function e0(n,i){return Km(n,Nn(i,p))}var t0=Se(function(n,i){return function(l){return Xi(l,n,i)}}),n0=Se(function(n,i){return function(l){return Xi(n,l,i)}});function yd(n,i,l){var h=_t(i),m=Oa(i,h);l==null&&!(it(i)&&(m.length||!h.length))&&(l=i,i=n,n=this,m=Oa(i,_t(i)));var w=!(it(l)&&"chain"in l)||!!l.chain,T=br(n);return kn(m,function(I){var O=i[I];n[I]=O,T&&(n.prototype[I]=function(){var K=this.__chain__;if(w||K){var $=n(this.__wrapped__),G=$.__actions__=rn(this.__actions__);return G.push({func:O,args:arguments,thisArg:n}),$.__chain__=K,$}return O.apply(n,Fr([this.value()],arguments))})}),n}function r0(){return Ot._===this&&(Ot._=kI),this}function Cd(){}function o0(n){return n=Te(n),Se(function(i){return $m(i,n)})}var i0=ju(nt),s0=ju(lm),a0=ju(wu);function sC(n){return nd(n)?Eu(ar(n)):UR(n)}function c0(n){return function(i){return n==null?t:mo(n,i)}}var l0=uy(),u0=uy(!0);function vd(){return[]}function wd(){return!1}function d0(){return{}}function h0(){return""}function f0(){return!0}function g0(n,i){if(n=Te(n),n<1||n>ae)return[];var l=xe,h=$t(n,xe);i=ue(i),n-=xe;for(var m=bu(h,i);++l<n;)i(l);return m}function p0(n){return we(n)?nt(n,ar):yn(n)?[n]:rn(_y($e(n)))}function m0(n){var i=++II;return $e(n)+i}var y0=Ua(function(n,i){return n+i},0),C0=Qu("ceil"),v0=Ua(function(n,i){return n/i},1),w0=Qu("floor");function E0(n){return n&&n.length?Pa(n,an,Lu):t}function T0(n,i){return n&&n.length?Pa(n,ue(i,2),Lu):t}function A0(n){return hm(n,an)}function b0(n,i){return hm(n,ue(i,2))}function S0(n){return n&&n.length?Pa(n,an,Fu):t}function _0(n,i){return n&&n.length?Pa(n,ue(i,2),Fu):t}var I0=Ua(function(n,i){return n*i},1),R0=Qu("round"),k0=Ua(function(n,i){return n-i},0);function P0(n){return n&&n.length?Au(n,an):0}function O0(n,i){return n&&n.length?Au(n,ue(i,2)):0}return C.after=ZP,C.ary=Uy,C.assign=BO,C.assignIn=Jy,C.assignInWith=Qa,C.assignWith=KO,C.at=$O,C.before=Hy,C.bind=cd,C.bindAll=VN,C.bindKey=Fy,C.castArray=dO,C.chain=My,C.chunk=wk,C.compact=Ek,C.concat=Tk,C.cond=YN,C.conforms=jN,C.constant=pd,C.countBy=PP,C.create=GO,C.curry=By,C.curryRight=Ky,C.debounce=$y,C.defaults=zO,C.defaultsDeep=qO,C.defer=eO,C.delay=tO,C.difference=Ak,C.differenceBy=bk,C.differenceWith=Sk,C.drop=_k,C.dropRight=Ik,C.dropRightWhile=Rk,C.dropWhile=kk,C.fill=Pk,C.filter=NP,C.flatMap=LP,C.flatMapDeep=DP,C.flatMapDepth=UP,C.flatten=Py,C.flattenDeep=Ok,C.flattenDepth=Nk,C.flip=nO,C.flow=JN,C.flowRight=XN,C.fromPairs=xk,C.functions=XO,C.functionsIn=ZO,C.groupBy=HP,C.initial=Lk,C.intersection=Dk,C.intersectionBy=Uk,C.intersectionWith=Hk,C.invert=tN,C.invertBy=nN,C.invokeMap=BP,C.iteratee=md,C.keyBy=KP,C.keys=_t,C.keysIn=sn,C.map=za,C.mapKeys=oN,C.mapValues=iN,C.matches=ZN,C.matchesProperty=e0,C.memoize=Wa,C.merge=sN,C.mergeWith=Xy,C.method=t0,C.methodOf=n0,C.mixin=yd,C.negate=Va,C.nthArg=o0,C.omit=aN,C.omitBy=cN,C.once=rO,C.orderBy=$P,C.over=i0,C.overArgs=oO,C.overEvery=s0,C.overSome=a0,C.partial=ld,C.partialRight=Gy,C.partition=GP,C.pick=lN,C.pickBy=Zy,C.property=sC,C.propertyOf=c0,C.pull=$k,C.pullAll=Ny,C.pullAllBy=Gk,C.pullAllWith=zk,C.pullAt=qk,C.range=l0,C.rangeRight=u0,C.rearg=iO,C.reject=WP,C.remove=Wk,C.rest=sO,C.reverse=sd,C.sampleSize=YP,C.set=dN,C.setWith=hN,C.shuffle=jP,C.slice=Vk,C.sortBy=XP,C.sortedUniq=eP,C.sortedUniqBy=tP,C.split=LN,C.spread=aO,C.tail=nP,C.take=rP,C.takeRight=oP,C.takeRightWhile=iP,C.takeWhile=sP,C.tap=EP,C.throttle=cO,C.thru=Ga,C.toArray=Yy,C.toPairs=eC,C.toPairsIn=tC,C.toPath=p0,C.toPlainObject=Qy,C.transform=fN,C.unary=lO,C.union=aP,C.unionBy=cP,C.unionWith=lP,C.uniq=uP,C.uniqBy=dP,C.uniqWith=hP,C.unset=gN,C.unzip=ad,C.unzipWith=xy,C.update=pN,C.updateWith=mN,C.values=ii,C.valuesIn=yN,C.without=fP,C.words=oC,C.wrap=uO,C.xor=gP,C.xorBy=pP,C.xorWith=mP,C.zip=yP,C.zipObject=CP,C.zipObjectDeep=vP,C.zipWith=wP,C.entries=eC,C.entriesIn=tC,C.extend=Jy,C.extendWith=Qa,yd(C,C),C.add=y0,C.attempt=iC,C.camelCase=EN,C.capitalize=nC,C.ceil=C0,C.clamp=CN,C.clone=hO,C.cloneDeep=gO,C.cloneDeepWith=pO,C.cloneWith=fO,C.conformsTo=mO,C.deburr=rC,C.defaultTo=QN,C.divide=v0,C.endsWith=TN,C.eq=Qn,C.escape=AN,C.escapeRegExp=bN,C.every=OP,C.find=xP,C.findIndex=Ry,C.findKey=WO,C.findLast=MP,C.findLastIndex=ky,C.findLastKey=VO,C.floor=w0,C.forEach=Ly,C.forEachRight=Dy,C.forIn=YO,C.forInRight=jO,C.forOwn=QO,C.forOwnRight=JO,C.get=hd,C.gt=yO,C.gte=CO,C.has=eN,C.hasIn=fd,C.head=Oy,C.identity=an,C.includes=FP,C.indexOf=Mk,C.inRange=vN,C.invoke=rN,C.isArguments=vo,C.isArray=we,C.isArrayBuffer=vO,C.isArrayLike=on,C.isArrayLikeObject=lt,C.isBoolean=wO,C.isBuffer=Wr,C.isDate=EO,C.isElement=TO,C.isEmpty=AO,C.isEqual=bO,C.isEqualWith=SO,C.isError=ud,C.isFinite=_O,C.isFunction=br,C.isInteger=zy,C.isLength=Ya,C.isMap=qy,C.isMatch=IO,C.isMatchWith=RO,C.isNaN=kO,C.isNative=PO,C.isNil=NO,C.isNull=OO,C.isNumber=Wy,C.isObject=it,C.isObjectLike=ct,C.isPlainObject=os,C.isRegExp=dd,C.isSafeInteger=xO,C.isSet=Vy,C.isString=ja,C.isSymbol=yn,C.isTypedArray=oi,C.isUndefined=MO,C.isWeakMap=LO,C.isWeakSet=DO,C.join=Fk,C.kebabCase=SN,C.last=Mn,C.lastIndexOf=Bk,C.lowerCase=_N,C.lowerFirst=IN,C.lt=UO,C.lte=HO,C.max=E0,C.maxBy=T0,C.mean=A0,C.meanBy=b0,C.min=S0,C.minBy=_0,C.stubArray=vd,C.stubFalse=wd,C.stubObject=d0,C.stubString=h0,C.stubTrue=f0,C.multiply=I0,C.nth=Kk,C.noConflict=r0,C.noop=Cd,C.now=qa,C.pad=RN,C.padEnd=kN,C.padStart=PN,C.parseInt=ON,C.random=wN,C.reduce=zP,C.reduceRight=qP,C.repeat=NN,C.replace=xN,C.result=uN,C.round=R0,C.runInContext=k,C.sample=VP,C.size=QP,C.snakeCase=MN,C.some=JP,C.sortedIndex=Yk,C.sortedIndexBy=jk,C.sortedIndexOf=Qk,C.sortedLastIndex=Jk,C.sortedLastIndexBy=Xk,C.sortedLastIndexOf=Zk,C.startCase=DN,C.startsWith=UN,C.subtract=k0,C.sum=P0,C.sumBy=O0,C.template=HN,C.times=g0,C.toFinite=Sr,C.toInteger=Te,C.toLength=jy,C.toLower=FN,C.toNumber=Ln,C.toSafeInteger=FO,C.toString=$e,C.toUpper=BN,C.trim=KN,C.trimEnd=$N,C.trimStart=GN,C.truncate=zN,C.unescape=qN,C.uniqueId=m0,C.upperCase=WN,C.upperFirst=gd,C.each=Ly,C.eachRight=Dy,C.first=Oy,yd(C,function(){var n={};return ir(C,function(i,l){ze.call(C.prototype,l)||(n[l]=i)}),n}(),{chain:!1}),C.VERSION=r,kn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){C[n].placeholder=C}),kn(["drop","take"],function(n,i){Oe.prototype[n]=function(l){l=l===t?1:Ct(Te(l),0);var h=this.__filtered__&&!i?new Oe(this):this.clone();return h.__filtered__?h.__takeCount__=$t(l,h.__takeCount__):h.__views__.push({size:$t(l,xe),type:n+(h.__dir__<0?"Right":"")}),h},Oe.prototype[n+"Right"]=function(l){return this.reverse()[n](l).reverse()}}),kn(["filter","map","takeWhile"],function(n,i){var l=i+1,h=l==ne||l==Z;Oe.prototype[n]=function(m){var w=this.clone();return w.__iteratees__.push({iteratee:ue(m,3),type:l}),w.__filtered__=w.__filtered__||h,w}}),kn(["head","last"],function(n,i){var l="take"+(i?"Right":"");Oe.prototype[n]=function(){return this[l](1).value()[0]}}),kn(["initial","tail"],function(n,i){var l="drop"+(i?"":"Right");Oe.prototype[n]=function(){return this.__filtered__?new Oe(this):this[l](1)}}),Oe.prototype.compact=function(){return this.filter(an)},Oe.prototype.find=function(n){return this.filter(n).head()},Oe.prototype.findLast=function(n){return this.reverse().find(n)},Oe.prototype.invokeMap=Se(function(n,i){return typeof n=="function"?new Oe(this):this.map(function(l){return Xi(l,n,i)})}),Oe.prototype.reject=function(n){return this.filter(Va(ue(n)))},Oe.prototype.slice=function(n,i){n=Te(n);var l=this;return l.__filtered__&&(n>0||i<0)?new Oe(l):(n<0?l=l.takeRight(-n):n&&(l=l.drop(n)),i!==t&&(i=Te(i),l=i<0?l.dropRight(-i):l.take(i-n)),l)},Oe.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Oe.prototype.toArray=function(){return this.take(xe)},ir(Oe.prototype,function(n,i){var l=/^(?:filter|find|map|reject)|While$/.test(i),h=/^(?:head|last)$/.test(i),m=C[h?"take"+(i=="last"?"Right":""):i],w=h||/^find/.test(i);m&&(C.prototype[i]=function(){var T=this.__wrapped__,I=h?[1]:arguments,O=T instanceof Oe,K=I[0],$=O||we(T),G=function(Re){var Me=m.apply(C,Fr([Re],I));return h&&j?Me[0]:Me};$&&l&&typeof K=="function"&&K.length!=1&&(O=$=!1);var j=this.__chain__,ie=!!this.__actions__.length,he=w&&!j,Ae=O&&!ie;if(!w&&$){T=Ae?T:new Oe(this);var fe=n.apply(T,I);return fe.__actions__.push({func:Ga,args:[G],thisArg:t}),new On(fe,j)}return he&&Ae?n.apply(this,I):(fe=this.thru(G),he?h?fe.value()[0]:fe.value():fe)})}),kn(["pop","push","shift","sort","splice","unshift"],function(n){var i=pa[n],l=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",h=/^(?:pop|shift)$/.test(n);C.prototype[n]=function(){var m=arguments;if(h&&!this.__chain__){var w=this.value();return i.apply(we(w)?w:[],m)}return this[l](function(T){return i.apply(we(T)?T:[],m)})}}),ir(Oe.prototype,function(n,i){var l=C[i];if(l){var h=l.name+"";ze.call(Zo,h)||(Zo[h]=[]),Zo[h].push({name:i,func:l})}}),Zo[Da(t,N).name]=[{name:"wrapper",func:t}],Oe.prototype.clone=qI,Oe.prototype.reverse=WI,Oe.prototype.value=VI,C.prototype.at=TP,C.prototype.chain=AP,C.prototype.commit=bP,C.prototype.next=SP,C.prototype.plant=IP,C.prototype.reverse=RP,C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=kP,C.prototype.first=C.prototype.head,qi&&(C.prototype[qi]=_P),C},Qo=bI();uo?((uo.exports=Qo)._=Qo,mu._=Qo):Ot._=Qo}).call(si)}(na,na.exports);var _p=na.exports;const Ip=o=>_p.groupBy(o,"dictionaryUri");async function t_(o,e,t){try{const r=await o.api.classV1List({uri:e,includeClassRelations:!0},t);if(r.status!==200)throw new Error(`API request failed with status ${r.status}`);return r.data}catch(r){return console.error("Error fetching classification:",r),null}}function n_({api:o,activeClassificationUri:e,setClassifications:t,domains:r,accessToken:s}){const[a,c]=y.useState(0),[u,d]=y.useState({}),[f,g]=y.useState([]),[p,v]=y.useState(()=>Ip(f)),[E,A]=y.useState({}),b={headers:{Accept:"text/plain"}};s!==""&&(b.headers={...b.headers,Authorization:"Bearer "+s});function _(R){const P=new Promise(function(x){const L={uri:R,includeClassRelations:!0};x(o.api.classV1List(L,b).then(H=>H.status!==200?(console.error(`API request failed with status ${H.status}`),null):H.data).catch(H=>(console.error("Error fetching classification:",H),null)))});return d({...u,classificationUri:P}),P}y.useEffect(()=>{v(Ip(f))},[f]),y.useEffect(()=>{if(c(0),e){const R={};e&&(R[e]=_(e)),d(R)}},[e]),y.useEffect(()=>{c(Object.keys(u).length),a!==Object.keys(u).length&&Promise.allSettled(Object.values(u)).then(function(R){const P=R.map(H=>H.status==="fulfilled"?H.value:null).filter(H=>H!==null);R.map(async H=>{if(H.status==="fulfilled"){const W=H.value;if(W&&W.classRelations){const B={...u};W.classRelations.forEach(Q=>{Q.relatedClassUri in Object.keys(u)||(B[Q.relatedClassUri]=t_(o,Q.relatedClassUri,b))}),d(B)}}});const x={...E},L=_p.groupBy(P,"dictionaryUri");Object.entries(L).forEach(([H,W])=>{W.some(B=>B.uri===x[H])||(x[H]=W[0].uri)}),A(x),t(P),g(P)})},[u,a,E,o]),y.useEffect(()=>{t(Object.values(E).map(R=>f.find(P=>P.uri===R)).filter(R=>R!==void 0))},[E,f]);const N=y.useCallback(R=>P=>{if(!P)return;if(!f.find(H=>H.uri===P)){console.log(`Selected classification '${P}' not found`);return}const L={...E,[R]:P};A(L)},[f,E]);return Ee.jsx(Ee.Fragment,{children:Object.entries(p).map(([R,P])=>Ee.jsx(ea,{mb:"sm",label:r[R]?r[R].name:"",data:P.map(x=>({value:x.uri,label:x.name})),value:E[R],readOnly:P.length===1,variant:P.length===1?"filled":"default",onChange:x=>N(R)(x)},R))})}function r_(o){const{value:e,setValue:t,disabled:r}=o,s=y.useRef(null),a=c=>{c.target.indeterminate=!1,t(c.target.checked)};return y.useEffect(()=>{s.current&&(e===!0?s.current.checked=!0:e===void 0&&(s.current.indeterminate=!0))}),Ee.jsx(Xs,{ref:s,type:"checkbox",onChange:c=>a(c),disabled:r})}function o_(o){const[e,t]=y.useState(),r=o.property,s=o.propertySet,a=o.propertySets,c=o.setPropertySets;return y.useEffect(()=>{switch(r.type){case"IfcPropertySingleValue":{r.nominalValue.type==="IfcBoolean"?t(Ee.jsx(r_,{disabled:!1,value:r.nominalValue.value,setValue:u=>{const d={...a},f={...s};if(f.name){const g={...r};g.nominalValue.value=u;const p=f.hasProperties.findIndex(v=>v.name===r.name);p!=-1&&(f.hasProperties[p]=g,d[f.name]=f,c(d))}}})):t(Ee.jsx(ao,{placeholder:r.nominalValue.value,value:r.nominalValue.value,onChange:u=>{const d={...a},f={...s};if(f.name){const g={...r};g.nominalValue.value=u.target.value;const p=f.hasProperties.findIndex(v=>v.name===r.name);p!=-1&&(f.hasProperties[p]=g,d[f.name]=f,c(d))}}}));break}case"IfcPropertyEnumeratedValue":{t(Ee.jsx(ea,{value:r.enumerationValues,onChange:u=>{const d={...a},f={...s};if(f.name){const g={...r};g.enumerationValues=[u];const p=f.hasProperties.findIndex(v=>v.name===r.name);p!=-1&&(f.hasProperties[p]=g,d[f.name]=f,c(d))}},data:r.enumerationReference.enumerationValues.map((u,d)=>({value:u,label:u}))}));break}default:{t(Ee.jsx(ao,{placeholder:r.name,value:"{ifcProperty.nominalValue}"}));break}}},[r,s,t,a,c]),Ee.jsxs(ki,{className:"mb-3 row",children:[Ee.jsx(Bl,{children:r.name}),Ee.jsx("div",{className:"col-sm-7",children:e})]},o.propertyIndex)}function i_(){if(console&&console.warn){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++)e[t]=arguments[t];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Rp={};function ru(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++)e[t]=arguments[t];typeof e[0]=="string"&&Rp[e[0]]||(typeof e[0]=="string"&&(Rp[e[0]]=new Date),i_(...e))}const kp=(o,e)=>()=>{if(o.isInitialized)e();else{const t=()=>{setTimeout(()=>{o.off("initialized",t)},0),e()};o.on("initialized",t)}};function Pp(o,e,t){o.loadNamespaces(e,kp(o,t))}function Op(o,e,t,r){typeof t=="string"&&(t=[t]),t.forEach(s=>{o.options.ns.indexOf(s)<0&&o.options.ns.push(s)}),o.loadLanguages(e,kp(o,r))}function s_(o,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],s=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const c=(u,d)=>{const f=e.services.backendConnector.state[`${u}|${d}`];return f===-1||f===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!c(e.isLanguageChangingTo,o)?!1:!!(e.hasResourceBundle(r,o)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||c(r,o)&&(!s||c(a,o)))}function a_(o,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(ru("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(o,{lng:t.lng,precheck:(s,a)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!a(s.isLanguageChangingTo,o))return!1}}):s_(o,e,t)}const c_=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,l_={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},u_=o=>l_[o];let d_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:o=>o.replace(c_,u_)};function h_(){return d_}let f_;function g_(){return f_}const p_=y.createContext();class m_{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const y_=(o,e)=>{const t=y.useRef();return y.useEffect(()=>{t.current=e?t.current:o},[o,e]),t.current};function Np(o,e,t,r){return o.getFixedT(e,t,r)}function C_(o,e,t,r){return y.useCallback(Np(o,e,t,r),[o,e,t,r])}function ou(o){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:r,defaultNS:s}=y.useContext(p_)||{},a=t||r||g_();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new m_),!a){ru("You will need to pass in an i18next instance by using initReactI18next");const L=(W,B)=>typeof B=="string"?B:B&&typeof B=="object"&&typeof B.defaultValue=="string"?B.defaultValue:Array.isArray(W)?W[W.length-1]:W,H=[L,{},!1];return H.t=L,H.i18n={},H.ready=!1,H}a.options.react&&a.options.react.wait!==void 0&&ru("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...h_(),...a.options.react,...e},{useSuspense:u,keyPrefix:d}=c;let f=o||s||a.options&&a.options.defaultNS;f=typeof f=="string"?[f]:f||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(f);const g=(a.isInitialized||a.initializedStoreOnce)&&f.every(L=>a_(L,a,c)),p=C_(a,e.lng||null,c.nsMode==="fallback"?f:f[0],d),v=()=>p,E=()=>Np(a,e.lng||null,c.nsMode==="fallback"?f:f[0],d),[A,b]=y.useState(v);let _=f.join();e.lng&&(_=`${e.lng}${_}`);const N=y_(_),R=y.useRef(!0);y.useEffect(()=>{const{bindI18n:L,bindI18nStore:H}=c;R.current=!0,!g&&!u&&(e.lng?Op(a,e.lng,f,()=>{R.current&&b(E)}):Pp(a,f,()=>{R.current&&b(E)})),g&&N&&N!==_&&R.current&&b(E);function W(){R.current&&b(E)}return L&&a&&a.on(L,W),H&&a&&a.store.on(H,W),()=>{R.current=!1,L&&a&&L.split(" ").forEach(B=>a.off(B,W)),H&&a&&H.split(" ").forEach(B=>a.store.off(B,W))}},[a,_]);const P=y.useRef(!0);y.useEffect(()=>{R.current&&!P.current&&b(v),P.current=!1},[a,d]);const x=[A,a,g];if(x.t=A,x.i18n=a,x.ready=g,g||!g&&!u)return x;throw new Promise(L=>{e.lng?Op(a,e.lng,f,()=>L()):Pp(a,f,()=>L())})}function v_(o){ou();const e=o.classifications,t=o.propertySets,r=o.setPropertySets,s=o.recursiveMode;function a(u,d){switch(u){case"Boolean":{const f={type:"IfcBoolean"};switch(d){case!0:case"TRUE":return f.value=!0,f;case!1:case"FALSE":return f.value=!1,f;default:return f.value=void 0,f}}case"Character":{const f={type:"default"};return d&&(f.value=d),f}case"Integer":{const f={type:"IfcInteger"};return d&&(f.value=d),f}case"Real":{const f={type:"IfcReal"};return d&&(f.value=d),f}case"String":{const f={type:"default"};return d&&(f.value=d),f}case"Time":{const f={type:"IfcDate"};return d&&(f.value=d),f}default:{const f={type:"default"};return d&&(f.value=d),f}}}function c(u){if(u.allowedValues){const d={type:"IfcPropertyEnumeratedValue",name:u.name,enumerationReference:{type:"IfcPropertyEnumeration",name:u.name,enumerationValues:u.allowedValues.map(f=>f.value)}};return u.propertyUri&&(d.specification=u.propertyUri),d}else{const d={type:"IfcPropertySingleValue",name:u.name};return u.propertyUri&&(d.specification=u.propertyUri),d.nominalValue=a(u.dataType,u.predefinedValue),d}}return y.useEffect(()=>{const u={};(s?e:e.slice(0,1)).forEach(f=>{f.classProperties&&f.classProperties.map(g=>{const p=g.propertySet||f.name;p in u||(u[p]={type:"IfcPropertySet",name:p,hasProperties:[]}),u[p].hasProperties.push(c(g))})}),r(u)},[e,r,s]),Ee.jsx("div",{children:y.Children.toArray(Object.values(t).map((u,d)=>Ee.jsx(At,{children:Ee.jsxs(At.Item,{value:u.name||d.toString(),children:[Ee.jsx(At.Control,{children:u.name}),Ee.jsx(At.Panel,{children:y.Children.toArray(u.hasProperties.map((f,g)=>Ee.jsx(o_,{propertySet:u,property:f,propertyIndex:g,propertySets:t,setPropertySets:r})))})]},d)})))})}function w_(o){return{type:"IfcClassification",source:o==null?void 0:o.organizationCodeOwner,edition:(o==null?void 0:o.version)||void 0,editionDate:(o==null?void 0:o.releaseDate)||void 0,name:o==null?void 0:o.name,location:o==null?void 0:o.uri}}function E_({callback:o,domains:e,classifications:t,propertySetMap:r,ifcEntity:s}){const{t:a}=ou();function c(){const g=s||{};t.length&&(g.hasAssociations=t.map(v=>d(v)));const p=Object.values(r);return p.length&&(g.isDefinedBy=p),g}function u(g){if(g in e){const p=e[g];if(p)return w_(p)}return null}function d(g){const p={type:"IfcClassificationReference",name:g.name};if(g.uri&&(p.location=g.uri),g.code&&(p.identification=g.code),g.dictionaryUri){const v=u(g.dictionaryUri);v&&(p.referencedSource=v)}return p}const f=()=>{o(c())};return Ee.jsx(xi,{color:"gray",fullWidth:!0,onClick:f,variant:"filled",children:a("Save")})}const xp={test:"https://test.bsdd.buildingsmart.org",production:"https://api.bsdd.buildingsmart.org"};class T_{constructor(e={}){wn(this,"baseUrl","https://api.bsdd.buildingsmart.org/");wn(this,"securityData",null);wn(this,"securityWorker");wn(this,"abortControllers",new Map);wn(this,"customFetch",(...e)=>fetch(...e));wn(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});wn(this,"setSecurityData",e=>{this.securityData=e});wn(this,"contentFormatters",{"application/json":e=>e!==null&&(typeof e=="object"||typeof e=="string")?JSON.stringify(e):e,"text/plain":e=>e!==null&&typeof e!="string"?JSON.stringify(e):e,"multipart/form-data":e=>Object.keys(e||{}).reduce((t,r)=>{const s=e[r];return t.append(r,s instanceof Blob?s:typeof s=="object"&&s!==null?JSON.stringify(s):`${s}`),t},new FormData),"application/x-www-form-urlencoded":e=>this.toQueryString(e)});wn(this,"createAbortSignal",e=>{if(this.abortControllers.has(e)){const r=this.abortControllers.get(e);return r?r.signal:void 0}const t=new AbortController;return this.abortControllers.set(e,t),t.signal});wn(this,"abortRequest",e=>{const t=this.abortControllers.get(e);t&&(t.abort(),this.abortControllers.delete(e))});wn(this,"request",async({body:e,secure:t,path:r,type:s,query:a,format:c,baseUrl:u,cancelToken:d,...f})=>{const g=(typeof t=="boolean"?t:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},p=this.mergeRequestParams(f,g),v=a&&this.toQueryString(a),E=this.contentFormatters[s||"application/json"],A=c||p.format;return this.customFetch(`${u||this.baseUrl||""}${r}${v?`?${v}`:""}`,{...p,headers:{...p.headers||{},...s&&s!=="multipart/form-data"?{"Content-Type":s}:{}},signal:(d?this.createAbortSignal(d):p.signal)||null,body:typeof e>"u"||e===null?null:E(e)}).then(async b=>{const _=b;_.data=null,_.error=null;const N=A?await b[A]().then(R=>(_.ok?_.data=R:_.error=R,_)).catch(R=>(_.error=R,_)):_;if(d&&this.abortControllers.delete(d),!b.ok)throw N;return N})});Object.assign(this,e)}encodeQueryParam(e,t){return`${encodeURIComponent(e)}=${encodeURIComponent(typeof t=="number"?t:`${t}`)}`}addQueryParam(e,t){return this.encodeQueryParam(t,e[t])}addArrayQueryParam(e,t){return e[t].map(s=>this.encodeQueryParam(t,s)).join("&")}toQueryString(e){const t=e||{};return Object.keys(t).filter(s=>typeof t[s]<"u").map(s=>Array.isArray(t[s])?this.addArrayQueryParam(t,s):this.addQueryParam(t,s)).join("&")}addQueryParams(e){const t=this.toQueryString(e);return t?`?${t}`:""}mergeRequestParams(e,t){return{...this.baseApiParams,...e,...t||{},headers:{...this.baseApiParams.headers||{},...e.headers||{},...t&&t.headers||{}}}}}/**
 * @title Dictionaries API
 * @version v1
 * @license MIT license (https://bsddprototype2020.blob.core.windows.net/public/Copyright_2020_buildingSMART_International.txt)
 * @baseUrl https://api.bsdd.buildingsmart.org/
 * @contact Support <bsdd_support@buildingsmart.org> (https://github.com/buildingSMART/bSDD)
 *
 * <p>API to access the buildingSMART Data Dictionary.</p><p>For manually uploading import files, please go to <a href="https://manage.bsdd.buildingsmart.org">bSDD Management portal</a>. Version history can be found at <a href="https://github.com/buildingSMART/bSDD/blob/master/API%20version%20history.md">Version history</a>.</p><p>If you have any questions or need further assistance, feel free to send us an e-mail</p> <p>In case you want to try out secured APIs via this swagger portal, you need to enter client ID <span style="white-space: nowrap;">b222e220-1f71-4962-9184-05e0481a390d</span>. If you create your own tool
 *   that needs to access secured APIs, please contact us via e-mail.</p>
 */class A_ extends T_{constructor(){super(...arguments);wn(this,"api",{classV1List:(t,r={})=>this.request({path:"/api/Class/v1",method:"GET",query:t,format:"json",...r}),dictionaryV1List:(t,r={})=>this.request({path:"/api/Dictionary/v1",method:"GET",query:t,format:"json",...r}),dictionaryV1ClassesList:(t,r={})=>this.request({path:"/api/Dictionary/v1/Classes",method:"GET",query:t,format:"json",...r}),dictionaryV1PropertiesList:(t,r={})=>this.request({path:"/api/Dictionary/v1/Properties",method:"GET",query:t,format:"json",...r}),dictionaryDownloadSketchupV1Create:(t,r={})=>this.request({path:"/api/DictionaryDownload/sketchup/v1",method:"POST",query:t,secure:!0,format:"json",...r}),uploadImportFileV1Create:(t,r={})=>this.request({path:"/api/UploadImportFile/v1",method:"POST",body:t,secure:!0,type:"multipart/form-data",format:"json",...r}),dictionaryV1Update:(t,r,s,a,c={})=>this.request({path:`/api/Dictionary/v1/${t}/${r}/${s}`,method:"PUT",body:a,secure:!0,type:"application/json",...c}),dictionaryV1Delete:(t,r,s,a={})=>this.request({path:`/api/Dictionary/v1/${t}/${r}/${s}`,method:"DELETE",secure:!0,...a}),dictionaryV1Delete2:(t,r,s={})=>this.request({path:`/api/Dictionary/v1/${t}/${r}`,method:"DELETE",secure:!0,...s}),propertyV4List:(t,r={})=>this.request({path:"/api/Property/v4",method:"GET",query:t,format:"json",...r}),propertyValueV2List:(t,r={})=>this.request({path:"/api/PropertyValue/v2",method:"GET",query:t,format:"json",...r}),textSearchV1List:(t,r={})=>this.request({path:"/api/TextSearch/v1",method:"GET",query:t,format:"json",...r}),searchInDictionaryV1List:(t,r={})=>this.request({path:"/api/SearchInDictionary/v1",method:"GET",query:t,format:"json",...r}),classSearchV1List:(t,r={})=>this.request({path:"/api/Class/Search/v1",method:"GET",query:t,format:"json",...r}),unitV1List:(t={})=>this.request({path:"/api/Unit/v1",method:"GET",format:"json",...t}),referenceDocumentV1List:(t={})=>this.request({path:"/api/ReferenceDocument/v1",method:"GET",format:"json",...t}),languageV1List:(t={})=>this.request({path:"/api/Language/v1",method:"GET",format:"json",...t}),countryV1List:(t={})=>this.request({path:"/api/Country/v1",method:"GET",format:"json",...t}),textSearchListOpenV6List:(t,r={})=>this.request({path:"/api/TextSearchListOpen/v6",method:"GET",query:t,format:"json",...r}),textSearchListOpenV5List:(t,r={})=>this.request({path:"/api/TextSearchListOpen/v5",method:"GET",query:t,format:"json",...r}),searchListV2List:(t,r={})=>this.request({path:"/api/SearchList/v2",method:"GET",query:t,secure:!0,format:"json",...r}),searchListOpenV2List:(t,r={})=>this.request({path:"/api/SearchListOpen/v2",method:"GET",query:t,format:"json",...r}),requestExportFilePreviewCreate:(t,r={})=>this.request({path:"/api/RequestExportFile/preview",method:"POST",query:t,secure:!0,format:"json",...r}),propertyV3List:(t,r={})=>this.request({path:"/api/Property/v3",method:"GET",query:t,format:"json",...r}),propertyV2List:(t,r={})=>this.request({path:"/api/Property/v2",method:"GET",query:t,format:"json",...r}),propertyValueV1List:(t,r={})=>this.request({path:"/api/PropertyValue/v1",method:"GET",query:t,format:"json",...r}),materialV2List:(t,r={})=>this.request({path:"/api/Material/v2",method:"GET",query:t,format:"json",...r}),materialV1List:(t,r={})=>this.request({path:"/api/Material/v1",method:"GET",query:t,format:"json",...r}),materialSearchOpenPreviewList:(t,r={})=>this.request({path:"/api/Material/SearchOpen/preview",method:"GET",query:t,format:"json",...r}),domainV3List:(t,r={})=>this.request({path:"/api/Domain/v3",method:"GET",query:t,format:"json",...r}),domainV3ClassificationsList:(t,r={})=>this.request({path:"/api/Domain/v3/Classifications",method:"GET",query:t,format:"json",...r}),domainV3Update:(t,r,s,a,c={})=>this.request({path:`/api/Domain/v3/${t}/${r}/${s}`,method:"PUT",body:a,secure:!0,type:"application/json",...c}),domainV3Delete:(t,r,s,a={})=>this.request({path:`/api/Domain/v3/${t}/${r}/${s}`,method:"DELETE",secure:!0,...a}),domainV3Delete2:(t,r,s={})=>this.request({path:`/api/Domain/v3/${t}/${r}`,method:"DELETE",secure:!0,...s}),domainV2List:(t,r={})=>this.request({path:"/api/Domain/v2",method:"GET",query:t,format:"json",...r}),domainV2ClassificationsList:(t,r={})=>this.request({path:"/api/Domain/v2/Classifications",method:"GET",query:t,format:"json",...r}),classificationV4List:(t,r={})=>this.request({path:"/api/Classification/v4",method:"GET",query:t,format:"json",...r}),classificationV3List:(t,r={})=>this.request({path:"/api/Classification/v3",method:"GET",query:t,format:"json",...r}),classificationSearchOpenV1List:(t,r={})=>this.request({path:"/api/ClassificationSearchOpen/v1",method:"GET",query:t,format:"json",...r})})}}class Mp extends A_{constructor(e){super({baseUrl:e})}}function Lp({callback:o,config:e,msalInstance:t}){const{t:r}=ou(),[s,a]=y.useState(),[c,u]=y.useState(!1),[d,f]=y.useState(x()),[g,p]=y.useState({}),[v,E]=y.useState([]),[A,b]=y.useState({}),[_,N]=y.useState(""),[R,P]=y.useState(new Mp("https://test.bsdd.buildingsmart.org"));y.useEffect(()=>{const H=e.baseUrl&&xp[e.baseUrl]?xp[e.baseUrl]:"https://test.bsdd.buildingsmart.org";P(new Mp(H))},[e]);function x(){return e&&e.defaultDomains&&e.defaultDomains.length?e.defaultDomains:[]}const L={headers:{Accept:"text/plain"}};return _!==""&&(L.headers={...L.headers,Authorization:"Bearer "+_}),y.useEffect(()=>{(async()=>{try{const B=(await R.api.dictionaryV1List(void 0,L)).data.dictionaries;if(B){const Q=B.filter(pe=>pe.uri&&pe.name).map(pe=>({value:pe.uri,label:pe.name})),re=B.reduce((pe,se)=>se.uri?{...pe,[se.uri]:se}:pe,{});p(re)}}catch(W){console.error("Failed to fetch dictionaries:",W)}})()},[R,p,_]),Ee.jsx(TE,{instance:t,children:Ee.jsxs(nu,{children:[Ee.jsx(ao,{type:"hidden",name:"ifcType",id:"ifcType",value:""}),Ee.jsx(ao,{type:"hidden",name:"name",id:"name",value:""}),Ee.jsx(ao,{type:"hidden",name:"material",id:"material",value:""}),Ee.jsx(ki,{mx:"md",mt:"lg",mb:"sm",children:Ee.jsx(e_,{api:R,activeDomains:d,defaultValue:e==null?void 0:e.defaultSearch,setActiveClassificationUri:a,accessToken:_})}),Ee.jsxs(At,{defaultValue:["Classifications"],multiple:!0,children:[Ee.jsxs(At.Item,{value:"Classifications",children:[Ee.jsx(At.Control,{children:Ee.jsx(ta,{order:5,children:r("Classifications")})}),Ee.jsx(At.Panel,{children:Ee.jsx(n_,{api:R,activeClassificationUri:s,setClassifications:E,domains:g,accessToken:_})})]},"Classifications"),Ee.jsxs(At.Item,{value:"Propertysets",children:[Ee.jsx(At.Control,{children:Ee.jsx(ta,{order:5,children:r("Propertysets")})}),Ee.jsx(At.Panel,{children:Ee.jsx(v_,{classifications:v,propertySets:A,setPropertySets:b,recursiveMode:c})})]},"Propertysets")]}),Ee.jsxs(ki,{my:"sm",justify:"center",children:[Ee.jsx(E_,{callback:o,domains:g,classifications:v,propertySetMap:A,ifcEntity:e.ifcEntity}),Ee.jsx(xi,{fullWidth:!0,variant:"light",color:"gray",children:r("Cancel")})]})]})})}const Dp=new tl(CE);function b_(o,e,t){li.createRoot(o).render(Ee.jsx(y.StrictMode,{children:Ee.jsx(Lp,{callback:e,config:t,msalInstance:Dp})}))}xt.default=Lp,xt.insertBsddSearch=b_,xt.msalInstance=Dp,Object.defineProperties(xt,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
